"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(b){function q(){}function x(){}function A(){}function r(){}function m(){}function y(a,b){if(a)return a.$$const[b]}function p(a,b){var c,h,e;if(null!=a)for(e=g.ancestors(a),c=0,h=e.length;c<h;c++)if(e[c].$$const&&d.call(e[c].$$const,b))return e[c].$$const[b]}function B(a,b,c){if(!c)return(a||f).$const_missing(b)}function a(a,b){var c,d,e=b.$instance_methods();for(c=e.length-1;0<=c;c--)d="$"+e[c],g.bridge_method(a,b,d,b.$$proto[d])}var h=this,w;"undefined"!==typeof global&&
(h=global);"undefined"!==typeof window&&(h=window);w="object"===typeof h.console?h.console:null==h.console?h.console={}:{};"log"in w||(w.log=function(){});"warn"in w||(w.warn=w.log);if("undefined"!==typeof this.Opal)return w.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var F,v,f,e,k,g=this.Opal={},c={};g.global=h;h.Opal=g;g.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var d=Object.hasOwnProperty;
g.slice=Array.prototype.slice;var D=4;g.uid=function(){return D+=2};g.id=function(a){return a.$$is_number?2*a+1:a.$$id||(a.$$id=g.uid())};g.gvars={};g.exit=function(a){g.gvars.DEBUG&&w.log("Exited with status "+a)};g.exceptions=[];g.pop_exception=function(){g.gvars["!"]=g.exceptions.pop()||F};g.inspect=function(a){return a===b?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};g.truthy=function(a){return a!==F&&null!=a&&(!a.$$is_boolean||1==a)};g.falsy=function(a){return a===F||null==
a||a.$$is_boolean&&0==a};g.const_get_local=function(a,b,c){var d;if(null!=a){"::"===a&&(a=f);if(!a.$$is_a_module)throw new g.TypeError(a.toString()+" is not a class/module");d=y(a,b);if(null!=d)return d;d=B(a,b,c);if(null!=d)return d}};g.const_get_qualified=function(a,b,c){var d,e,h=g.const_cache_version;if(null!=a){"::"===a&&(a=f);if(!a.$$is_a_module)throw new g.TypeError(a.toString()+" is not a class/module");null==(e=a.$$const_cache)&&(e=a.$$const_cache=Object.create(null));d=e[b];null==d||d[0]!==
h?(null!=(d=y(a,b))||null!=(d=p(a,b)),e[b]=[h,d]):d=d[1];return null!=d?d:B(a,b,c)}};g.const_cache_version=1;g.const_get_relative=function(a,b,c){var d=a[0],e,h=g.const_cache_version,t;null==(t=a.$$const_cache)&&(t=a.$$const_cache=Object.create(null));e=t[b];if(null==e||e[0]!==h){var k;if(!(k=null!=(e=y(d,b)))){a:{var w;if(0!==a.length)for(e=0,k=a.length;e<k;e++)if(w=a[e].$$const[b],null!=w){a=w;break a}a=void 0}k=null!=(e=a)}k||null!=(e=p(d,b))||(a=null==d||d.$$is_module?p(f,b):void 0,null!=(e=a));
t[b]=[h,e]}else e=e[1];return null!=e?e:B(d,b,c)};g.const_set=function(a,b,c){if(null==a||"::"===a)a=f;if(c.$$is_a_module){if(null==c.$$name||c.$$name===F)c.$$name=b;null==c.$$base_module&&(c.$$base_module=a)}a.$$const=a.$$const||Object.create(null);a.$$const[b]=c;g.const_cache_version++;a===f&&(g[b]=c);return c};g.constants=function(a,b){null==b&&(b=!0);var c,d=[a],e,h,t={},k;b&&(d=d.concat(g.ancestors(a)));b&&a.$$is_module&&(d=d.concat([g.Object]).concat(g.ancestors(g.Object)));e=0;for(h=d.length;e<
h;e++){c=d[e];if(a!==f&&c==f)break;for(k in c.$$const)t[k]=!0}return Object.keys(t)};g.const_remove=function(a,b){g.const_cache_version++;if(null!=a.$$const[b]){var c=a.$$const[b];delete a.$$const[b];return c}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],F;throw g.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};g.klass=function(a,b,c,d){var e,h;null==a&&(a=f);a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof b&&(h=b,b=f);if(e=y(a,c)){if(!e.$$is_class)throw g.TypeError.$new(c+
" is not a class");if(b&&e.$$super!==b)throw g.TypeError.$new("superclass mismatch for class "+c);return e}null==b&&(b=f);d=h||g.boot_class_alloc(c,d,b);e=g.setup_class_object(c,d,b.$$name,b.constructor);e.$$super=b;e.$$parent=b;g.const_set(a,c,e);a[c]=e;h?g.bridge(e,d):b.$inherited&&b.$inherited(e);return e};g.boot_class_alloc=function(a,b,c){if(c){var d=function(){};d.prototype=c.$$proto||c.prototype;b.prototype=new d}a&&(b.displayName=a+"_alloc");return b.prototype.constructor=b};g.setup_module_or_class=
function(a){a.$$id=g.uid();a.$$is_a_module=!0;a.$$inc=[];a.$$name=F;a.$$const=Object.create(null);a.$$cvars=Object.create(null)};g.setup_class_object=function(a,b,c,d){var e=function(){};e.prototype=d.prototype;e.displayName=c;c=function(){};c.prototype=new e;e=new c;g.setup_module_or_class(e);e.$$alloc=b;e.$$name=a||F;c.displayName="#<Class:"+(a||"#<Class:"+e.$$id+">")+">";e.$$proto=b.prototype;e.$$proto.$$class=e;e.constructor=c;e.$$is_class=!0;e.$$class=k;return e};g.module=function(a,b){var c;
null==a&&(a=f);a.$$is_class||a.$$is_module||(a=a.$$class);c=y(a,b);null==c&&a===f&&(c=p(f,b));if(c){if(!c.$$is_module&&c!==f)throw g.TypeError.$new(b+" is not a module");}else c=g.module_allocate(e),g.const_set(a,b,c);return c};g.module_initialize=function(a,b){if(b!==F){var c=b.$$s;b.$$s=null;b.call(a);b.$$s=c}return F};g.module_allocate=function(a){var b=function(){};b.prototype=a.$$alloc.prototype;var c=function(){};c.prototype=new b;b=new c;g.setup_module_or_class(b);b.$$included_in=[];c.displayName=
"#<Class:#<Module:"+b.$$id+">>";b.$$proto={};b.constructor=c;b.$$is_module=!0;b.$$class=e;b.$$super=a;b.$$parent=a;return b};g.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?g.build_class_singleton_class(a):g.build_object_singleton_class(a)};g.build_class_singleton_class=function(a){var b,c;if(a.$$meta)return a.$$meta;b=a.constructor;c=a===v?k:g.build_class_singleton_class(a.$$super);b=g.setup_class_object(null,b,c.$$name,c.constructor);b.$$super=c;b.$$parent=
c;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b};g.build_object_singleton_class=function(a){var b=a.$$class,c="#<Class:#<"+b.$$name+":"+b.$$id+">>",d=g.boot_class_alloc(c,function(){},b),c=g.setup_class_object(c,d,b.$$name,b.constructor);c.$$super=b;c.$$parent=b;c.$$class=b.$$class;c.$$proto=a;c.$$is_singleton=!0;c.$$singleton_of=a;return a.$$meta=c};g.class_variables=function(a){a=g.ancestors(a);var b,c={};for(b=a.length-1;0<=b;b--){var d=a[b],e;for(e in d.$$cvars)c[e]=d.$$cvars[e]}return c};
g.class_variable_set=function(a,b,c){var e=g.ancestors(a),h;for(h=e.length-2;0<=h;h--){var f=e[h];if(d.call(f.$$cvars,b))return f.$$cvars[b]=c}return a.$$cvars[b]=c};g.bridge_method=function(a,b,c,e){var h,f,g,k;h=a.$$bridge.$ancestors();f=0;for(k=h.length;f<k;f++){g=h[f];if(d.call(g.$$proto,c)&&g.$$proto[c]&&!g.$$proto[c].$$donated&&!g.$$proto[c].$$stub&&g!==b)break;if(g===b){a.prototype[c]=e;break}}};g.bridge_methods=function(b,l){var d,e=c[b.$__id__()];d=l.$__id__();if(e)for(c[d]=e.slice(),d=e.length-
1;0<=d;d--)a(e[d],l)};g.has_cyclic_dep=function l(a,b,c,d){var e,h,f;for(e=b.length-1;0<=e;e--)if(f=b[e],h=f.$$id,!d[h]&&(d[h]=!0,h===a||l(a,f[c],c,d)))return!0;return!1};g.append_features=function(a,b){var c,d;for(d=b.$$inc.length-1;0<=d;d--)if(b.$$inc[d]===a)return;if(!b.$$is_class&&g.has_cyclic_dep(b.$$id,[a],"$$inc",{}))throw g.ArgumentError.$new("cyclic include detected");g.const_cache_version++;b.$$inc.push(a);a.$$included_in.push(b);g.bridge_methods(b,a);b.$$parent={$$name:a.$$name,$$proto:a.$$proto,
$$parent:b.$$parent,$$module:a,$$iclass:!0};c=a.$instance_methods();for(d=c.length-1;0<=d;d--)g.update_includer(a,b,"$"+c[d])};g.stubs={};g.bridge=function(b,d){if(d.$$bridge)throw g.ArgumentError.$new("already bridged");g.stub_subscribers.push(d.prototype);for(var e in g.stubs)e in d.prototype||(d.prototype[e]=g.stub_for(e));d.prototype.$$class=b;d.$$bridge=b;e=b.$ancestors();for(var h=e.length-1;0<=h;h--){var f=d,k=e[h].$__id__();c[k]||(c[k]=[]);c[k].push(f);a(d,e[h])}for(var w in q.prototype){var C=
q.prototype[C];!C||!C.$$stub||w in d.prototype||(d.prototype[w]=C)}return b};g.update_includer=function(a,b,c){var d,e,h,f,k,w,F,D;h=a.$$proto[c];d=b.$$proto;e=d[c];if(!d.hasOwnProperty(c)||e.$$donated||e.$$stub)if(d.hasOwnProperty(c)&&!e.$$stub){f=b.$$inc;k=0;for(w=f.length;k<w;k++)f[k]===e.$$donated&&(F=k),f[k]===a&&(D=k);F<=D&&(d[c]=h,d[c].$$donated=a)}else d[c]=h,d[c].$$donated=a;b.$$included_in&&g.update_includers(b,c)};g.update_includers=function(a,b){var c,d,e,h;if(h=a.$$included_in)for(c=
0,d=h.length;c<d;c++)e=h[c],g.update_includer(a,e,b)};g.ancestors=function(a){for(var b=[],c,d,e,h;a;){b.push(a);for(d=a.$$inc.length-1;0<=d;d--)for(c=g.ancestors(a.$$inc[d]),e=0,h=c.length;e<h;e++)b.push(c[e]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return b};g.add_stubs=function(a){var b,c=g.stub_subscribers,d,e=a.length,h,f=c.length,k,w,F=g.stubs;for(d=0;d<e;d++)if(k=a[d],!F.hasOwnProperty(k))for(F[k]=!0,w=g.stub_for(k),h=0;h<f;h++)b=
c[h],k in b||(b[k]=w)};g.stub_subscribers=[q.prototype];g.add_stub_for=function(a,b){var c=g.stub_for(b);a[b]=c};g.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;b.$$p=null;for(var c=Array(arguments.length),d=0,e=c.length;d<e;d++)c[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(c))}b.$$stub=!0;return b};g.ac=function(a,b,c,d){var e="",e=c.$$is_class||c.$$is_module?e+(c.$$name+"."):e+(c.$$class.$$name+"#");throw g.ArgumentError.$new("["+(e+d)+"] wrong number of arguments("+
a+" for "+b+")");};g.block_ac=function(a,b,c){throw g.ArgumentError.$new("`block in "+c+"': wrong number of arguments ("+a+" for "+b+")");};g.find_super_dispatcher=function(a,b,c,d,e){c=(e?a.$$is_class||a.$$is_module?e.$$super:a.$$class.$$proto:g.find_obj_super_dispatcher(a,b,c))["$"+b];if(!d&&c.$$stub&&g.Kernel.$method_missing===a.$method_missing)throw g.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return c};g.find_iter_super_dispatcher=function(a,b,c,d,e){if(!c)throw g.RuntimeError.$new("super called outside of method");
if(e&&c.$$define_meth)throw g.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");c.$$def&&(b=c.$$jsid);return g.find_super_dispatcher(a,b,c,d)};g.find_obj_super_dispatcher=function(a,b,c){a=a.$$meta||a.$$class;a=g.find_owning_class(a,c);if(!a)throw Error("could not find current class for super()");return g.find_super_func(a,"$"+b,c)};g.find_owning_class=function(a,b){for(var c=b.$$owner;!(!a||a.$$iclass&&
a.$$module===b.$$donated||a.$$iclass&&a.$$module===c||c.$$is_singleton&&a===c.$$singleton_of.$$class)&&a!==c;)a=a.$$parent;return a};g.find_super_func=function(a,b,c){for(a=a.$$parent;a;){var d=a.$$proto[b];if(d&&d!==c)break;a=a.$$parent}return a.$$proto};g.ret=function(a){g.returner.$v=a;throw g.returner;};g.brk=function(a,b){b.$v=a;throw b;};g.new_brk=function(){return Error("unexpected break")};g.yield1=function(a,b){if("function"!==typeof a)throw g.LocalJumpError.$new("no block given");var c=
a.$$has_top_level_mlhs_arg,d=a.$$has_trailing_comma_in_args;if(1<a.length||(c||d)&&1===a.length)b=g.to_ary(b);return(1<a.length||d&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};g.yieldX=function(a,b){if("function"!==typeof a)throw g.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var c=Array(b.length),d=0,e=c.length;d<e;d++)c[d]=b[d];return a.apply(null,c)}return a.apply(null,b)};g.rescue=function(a,b){for(var c=
0;c<b.length;c++){var d=b[c];if(d.$$is_array){if(d=g.rescue(a,d))return d}else if(d===g.JS.Error||d["$==="](a))return d}return null};g.is_a=function(a,b){if(a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var c,d,e=g.ancestors(a.$$is_class?g.get_singleton_class(a):a.$$meta||a.$$class);c=0;for(d=e.length;c<d;c++)if(e[c]===b)return!0;return!1};g.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw g.TypeError.$new("Can't convert "+
a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw g.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};g.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===F)return[a];if(b.$$is_array)return b;throw g.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};g.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();
if(b===F)return[a];if(b.$$is_array)return b;throw g.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};g.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),b.$to_hash()):g.hash2([],{})};g.kwrestargs=function(a,b){var c=[],d={},e=null,h=a.$$smap;for(e in h)b[e]||(c.push(e),d[e]=h[e]);return g.hash2(c,d)};g.send=function(a,b,c,d){var e="string"===typeof b?
a["$"+b]:b;return null!=e?(e.$$p=d,e.apply(a,c)):a.$method_missing.apply(a,[b].concat(c))};g.def=function(a,b,c){a.$$eval||!a.$$is_class&&!a.$$is_module?g.defs(a,b,c):g.defn(a,b,c)};g.defn=function(a,b,d){a.$$proto[b]=d;d.$$owner=a;a.$$is_module&&(g.update_includers(a,b),a.$$module_function&&g.defs(a,b,d));var e=a.$__id__&&!a.$__id__.$$stub&&c[a.$__id__()];if(e)for(var h=e.length-1;0<=h;h--)g.bridge_method(e[h],a,b,d);d=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||d?d&&d.$singleton_method_added&&
!d.$singleton_method_added.$$stub&&d.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1));return F};g.defs=function(a,b,c){g.defn(g.get_singleton_class(a),b,c)};g.rdef=function(a,b){if(!d.call(a.$$proto,b))throw g.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$proto[b];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&
a.$method_removed(b.substr(1))};g.udef=function(a,b){if(!a.$$proto[b]||a.$$proto[b].$$stub)throw g.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());g.add_stub_for(a.$$proto,b);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(b.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};g.alias=function(a,b,c){var d="$"+b,e="$"+c,h=a.$$proto["$"+c],f;if(a.$$eval)return g.alias(g.get_singleton_class(a),
b,c);if("function"!==typeof h||h.$$stub){for(var k=a.$$super;"function"!==typeof h&&k;)h=k[e],k=k.$$super;if("function"!==typeof h||h.$$stub)throw g.NameError.$new("undefined method `"+c+"' for class `"+a.$name()+"'");}h.$$alias_of&&(h=h.$$alias_of);f=function(){var a=f.$$p,b,c,d;b=Array(arguments.length);c=0;for(d=arguments.length;c<d;c++)b[c]=arguments[c];null!=a&&(f.$$p=null);return g.send(this,h,b,a)};f.displayName=b;f.length=h.length;f.$$arity=h.$$arity;f.$$parameters=h.$$parameters;f.$$source_location=
h.$$source_location;f.$$alias_of=h;f.$$alias_name=b;g.defn(a,d,f);return a};g.alias_native=function(a,b,c){b="$"+b;var d=a.$$proto[c];if("function"!==typeof d||d.$$stub)throw g.NameError.$new("undefined native method `"+c+"' for class `"+a.$name()+"'");g.defn(a,b,d);return a};g.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};g.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;for(var c=0,d=a.$$keys,e=a.$$smap,h=d.length,f,k;c<h;c++)f=d[c],f.$$is_string?
k=e[f]:(k=f.value,f=f.key),g.hash_put(b,f,k)};g.hash_put=function(a,c,e){if(c.$$is_string)d.call(a.$$smap,c)||a.$$keys.push(c),a.$$smap[c]=e;else{var h,f,k;h=a.$$by_identity?g.id(c):c.$hash();if(d.call(a.$$map,h)){for(f=a.$$map[h];f;){if(c===f.key||c["$eql?"](f.key)){k=b;f.value=e;break}k=f;f=f.next}k&&(f={key:c,key_hash:h,value:e},a.$$keys.push(f),k.next=f)}else f={key:c,key_hash:h,value:e},a.$$keys.push(f),a.$$map[h]=f}};g.hash_get=function(a,b){if(b.$$is_string){if(d.call(a.$$smap,b))return a.$$smap[b]}else{var c;
c=a.$$by_identity?g.id(b):b.$hash();if(d.call(a.$$map,c))for(c=a.$$map[c];c;){if(b===c.key||b["$eql?"](c.key))return c.value;c=c.next}}};g.hash_delete=function(a,b){var c,e=a.$$keys,h=e.length,f;if(b.$$is_string){if(!d.call(a.$$smap,b))return;for(c=0;c<h;c++)if(e[c]===b){e.splice(c,1);break}f=a.$$smap[b];delete a.$$smap[b];return f}var g=b.$hash();if(d.call(a.$$map,g))for(var k=a.$$map[g],w;k;){if(b===k.key||b["$eql?"](k.key)){f=k.value;for(c=0;c<h;c++)if(e[c]===k){e.splice(c,1);break}w&&k.next?w.next=
k.next:w?delete w.next:k.next?a.$$map[g]=k.next:delete a.$$map[g];return f}w=k;k=k.next}};g.hash_rehash=function(a){for(var c=0,e=a.$$keys.length,h,f,g;c<e;c++)if(!a.$$keys[c].$$is_string&&(h=a.$$keys[c].key.$hash(),h!==a.$$keys[c].key_hash)){f=a.$$map[a.$$keys[c].key_hash];for(g=b;f;){if(f===a.$$keys[c]){g&&f.next?g.next=f.next:g?delete g.next:f.next?a.$$map[a.$$keys[c].key_hash]=f.next:delete a.$$map[a.$$keys[c].key_hash];break}g=f;f=f.next}a.$$keys[c].key_hash=h;if(d.call(a.$$map,h)){f=a.$$map[h];
for(g=b;f;){if(f===a.$$keys[c]){g=b;break}g=f;f=f.next}g&&(g.next=a.$$keys[c])}else a.$$map[h]=a.$$keys[c]}};g.hash=function(){var a=arguments.length,b,c,e,h,f;if(1===a&&arguments[0].$$is_hash)return arguments[0];b=new g.Hash.$$alloc;g.hash_init(b);if(1===a&&arguments[0].$$is_array){a=arguments[0];e=a.length;for(c=0;c<e;c++){if(2!==a[c].length)throw g.ArgumentError.$new("value not of length 2: "+a[c].$inspect());h=a[c][0];f=a[c][1];g.hash_put(b,h,f)}return b}if(1===a){a=arguments[0];for(h in a)d.call(a,
h)&&(f=a[h],g.hash_put(b,h,f));return b}if(0!==a%2)throw g.ArgumentError.$new("odd number of arguments for Hash");for(c=0;c<a;c+=2)h=arguments[c],f=arguments[c+1],g.hash_put(b,h,f);return b};g.hash2=function(a,b){var c=new g.Hash.$$alloc;c.$$smap=b;c.$$map=Object.create(null);c.$$keys=a;return c};g.range=function(a,b,c){var d=new g.Range.$$alloc;d.begin=a;d.end=b;d.excl=c;return d};g.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===
a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};g.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};g.modules={};g.loaded_features=["corelib/runtime"];g.current_dir=".";g.require_table={"corelib/runtime":!0};g.normalize=function(a){var b,c=[];"."!==g.current_dir&&(a=g.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=
0,e=a.length;d<e;d++)b=a[d],""!==b&&(".."===b?c.pop():c.push(b));return c.join("/")};g.loaded=function(a){var b,c,d;b=0;for(c=a.length;b<c;b++){d=g.normalize(a[b]);if(g.require_table[d])break;g.loaded_features.push(d);g.require_table[d]=!0}};g.load=function(a){a=g.normalize(a);g.loaded([a]);var b=g.modules[a];if(b)b(g);else if(b=g.config.missing_require_severity,a="cannot load such file -- "+a,"error"===b)if(g.LoadError)g.LoadError.$new(a);else throw a;else"warning"===b&&w.warn("WARNING: LoadError: "+
a);return!0};g.require=function(a){a=g.normalize(a);return g.require_table[a]?!1:g.load(a)};g.boot_class_alloc("BasicObject",q);g.boot_class_alloc("Object",x,q);g.boot_class_alloc("Module",r,x);g.boot_class_alloc("Class",A,r);g.BasicObject=v=g.setup_class_object("BasicObject",q,"Class",A);g.Object=f=g.setup_class_object("Object",x,"BasicObject",v.constructor);g.Module=e=g.setup_class_object("Module",r,"Object",f.constructor);g.Class=k=g.setup_class_object("Class",A,"Module",e.constructor);v.$$const.BasicObject=
v;g.const_set(f,"BasicObject",v);g.const_set(f,"Object",f);g.const_set(f,"Module",e);g.const_set(f,"Class",k);v.$$class=k;f.$$class=k;e.$$class=k;k.$$class=k;v.$$super=null;f.$$super=v;e.$$super=f;k.$$super=e;v.$$parent=null;f.$$parent=v;e.$$parent=f;k.$$parent=e;f.$$proto.toString=function(){return this.$to_s()};f.$$proto.$require=g.require;g.top=new f.$$alloc;g.klass(f,f,"NilClass",m);F=g.nil=new m;F.$$id=4;F.call=F.apply=function(){throw g.LocalJumpError.$new("no block given");};g.breaker=Error("unexpected break (old)");
g.returner=Error("unexpected return");TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(b){var q=[],x=b.nil,A=b.module,r=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(m,q){var p=A(m,"Opal"),B=[p].concat(q),a,h,w,F,v,f,e,k,g,c,d,D,u,l;b.defs(p,"$bridge",a=function(a,c){return b.bridge(a,c)},a.$$arity=2);b.defs(p,"$type_error",
h=function(a,c,d,e){var h;null==d&&(d=x);null==e&&(e=x);return r(r(h=d)?e:h)?b.const_get_relative(B,"TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+d+" gives "+e.$class()):b.const_get_relative(B,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+c)},h.$$arity=-3);b.defs(p,"$coerce_to",w=function(a,b,c){if(r(b["$==="](a)))return a;r(a["$respond_to?"](c))||this.$raise(this.$type_error(a,b));return a.$__send__(c)},w.$$arity=3);b.defs(p,"$coerce_to!",F=function(a,
b,c){var d=x,d=this.$coerce_to(a,b,c);r(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},F.$$arity=3);b.defs(p,"$coerce_to?",v=function(a,b,c){var d=x;if(!r(a["$respond_to?"](c)))return x;d=this.$coerce_to(a,b,c);if(r(d["$nil?"]()))return x;r(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},v.$$arity=3);b.defs(p,"$try_convert",f=function(a,b,c){return r(b["$==="](a))?a:r(a["$respond_to?"](c))?a.$__send__(c):x},f.$$arity=3);b.defs(p,"$compare",e=function(a,c){var d=x,
d=a["$<=>"](c);r(d===x)&&this.$raise(b.const_get_relative(B,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return d},e.$$arity=2);b.defs(p,"$destructure",k=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),c=0,d=b.length;c<d;c++)b[c]=a[c];return b},k.$$arity=1);b.defs(p,"$respond_to?",g=function(a,b){return null!=a&&a.$$class?a["$respond_to?"](b):!1},g.$$arity=2);b.defs(p,"$inspect_obj",c=function(a){return b.inspect(a)},c.$$arity=
1);b.defs(p,"$instance_variable_name!",d=function(a){a=b.const_get_relative(B,"Opal")["$coerce_to!"](a,b.const_get_relative(B,"String"),"to_str");r(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(b.const_get_relative(B,"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},d.$$arity=1);b.defs(p,"$class_variable_name!",D=function(a){a=b.const_get_relative(B,"Opal")["$coerce_to!"](a,b.const_get_relative(B,"String"),"to_str");r(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(b.const_get_relative(B,
"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},D.$$arity=1);b.defs(p,"$const_name!",u=function(a){a=b.const_get_relative(B,"Opal")["$coerce_to!"](a,b.const_get_relative(B,"String"),"to_str");r(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(b.const_get_relative(B,"NameError"),"wrong constant name "+a);return a},u.$$arity=1);b.defs(p,"$pristine",l=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);c=Array(c);for(var e=1;e<d;e++)c[e-1]=arguments[e];for(e=
c.length-1;0<=e;e--)d=c[e],a.$$proto["$"+d].$$pristine=!0;return x},l.$$arity=-2)}(q[0],q)},Opal.modules["corelib/module"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var r=[],m=b.nil,y=b.klass,p=b.truthy,B=b.send,a=b.range,h=b.hash2;b.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $! $start_with? $to_proc $lambda $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $+ $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(w,$super,v){function f(){}w=f=y(w,$super,"Module",f);var e=[w].concat(v),k,g,c,d,D,u,l,n,S,r,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,T,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea;b.defs(w,"$allocate",k=function(){return b.module_allocate(this)},k.$$arity=0);b.defn(w,"$initialize",g=function(){var a=g.$$p,c=a||m;a&&(g.$$p=null);return b.module_initialize(this,c)},g.$$arity=0);b.defn(w,"$===",c=function(a){return p(null==a)?!1:b.is_a(a,this)},c.$$arity=1);
b.defn(w,"$<",d=function(a){p(b.const_get_relative(e,"Module")["$==="](a))||this.$raise(b.const_get_relative(e,"TypeError"),"compared with non class/module");var c,d,h;if(this===a)return!1;d=0;c=b.ancestors(this);for(h=c.length;d<h;d++)if(c[d]===a)return!0;d=0;c=b.ancestors(a);for(h=c.length;d<h;d++)if(c[d]===this)return!1;return m},d.$$arity=1);b.defn(w,"$<=",D=function(a){var b;return p(b=this["$equal?"](a))?b:q(this,a)},D.$$arity=1);b.defn(w,"$>",u=function(a){p(b.const_get_relative(e,"Module")["$==="](a))||
this.$raise(b.const_get_relative(e,"TypeError"),"compared with non class/module");return q(a,this)},u.$$arity=1);b.defn(w,"$>=",l=function(a){var b;return p(b=this["$equal?"](a))?b:x(this,a)},l.$$arity=1);b.defn(w,"$<=>",n=function(a){var c=m;if(this===a)return 0;if(!p(b.const_get_relative(e,"Module")["$==="](a)))return m;c=q(this,a);return p(c["$nil?"]())?m:p(c)?-1:1},n.$$arity=1);b.defn(w,"$alias_method",S=function(a,c){b.alias(this,a,c);return this},S.$$arity=2);b.defn(w,"$alias_native",r=function(a,
c){null==c&&(c=a);b.alias_native(this,a,c);return this},r.$$arity=-2);b.defn(w,"$ancestors",G=function(){return b.ancestors(this)},G.$$arity=0);b.defn(w,"$append_features",t=function(a){b.append_features(this,a);return this},t.$$arity=1);b.defn(w,"$attr_accessor",Z=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];B(this,"attr_reader",b.to_a(c));return B(this,"attr_writer",b.to_a(c))},Z.$$arity=-1);b.alias(w,"attr","attr_accessor");b.defn(w,"$attr_reader",
C=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=this.$$proto;for(e=c.length-1;0<=e;e--){var h=c[e],f="$"+h,h=b.ivar(h),l=function(a){return function(){return null==this[a]?m:this[a]}}(h);d[h]=m;l.$$parameters=[];l.$$arity=0;this.$$is_singleton?d.constructor.prototype[f]=l:b.defn(this,f,l)}return m},C.$$arity=-1);b.defn(w,"$attr_writer",K=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];
d=this.$$proto;for(e=c.length-1;0<=e;e--){var h=c[e],f="$"+h+"=",h=b.ivar(h),l=function(a){return function(b){return this[a]=b}}(h);l.$$parameters=[["req"]];l.$$arity=1;d[h]=m;this.$$is_singleton?d.constructor.prototype[f]=l:b.defn(this,f,l)}return m},K.$$arity=-1);b.defn(w,"$autoload",ia=function(a,c){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=c;return m},ia.$$arity=2);b.defn(w,"$class_variables",aa=function(){return Object.keys(b.class_variables(this))},
aa.$$arity=0);b.defn(w,"$class_variable_get",ta=function(a){a=b.const_get_relative(e,"Opal")["$class_variable_name!"](a);var c=b.class_variables(this)[a];null==c&&this.$raise(b.const_get_relative(e,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return c},ta.$$arity=1);b.defn(w,"$class_variable_set",M=function(a,c){a=b.const_get_relative(e,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,c)},M.$$arity=2);b.defn(w,"$class_variable_defined?",Q=function(a){a=
b.const_get_relative(e,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},Q.$$arity=1);b.defn(w,"$remove_class_variable",W=function(a){a=b.const_get_relative(e,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,a)){var c=this.$$cvars[a];delete this.$$cvars[a];return c}this.$raise(b.const_get_relative(e,"NameError").$new("cannot remove "+a+" for "+this))},W.$$arity=1);b.defn(w,"$constants",N=function(a){null==a&&(a=!0);return b.constants(this,
a)},N.$$arity=-1);b.defs(w,"$constants",P=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var c,d={},e,h;e=0;for(h=a.length;e<h;e++)for(c in a[e].$$const)d[c]=!0;return Object.keys(d)}return b.constants(this,a)},P.$$arity=-1);b.defs(w,"$nesting",ba=function(){return this.$$nesting||[]},ba.$$arity=0);b.defn(w,"$const_defined?",O=function(a,c){null==c&&(c=!0);a=b.const_get_relative(e,"Opal")["$const_name!"](a);p(a["$=~"](b.const_get_qualified(b.const_get_relative(e,"Opal"),"CONST_NAME_REGEXP")))||
this.$raise(b.const_get_relative(e,"NameError").$new("wrong constant name "+a,a));var d,h=[this],f,l;c&&(h=h.concat(b.ancestors(this)),this.$$is_module&&(h=h.concat([b.Object]).concat(b.ancestors(b.Object))));f=0;for(l=h.length;f<l;f++)if(d=h[f],null!=d.$$const[a])return!0;return!1},O.$$arity=-2);b.defn(w,"$const_get",H=function(a,c){var d;null==c&&(c=!0);a=b.const_get_relative(e,"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(p(-1!=a.indexOf("::")&&"::"!=a))return B(a.$split("::"),
"inject",[this],(d=function(a,b){null==a&&(a=m);null==b&&(b=m);return a.$const_get(b)},d.$$s=this,d.$$arity=2,d));p(a["$=~"](b.const_get_qualified(b.const_get_relative(e,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(b.const_get_relative(e,"NameError").$new("wrong constant name "+a,a));return c?b.const_get_relative([this],a):b.const_get_local(this,a)},H.$$arity=-2);b.defn(w,"$const_missing",L=function(a){var c=m;if(this.$$autoload&&(c=this.$$autoload[a]))return this.$require(c),this.$const_get(a);c=
this["$=="](b.const_get_relative(e,"Object"))?a:""+this+"::"+a;return this.$raise(b.const_get_relative(e,"NameError").$new("uninitialized constant "+c,a))},L.$$arity=1);b.defn(w,"$const_set",T=function(a,c){var d;a=b.const_get_relative(e,"Opal")["$const_name!"](a);p(p(d=a["$=~"](b.const_get_qualified(b.const_get_relative(e,"Opal"),"CONST_NAME_REGEXP"))["$!"]())?d:a["$start_with?"]("::"))&&this.$raise(b.const_get_relative(e,"NameError").$new("wrong constant name "+a,a));b.const_set(this,a,c);return c},
T.$$arity=2);b.defn(w,"$public_constant",la=function(a){return m},la.$$arity=1);b.defn(w,"$define_method",ha=function(a,c){var d,h,f=this,l=ha.$$p,g=l||m,k=m;l&&(ha.$$p=null);p(void 0===c&&g===m)&&f.$raise(b.const_get_relative(e,"ArgumentError"),"tried to create a Proc object without a block");g=p(d=g)?d:function(){k=c;return b.const_get_relative(e,"Proc")["$==="](k)?c:b.const_get_relative(e,"Method")["$==="](k)?c.$to_proc().$$unbound:b.const_get_relative(e,"UnboundMethod")["$==="](k)?B(f,"lambda",
[],(h=function(a){var d=h.$$s||this,e,f=m,f=arguments.length;e=f-0;0>e&&(e=0);e=Array(e);for(var l=0;l<f;l++)e[l-0]=arguments[l];f=c.$bind(d);return B(f,"call",b.to_a(e))},h.$$s=f,h.$$arity=-1,h)):f.$raise(b.const_get_relative(e,"TypeError"),"wrong argument type "+g.$class()+" (expected Proc/Method)")}();g.$$jsid=a;g.$$s=null;g.$$def=g;g.$$define_meth=!0;b.defn(f,"$"+a,g);return a},ha.$$arity=-2);b.defn(w,"$remove_method",na=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=
0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++)b.rdef(this,"$"+c[d]);return this},na.$$arity=-1);b.defn(w,"$singleton_class?",J=function(){return!!this.$$is_singleton},J.$$arity=0);b.defn(w,"$include",fa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var h=0;h<d;h++)c[h-0]=arguments[h];for(d=c.length-1;0<=d;d--)h=c[d],h.$$is_module||this.$raise(b.const_get_relative(e,"TypeError"),"wrong argument type "+h.$class()+" (expected Module)"),h.$append_features(this),h.$included(this);
return this},fa.$$arity=-1);b.defn(w,"$included_modules",ja=function(){var a,b=function(a){for(var c=[],d=0,e=a.$$inc.length;d<e;d++){var h=a.$$inc[d];c.push(h);c=c.concat(b(h))}return c};a=b(this);if(this.$$is_class)for(var c=this;c;c=c.$$super)a=a.concat(b(c));return a},ja.$$arity=0);b.defn(w,"$include?",Y=function(a){a.$$is_module||this.$raise(b.const_get_relative(e,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var c,d,h,f=b.ancestors(this);c=0;for(d=f.length;c<d;c++)if(h=
f[c],h===a&&h!==this)return!0;return!1},Y.$$arity=1);b.defn(w,"$instance_method",V=function(a){var c=this.$$proto["$"+a];c&&!c.$$stub||this.$raise(b.const_get_relative(e,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return b.const_get_relative(e,"UnboundMethod").$new(this,c.$$owner||this,c,a)},V.$$arity=1);b.defn(w,"$instance_methods",ea=function(a){null==a&&(a=!0);var c,d=[],e=this.$$proto,h;for(h in e)if("$"===h.charAt(0)&&"$"!==h.charAt(1)&&(c=e[h],"function"===
typeof c&&!c.$$stub)){if(!this.$$is_module){if(this!==b.BasicObject&&c===b.BasicObject.$$proto[h])continue;if(!a&&!e.hasOwnProperty(h))continue;if(!a&&c.$$donated)continue}d.push(h.substr(1))}return d},ea.$$arity=-1);b.defn(w,"$included",sa=function(a){return m},sa.$$arity=1);b.defn(w,"$extended",pa=function(a){return m},pa.$$arity=1);b.defn(w,"$method_added",ua=function(a){return m},ua.$$arity=-1);b.defn(w,"$method_removed",ga=function(a){return m},ga.$$arity=-1);b.defn(w,"$method_undefined",ka=
function(a){return m},ka.$$arity=-1);b.defn(w,"$module_eval",oa=function(c){var d,f,l,g=oa.$$p,k=g||m,w=m,n=l=l=l=m,w=arguments.length;l=w-0;0>l&&(l=0);l=Array(l);for(var t=0;t<w;t++)l[t-0]=arguments[t];g&&(oa.$$p=null);p(p(d=k["$nil?"]())?!!b.compile:d)?(p(a(1,3,!1)["$cover?"](l.$size()))||b.const_get_relative(e,"Kernel").$raise(b.const_get_relative(e,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(l)),w=null==d[0]?m:d[0],l=null==d[1]?m:d[1],d,l=h(["file","eval"],{file:p(d=
l)?d:"(eval)",eval:!0}),l=b.hash({arity_check:!1}).$merge(l),n=b.const_get_relative(e,"Opal").$compile(w,l),k=B(b.const_get_relative(e,"Kernel"),"proc",[],(f=function(){return function(a){return eval(n)}(f.$$s||this)},f.$$s=this,f.$$arity=0,f))):p(x(l.$size(),0))&&b.const_get_relative(e,"Kernel").$raise(b.const_get_relative(e,"ArgumentError"),A("wrong number of arguments ("+l.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"));
d=k.$$s;k.$$s=null;g=k.apply(this,[this]);k.$$s=d;return g},oa.$$arity=-1);b.alias(w,"class_eval","module_eval");b.defn(w,"$module_exec",ra=function(a){var c,d=ra.$$p,h=d||m,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var l=0;l<f;l++)c[l-0]=arguments[l];d&&(ra.$$p=null);h===m&&this.$raise(b.const_get_relative(e,"LocalJumpError"),"no block given");d=h.$$s;h.$$s=null;c=h.apply(this,c);h.$$s=d;return c},ra.$$arity=-1);b.alias(w,"class_exec","module_exec");b.defn(w,"$method_defined?",R=function(a){a=
this.$$proto["$"+a];return!!a&&!a.$$stub},R.$$arity=1);b.defn(w,"$module_function",z=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(0===c.length)this.$$module_function=!0;else for(d=0,e=c.length;d<e;d++){var h="$"+c[d];b.defs(this,h,this.$$proto[h])}return this},z.$$arity=-1);b.defn(w,"$name",ca=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],c=this;c;){if(c.$$name===m||null==c.$$name)return m;a.unshift(c.$$name);c=c.$$base_module;
if(c===b.Object)break}return 0===a.length?m:this.$$full_name=a.join("::")},ca.$$arity=0);b.defn(w,"$remove_const",qa=function(a){return b.const_remove(this,a)},qa.$$arity=1);b.defn(w,"$to_s",Aa=function(){var a;return p(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Aa.$$arity=0);b.defn(w,"$undef_method",xa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++)b.udef(this,
"$"+c[d]);return this},xa.$$arity=-1);b.defn(w,"$instance_variables",ya=function(){var a=m,a=(b.Module.$$nesting=e,this.$constants()),c=[],d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&"constructor"!==d&&!a["$include?"](d)&&c.push("@"+d);return c},ya.$$arity=0);b.defn(w,"$dup",za=function(){var a=za.$$p,c=m,d=c=m,e=m;a&&(za.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];c=B(this,b.find_super_dispatcher(this,"dup",za,!1),c,a);c.$copy_class_variables(this);c.$copy_constants(this);
return c},za.$$arity=0);b.defn(w,"$copy_class_variables",Ca=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},Ca.$$arity=1);return(b.defn(w,"$copy_constants",Ea=function(a){var c;a=a.$$const;for(c in a)b.const_set(this,c,a[c])},Ea.$$arity=1),m)&&"copy_constants"}(r[0],null,r)},Opal.modules["corelib/class"]=function(b){var q=b.top,x=[],A=b.nil,r=b.klass,m=b.send;b.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]);q.$require("corelib/module");return function(q,$super,
B){function a(){}q=a=r(q,$super,"Class",a);var h=[q].concat(B),w,F,v,f,e,k,g;b.defs(q,"$new",w=function(a){var d=w.$$p,e=d||A;null==a&&(a=b.const_get_relative(h,"Object"));d&&(w.$$p=null);if(!a.$$is_class)throw b.TypeError.$new("superclass must be a Class");d=b.boot_class_alloc(null,function(){},a);d=b.setup_class_object(null,d,a.$$name,a.constructor);d.$$super=a;d.$$parent=a;a.$inherited(d);b.module_initialize(d,e);return d},w.$$arity=-1);b.defn(q,"$allocate",F=function(){var a=new this.$$alloc;
a.$$id=b.uid();return a},F.$$arity=0);b.defn(q,"$inherited",v=function(a){return A},v.$$arity=1);b.defn(q,"$initialize_dup",f=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},f.$$arity=1);b.defn(q,"$new",e=function(a){var d,h=e.$$p,f=h||A,l=arguments.length;d=l-0;0>d&&(d=0);d=Array(d);for(var g=0;g<l;g++)d[g-0]=arguments[g];h&&(e.$$p=null);h=this.$allocate();b.send(h,h.$initialize,d,f);return h},e.$$arity=-1);b.defn(q,"$superclass",k=function(){return this.$$super||A},k.$$arity=
0);return(b.defn(q,"$to_s",g=function(){g.$$p&&(g.$$p=null);var a=this.$$singleton_of;return a&&(a.$$is_class||a.$$is_module)?"#<Class:"+a.$name()+">":a?"#<Class:#<"+a.$$class.$name()+":0x"+b.id(a).$to_s(16)+">>":m(this,b.find_super_dispatcher(this,"to_s",g,!1),[],null)},g.$$arity=0),A)&&"to_s"}(x[0],null,x)},Opal.modules["corelib/basic_object"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var x=[],A=b.nil,r=b.klass,m=b.truthy,y=b.range,p=b.hash2,B=b.send;
b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $> $new $inspect".split(" "));return function(a,$super,w){function F(){}a=F=r(a,$super,"BasicObject",F);[a].concat(w);var v,f,e,k,g,c,d,D,u,l,n,S,da;b.defn(a,"$initialize",v=function(a){return A},v.$$arity=-1);b.defn(a,"$==",f=function(a){return this===a},f.$$arity=1);b.defn(a,"$eql?",e=function(a){return this["$=="](a)},e.$$arity=1);b.alias(a,"equal?","==");b.defn(a,"$__id__",k=function(){return this.$$id||(this.$$id=b.uid())},
k.$$arity=0);b.defn(a,"$__send__",g=function(a,b){var c,d=g.$$p,e=d||A,f=arguments.length;c=f-1;0>c&&(c=0);c=Array(c);for(var l=1;l<f;l++)c[l-1]=arguments[l];d&&(g.$$p=null);if(d=this["$"+a])return e!==A&&(d.$$p=e),d.apply(this,c);e!==A&&(this.$method_missing.$$p=e);return this.$method_missing.apply(this,[a].concat(c))},g.$$arity=-2);b.defn(a,"$!",c=function(){return!1},c.$$arity=0);b.defn(a,"$!=",d=function(a){return this["$=="](a)["$!"]()},d.$$arity=1);b.alias(a,"equal?","==");b.defn(a,"$instance_eval",
D=function(a){var c,d,e,f=D.$$p,l=f||A,g=A,k=e=e=e=A,g=arguments.length;e=g-0;0>e&&(e=0);e=Array(e);for(var w=0;w<g;w++)e[w-0]=arguments[w];f&&(D.$$p=null);m(m(c=l["$nil?"]())?!!b.compile:c)?(m(y(1,3,!1)["$cover?"](e.$size()))||b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),c=[].concat(b.to_a(e)),g=null==c[0]?A:c[0],e=null==c[1]?A:c[1],c,e=p(["file","eval"],{file:m(c=e)?c:"(eval)",eval:!0}),e=b.hash({arity_check:!1}).$merge(e),
k=b.const_get_qualified("::","Opal").$compile(g,e),l=B(b.const_get_qualified("::","Kernel"),"proc",[],(d=function(){return function(a){return eval(k)}(d.$$s||this)},d.$$s=this,d.$$arity=0,d))):m(q(e.$size(),0))&&b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+e.$size()+" for 0)");c=l.$$s;var n;l.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{n=l.call(this,this)}finally{this.$$eval=!1}}else n=l.call(this,this);
l.$$s=c;return n},D.$$arity=-1);b.defn(a,"$instance_exec",u=function(a){var c,d=u.$$p,e=d||A,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var l=0;l<f;l++)c[l-0]=arguments[l];d&&(u.$$p=null);m(e)||b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"no block given");var d=e.$$s,g;e.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{g=e.apply(this,c)}finally{this.$$eval=!1}}else g=e.apply(this,c);e.$$s=d;return g},u.$$arity=-1);b.defn(a,"$singleton_method_added",
l=function(a){return A},l.$$arity=-1);b.defn(a,"$singleton_method_removed",n=function(a){return A},n.$$arity=-1);b.defn(a,"$singleton_method_undefined",S=function(a){return A},S.$$arity=-1);return(b.defn(a,"$method_missing",da=function(a,c){var d,e=da.$$p,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var l=1;l<f;l++)d[l-1]=arguments[l];e&&(da.$$p=null);return b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","NoMethodError").$new(m(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+
a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class,a))},da.$$arity=-2),A)&&"method_missing"}(x[0],null,x)},Opal.modules["corelib/kernel"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var A=[],r=b.nil,m=b.module,y=b.truthy,p=b.gvars,B=b.send,a=b.hash2,h=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $> $size $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $print $format $puts $each $<= $empty? $exception $kind_of? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" "));
(function(h,F){var v=m(h,"Kernel"),f=[v].concat(F),e,k,g,c,d,D,u,l,n,S,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,T,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,A,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea,Fa,Ga,Ha,U,ma,Ia,Ja,va,Ka;b.defn(v,"$method_missing",e=function(a,c){var d,h=e.$$p,l=arguments.length;d=l-1;0>d&&(d=0);d=Array(d);for(var g=1;g<l;g++)d[g-1]=arguments[g];h&&(e.$$p=null);return this.$raise(b.const_get_relative(f,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,d))},e.$$arity=
-2);b.defn(v,"$=~",k=function(a){return!1},k.$$arity=1);b.defn(v,"$!~",g=function(a){return this["$=~"](a)["$!"]()},g.$$arity=1);b.defn(v,"$===",c=function(a){var b;return y(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},c.$$arity=1);b.defn(v,"$<=>",d=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==r?0:r},d.$$arity=1);b.defn(v,"$method",D=function(a){var c=this["$"+a];c&&!c.$$stub||this.$raise(b.const_get_relative(f,"NameError").$new("undefined method `"+a+"' for class `"+
this.$class()+"'",a));return b.const_get_relative(f,"Method").$new(this,c.$$owner||this.$class(),c,a)},D.$$arity=1);b.defn(v,"$methods",u=function(a){null==a&&(a=!0);var c=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=a&&a!==r||b.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&c.push(d.substr(1));return c},u.$$arity=-1);b.alias(v,"public_methods","methods");b.defn(v,"$Array",l=function(a){var c;if(a===r)return[];if(a.$$is_array)return a;c=b.const_get_relative(f,"Opal")["$coerce_to?"](a,
b.const_get_relative(f,"Array"),"to_ary");if(c!==r)return c;c=b.const_get_relative(f,"Opal")["$coerce_to?"](a,b.const_get_relative(f,"Array"),"to_a");return c!==r?c:[a]},l.$$arity=1);b.defn(v,"$at_exit",n=function(){var a,b=n.$$p,c=b||r;null==p.__at_exit__&&(p.__at_exit__=r);b&&(n.$$p=null);p.__at_exit__=y(a=p.__at_exit__)?a:[];return p.__at_exit__["$<<"](c)},n.$$arity=0);b.defn(v,"$caller",S=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];
return[]},S.$$arity=-1);b.defn(v,"$class",da=function(){return this.$$class},da.$$arity=0);b.defn(v,"$copy_instance_variables",G=function(a){var b=Object.keys(a),c,d,e;c=0;for(d=b.length;c<d;c++)e=b[c],"$"!==e.charAt(0)&&a.hasOwnProperty(e)&&(this[e]=a[e])},G.$$arity=1);b.defn(v,"$copy_singleton_methods",t=function(a){var c;if(a.hasOwnProperty("$$meta")){var d=b.get_singleton_class(a).$$proto,e=b.get_singleton_class(this).$$proto;for(c in d)"$"===c.charAt(0)&&d.hasOwnProperty(c)&&(e[c]=d[c])}for(c in a)"$"===
c.charAt(0)&&"$"!==c.charAt(1)&&a.hasOwnProperty(c)&&(this[c]=a[c])},t.$$arity=1);b.defn(v,"$clone",Z=function(){var a=r,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},Z.$$arity=0);b.defn(v,"$initialize_clone",C=function(a){return this.$initialize_copy(a)},C.$$arity=1);b.defn(v,"$define_singleton_method",K=function(a,b){var c=K.$$p,d=c||r;c&&(K.$$p=null);return B(this.$singleton_class(),"define_method",[a,b],d.$to_proc())},
K.$$arity=-2);b.defn(v,"$dup",ia=function(){var a=r,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},ia.$$arity=0);b.defn(v,"$initialize_dup",aa=function(a){return this.$initialize_copy(a)},aa.$$arity=1);b.defn(v,"$enum_for",ta=function(a,c){var d,e=ta.$$p,h=e||r;null==a&&(a="each");var l=arguments.length;d=l-1;0>d&&(d=0);d=Array(d);for(var g=1;g<l;g++)d[g-1]=arguments[g];e&&(ta.$$p=null);return B(b.const_get_relative(f,"Enumerator"),"for",[this,a].concat(b.to_a(d)),
h.$to_proc())},ta.$$arity=-1);b.alias(v,"to_enum","enum_for");b.defn(v,"$equal?",M=function(a){return this===a},M.$$arity=1);b.defn(v,"$exit",Q=function(a){var c,d=r;null==p.__at_exit__&&(p.__at_exit__=r);null==a&&(a=!0);for(p.__at_exit__=y(c=p.__at_exit__)?c:[];y(q(p.__at_exit__.$size(),0));)d=p.__at_exit__.$pop(),d.$call();y(!0===a)&&(a=0);b.exit(a);return r},Q.$$arity=-1);b.defn(v,"$extend",W=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];
d=this.$singleton_class();for(e=c.length-1;0<=e;e--){var h=c[e];h.$$is_module||this.$raise(b.const_get_relative(f,"TypeError"),"wrong argument type "+h.$class()+" (expected Module)");h.$append_features(d);h.$extended(this)}return this},W.$$arity=-1);b.defn(v,"$format",N=function(a,c){function d(){G&32&&n.$raise(b.const_get_relative(f,"ArgumentError"),"flag after width");G&128&&n.$raise(b.const_get_relative(f,"ArgumentError"),"flag after precision")}function e(){G&32&&n.$raise(b.const_get_relative(f,
"ArgumentError"),"width given twice");G&128&&n.$raise(b.const_get_relative(f,"ArgumentError"),"width after precision")}function h(a){a>=t.length&&n.$raise(b.const_get_relative(f,"ArgumentError"),"too few arguments");return t[a]}function l(){switch(Q){case -1:n.$raise(b.const_get_relative(f,"ArgumentError"),"unnumbered("+ca+") mixed with numbered");case -2:n.$raise(b.const_get_relative(f,"ArgumentError"),"unnumbered("+ca+") mixed with named")}Q=ca++;return h(Q-1)}function g(a){0<Q&&n.$raise(b.const_get_relative(f,
"ArgumentError"),"numbered("+a+") after unnumbered("+Q+")");-2===Q&&n.$raise(b.const_get_relative(f,"ArgumentError"),"numbered("+a+") after named");1>a&&n.$raise(b.const_get_relative(f,"ArgumentError"),"invalid index - "+a+"$");Q=-1;return h(a-1)}function k(){return void 0===xa?l():xa}function U(c){var d;for(d="";;F++){F===D&&n.$raise(b.const_get_relative(f,"ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(F)||57<a.charCodeAt(F))return F--,d=parseInt(d,10)||0,2147483647<d&&
n.$raise(b.const_get_relative(f,"ArgumentError"),""+c+" too big"),d;d+=a.charAt(F)}}function w(b){b=U(b);"$"===a.charAt(F+1)?(F++,b=g(b)):b=l();return b.$to_int()}var n=this,t,u=r;null==p.DEBUG&&(p.DEBUG=r);var u=arguments.length,C=u-1;0>C&&(C=0);t=Array(C);for(C=1;C<u;C++)t[C-1]=arguments[C];y(t.$length()["$=="](1)?t["$[]"](0)["$respond_to?"]("to_ary"):t.$length()["$=="](1))&&(u=b.const_get_relative(f,"Opal")["$coerce_to?"](t["$[]"](0),b.const_get_relative(f,"Array"),"to_ary"),y(u["$nil?"]())||(t=
u.$to_a()));var u="",C=0,N,F,D=a.length,v,z,R,ma,m,S,M,va,P,xa,ca=1,Q=0,G;for(F=a.indexOf("%");-1!==F;F=a.indexOf("%",F)){z=void 0;G=0;m=ma=-1;xa=void 0;N=F;F++;switch(a.charAt(F)){case "%":C=F;case "":case "\n":case "\x00":F++;continue}a:for(;F<D;F++)switch(a.charAt(F)){case " ":d();G|=16;continue a;case "#":d();G|=1;continue a;case "+":d();G|=4;continue a;case "-":d();G|=2;continue a;case "0":d();G|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":v=
U("width");if("$"===a.charAt(F+1)){if(F+2===D){z="%";F++;break a}void 0!==xa&&n.$raise(b.const_get_relative(f,"ArgumentError"),"value given twice - %"+v+"$");xa=g(v);F++}else e(),G|=32,ma=v;continue a;case "<":case "{":for(R="<"===a.charAt(F)?">":"}",v="",F++;;F++){F===D&&n.$raise(b.const_get_relative(f,"ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(F)===R)if(0<Q&&n.$raise(b.const_get_relative(f,"ArgumentError"),"named "+v+" after unnumbered("+Q+")"),-1===Q&&n.$raise(b.const_get_relative(f,
"ArgumentError"),"named "+v+" after numbered"),Q=-2,void 0!==t[0]&&t[0].$$is_hash||n.$raise(b.const_get_relative(f,"ArgumentError"),"one hash required"),xa=t[0].$fetch(v),">"===R)continue a;else{z=xa.toString();-1!==m&&(z=z.slice(0,m));if(G&2)for(;z.length<ma;)z+=" ";else for(;z.length<ma;)z=" "+z;break a}v+=a.charAt(F)}case "*":F++;e();G|=32;ma=w("width");0>ma&&(G|=2,ma=-ma);continue a;case ".":G&128&&n.$raise(b.const_get_relative(f,"ArgumentError"),"precision given twice");G|=192;m=0;F++;if("*"===
a.charAt(F)){F++;m=w("precision");0>m&&(G&=-65);continue a}m=U("precision");continue a;case "d":case "i":case "u":v=n.$Integer(k());if(0<=v){for(z=v.toString();z.length<m;)z="0"+z;if(G&2){if(G&4||G&16)z=(G&4?"+":" ")+z;for(;z.length<ma;)z+=" "}else if(G&8&&-1===m){for(;z.length<ma-(G&4||G&16?1:0);)z="0"+z;if(G&4||G&16)z=(G&4?"+":" ")+z}else{if(G&4||G&16)z=(G&4?"+":" ")+z;for(;z.length<ma;)z=" "+z}}else{for(z=(-v).toString();z.length<m;)z="0"+z;if(G&2)for(z="-"+z;z.length<ma;)z+=" ";else if(G&8&&-1===
m){for(;z.length<ma-1;)z="0"+z;z="-"+z}else for(z="-"+z;z.length<ma;)z=" "+z}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(F)){case "b":case "B":S=2;M="0b";va=/^1+/;P="1";break;case "o":S=8;M="0";va=/^3?7+/;P="7";break;case "x":case "X":S=16,M="0x",va=/^f+/,P="f"}v=n.$Integer(k());if(0<=v){for(z=v.toString(S);z.length<m;)z="0"+z;if(G&2){if(G&4||G&16)z=(G&4?"+":" ")+z;for(G&1&&0!==v&&(z=M+z);z.length<ma;)z+=" "}else if(G&8&&-1===m){for(;z.length<ma-(G&4||G&16?1:0)-(G&1&&0!==
v?M.length:0);)z="0"+z;G&1&&0!==v&&(z=M+z);if(G&4||G&16)z=(G&4?"+":" ")+z}else{G&1&&0!==v&&(z=M+z);if(G&4||G&16)z=(G&4?"+":" ")+z;for(;z.length<ma;)z=" "+z}}else if(G&4||G&16){for(z=(-v).toString(S);z.length<m;)z="0"+z;if(G&2)for(G&1&&(z=M+z),z="-"+z;z.length<ma;)z+=" ";else if(G&8&&-1===m){for(;z.length<ma-1-(G&1?2:0);)z="0"+z;G&1&&(z=M+z);z="-"+z}else for(G&1&&(z=M+z),z="-"+z;z.length<ma;)z=" "+z}else{for(z=(v>>>0).toString(S).replace(va,P);z.length<m-2;)z=P+z;if(G&2)for(z=".."+z,G&1&&(z=M+z);z.length<
ma;)z+=" ";else if(G&8&&-1===m){for(;z.length<ma-2-(G&1?M.length:0);)z=P+z;z=".."+z;G&1&&(z=M+z)}else for(z=".."+z,G&1&&(z=M+z);z.length<ma;)z=" "+z}a.charAt(F)===a.charAt(F).toUpperCase()&&(z=z.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":v=n.$Float(k());if(0<=v||isNaN(v)){if(Infinity===v)z="Inf";else switch(a.charAt(F)){case "f":z=v.toFixed(-1===m?6:m);break;case "e":case "E":z=v.toExponential(-1===m?6:m);break;case "g":case "G":z=v.toExponential(),R=parseInt(z.split("e")[1],
10),-4>R||R>=(-1===m?6:m)||(z=v.toPrecision(-1===m?G&1?6:void 0:m))}if(G&2){if(G&4||G&16)z=(G&4?"+":" ")+z;for(;z.length<ma;)z+=" "}else if(G&8&&Infinity!==v&&!isNaN(v)){for(;z.length<ma-(G&4||G&16?1:0);)z="0"+z;if(G&4||G&16)z=(G&4?"+":" ")+z}else{if(G&4||G&16)z=(G&4?"+":" ")+z;for(;z.length<ma;)z=" "+z}}else{if(-Infinity===v)z="Inf";else switch(a.charAt(F)){case "f":z=(-v).toFixed(-1===m?6:m);break;case "e":case "E":z=(-v).toExponential(-1===m?6:m);break;case "g":case "G":z=(-v).toExponential(),
R=parseInt(z.split("e")[1],10),-4>R||R>=(-1===m?6:m)||(z=(-v).toPrecision(-1===m?G&1?6:void 0:m))}if(G&2)for(z="-"+z;z.length<ma;)z+=" ";else if(G&8&&-Infinity!==v){for(;z.length<ma-1;)z="0"+z;z="-"+z}else for(z="-"+z;z.length<ma;)z=" "+z}a.charAt(F)!==a.charAt(F).toUpperCase()||Infinity===v||-Infinity===v||isNaN(v)||(z=z.toUpperCase());z=z.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":n.$raise(b.const_get_relative(f,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":v=k();v["$respond_to?"]("to_ary")&&(v=v.$to_ary()[0]);z=v["$respond_to?"]("to_str")?v.$to_str():String.fromCharCode(b.const_get_relative(f,"Opal").$coerce_to(v,b.const_get_relative(f,"Integer"),"to_int"));1!==z.length&&n.$raise(b.const_get_relative(f,"ArgumentError"),"%c requires a character");if(G&2)for(;z.length<ma;)z+=" ";else for(;z.length<ma;)z=" "+z;break a;case "p":z=k().$inspect();-1!==m&&(z=z.slice(0,m));if(G&2)for(;z.length<ma;)z+=" ";else for(;z.length<ma;)z=" "+z;break a;case "s":z=
k().$to_s();-1!==m&&(z=z.slice(0,m));if(G&2)for(;z.length<ma;)z+=" ";else for(;z.length<ma;)z=" "+z;break a;default:n.$raise(b.const_get_relative(f,"ArgumentError"),"malformed format string - %"+a.charAt(F))}void 0===z&&n.$raise(b.const_get_relative(f,"ArgumentError"),"malformed format string - %");u+=a.slice(C,N)+z;C=F+1}p.DEBUG&&0<=Q&&ca<t.length&&n.$raise(b.const_get_relative(f,"ArgumentError"),"too many arguments for format string");return u+a.slice(C)},N.$$arity=-2);b.defn(v,"$hash",P=function(){return this.$__id__()},
P.$$arity=0);b.defn(v,"$initialize_copy",ba=function(a){return r},ba.$$arity=1);b.defn(v,"$inspect",O=function(){return this.$to_s()},O.$$arity=0);b.defn(v,"$instance_of?",H=function(a){a.$$is_class||a.$$is_module||this.$raise(b.const_get_relative(f,"TypeError"),"class or module required");return this.$$class===a},H.$$arity=1);b.defn(v,"$instance_variable_defined?",L=function(a){a=b.const_get_relative(f,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},L.$$arity=
1);b.defn(v,"$instance_variable_get",T=function(a){a=b.const_get_relative(f,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?r:a},T.$$arity=1);b.defn(v,"$instance_variable_set",la=function(a,c){a=b.const_get_relative(f,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=c},la.$$arity=2);b.defn(v,"$remove_instance_variable",ha=function(a){a=b.const_get_relative(f,"Opal")["$instance_variable_name!"](a);var c=b.ivar(a.substr(1));return this.hasOwnProperty(c)?
(a=this[c],delete this[c],a):this.$raise(b.const_get_relative(f,"NameError"),"instance variable "+a+" not defined")},ha.$$arity=1);b.defn(v,"$instance_variables",na=function(){var a=[],b,c;for(c in this)this.hasOwnProperty(c)&&"$"!==c.charAt(0)&&(b="$"===c.substr(-1)?c.slice(0,c.length-1):c,a.push("@"+b));return a},na.$$arity=0);b.defn(v,"$Integer",J=function(a,c){var d=this,e,h;if(!a.$$is_string)return void 0!==c&&d.$raise(b.const_get_relative(f,"ArgumentError"),"base specified for non string value"),
a===r&&d.$raise(b.const_get_relative(f,"TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&d.$raise(b.const_get_relative(f,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(e=a.$to_int(),e!==r)?e:b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Integer"),"to_i");if("0"===a)return 0;void 0===c?c=0:(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int"),(1===c||0>c||36<c)&&
d.$raise(b.const_get_relative(f,"ArgumentError"),"invalid radix "+c));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,h,l){switch(l){case "0b":if(0===c||2===c)return c=2,h;case "0":case "0o":if(0===c||8===c)return c=8,h;case "0d":if(0===c||10===c)return c=10,h;case "0x":if(0===c||16===c)return c=16,h}d.$raise(b.const_get_relative(f,"ArgumentError"),'invalid value for Integer(): "'+a+'"')});c=0===c?10:c;h="0-"+(10>=c?c-1:"9a-"+String.fromCharCode(97+
(c-11)));(new RegExp("^\\s*[+-]?["+h+"]+\\s*$")).test(e)||d.$raise(b.const_get_relative(f,"ArgumentError"),'invalid value for Integer(): "'+a+'"');e=parseInt(e,c);isNaN(e)&&d.$raise(b.const_get_relative(f,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return e},J.$$arity=-2);b.defn(v,"$Float",fa=function(a){var c;a===r&&this.$raise(b.const_get_relative(f,"TypeError"),"can't convert nil into Float");if(a.$$is_string){c=a.toString();c=c.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(c))return this.$Integer(c);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(c)||this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(c)}return b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Float"),"to_f")},fa.$$arity=1);b.defn(v,"$Hash",ja=function(c){var d;return y(y(d=c["$nil?"]())?d:c["$=="]([]))?a([],{}):y(b.const_get_relative(f,"Hash")["$==="](c))?c:b.const_get_relative(f,"Opal")["$coerce_to!"](c,b.const_get_relative(f,"Hash"),"to_hash")},
ja.$$arity=1);b.defn(v,"$is_a?",Y=function(a){a.$$is_class||a.$$is_module||this.$raise(b.const_get_relative(f,"TypeError"),"class or module required");return b.is_a(this,a)},Y.$$arity=1);b.defn(v,"$itself",V=function(){return this},V.$$arity=0);b.alias(v,"kind_of?","is_a?");b.defn(v,"$lambda",ea=function(){var a=ea.$$p,b=a||r;a&&(ea.$$p=null);b.$$is_lambda=!0;return b},ea.$$arity=0);b.defn(v,"$load",sa=function(a){a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"String"),
"to_str");return b.load(a)},sa.$$arity=1);b.defn(v,"$loop",pa=function(){var a,c=pa.$$p,d=c||r,e=r;c&&(pa.$$p=null);if(d===r)return B(this,"enum_for",["loop"],(a=function(){return b.const_get_qualified(b.const_get_relative(f,"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;y(!0);)try{b.yieldX(d,[])}catch(h){if(b.rescue(h,[b.const_get_relative(f,"StopIteration")])){e=h;try{return e.$result()}finally{b.pop_exception()}}else throw h;}return this},pa.$$arity=0);b.defn(v,"$nil?",A=function(){return!1},
A.$$arity=0);b.alias(v,"object_id","__id__");b.defn(v,"$printf",ga=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];y(q(c.$length(),0))&&this.$print(B(this,"format",b.to_a(c)));return r},ga.$$arity=-1);b.defn(v,"$proc",ka=function(){var a=ka.$$p,c=a||r;a&&(ka.$$p=null);y(c)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to create Proc object without a block");c.$$is_lambda=!1;return c},ka.$$arity=0);b.defn(v,"$puts",oa=function(a){var c;
null==p.stdout&&(p.stdout=r);var d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return B(p.stdout,"puts",b.to_a(c))},oa.$$arity=-1);b.defn(v,"$p",ra=function(a){var b,c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];B(c,"each",[],(b=function(a){null==p.stdout&&(p.stdout=r);null==a&&(a=r);return p.stdout.$puts(a.$inspect())},b.$$s=this,b.$$arity=1,b));return y(x(c.$length(),1))?c["$[]"](0):c},ra.$$arity=-1);b.defn(v,"$print",
R=function(a){var c;null==p.stdout&&(p.stdout=r);var d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return B(p.stdout,"print",b.to_a(c))},R.$$arity=-1);b.defn(v,"$warn",z=function(a){var c,d;null==p.VERBOSE&&(p.VERBOSE=r);null==p.stderr&&(p.stderr=r);var e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var h=0;h<e;h++)d[h-0]=arguments[h];return y(y(c=p.VERBOSE["$nil?"]())?c:d["$empty?"]())?r:B(p.stderr,"puts",b.to_a(d))},z.$$arity=-1);b.defn(v,"$raise",ca=
function(a,c,d){null==p["!"]&&(p["!"]=r);null==c&&(c=r);if(null==a&&p["!"]!==r)throw p["!"];null==a?a=b.const_get_relative(f,"RuntimeError").$new():a.$$is_string?a=b.const_get_relative(f,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(c):a["$kind_of?"](b.const_get_relative(f,"Exception"))||(a=b.const_get_relative(f,"TypeError").$new("exception class/object expected"));p["!"]!==r&&b.exceptions.push(p["!"]);p["!"]=a;throw a;},ca.$$arity=-1);b.alias(v,"fail","raise");
b.defn(v,"$rand",qa=function(a){if(void 0===a)return b.const_get_qualified(b.const_get_relative(f,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return b.const_get_qualified(b.const_get_relative(f,"Random"),"DEFAULT").$rand(a)},qa.$$arity=-1);b.defn(v,"$respond_to?",Aa=function(a,b){null==b&&(b=!1);if(y(this["$respond_to_missing?"](a,b)))return!0;var c=this["$"+a];return"function"!==typeof c||c.$$stub?!1:!0},Aa.$$arity=-2);b.defn(v,"$respond_to_missing?",
xa=function(a,b){return!1},xa.$$arity=-2);b.defn(v,"$require",ya=function(a){a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"String"),"to_str");return b.require(a)},ya.$$arity=1);b.defn(v,"$require_relative",za=function(a){b.const_get_relative(f,"Opal")["$try_convert!"](a,b.const_get_relative(f,"String"),"to_str");a=b.const_get_relative(f,"File").$expand_path(b.const_get_relative(f,"File").$join(b.current_file,"..",a));return b.require(a)},za.$$arity=1);b.defn(v,"$require_tree",
Ca=function(a){a=b.const_get_relative(f,"File").$expand_path(a);a["$=="](".")&&(a="");for(var c in b.modules)c["$start_with?"](a)&&b.require(c);return r},Ca.$$arity=1);b.alias(v,"send","__send__");b.alias(v,"public_send","__send__");b.defn(v,"$singleton_class",Ea=function(){return b.get_singleton_class(this)},Ea.$$arity=0);b.defn(v,"$sleep",Fa=function(a){null==a&&(a=r);a===r&&this.$raise(b.const_get_relative(f,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(b.const_get_relative(f,
"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(b.const_get_relative(f,"ArgumentError"),"time interval must be positive");for(var c=new Date;new Date-c<=1E3*a;);return a},Fa.$$arity=-1);b.alias(v,"sprintf","format");b.defn(v,"$srand",Ga=function(a){null==a&&(a=b.const_get_relative(f,"Random").$new_seed());return b.const_get_relative(f,"Random").$srand(a)},Ga.$$arity=-1);b.defn(v,"$String",Ha=function(a){var c;return y(c=b.const_get_relative(f,"Opal")["$coerce_to?"](a,
b.const_get_relative(f,"String"),"to_str"))?c:b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"String"),"to_s")},Ha.$$arity=1);b.defn(v,"$tap",U=function(){var a=U.$$p,c=a||r;a&&(U.$$p=null);b.yield1(c,this);return this},U.$$arity=0);b.defn(v,"$to_proc",ma=function(){return this},ma.$$arity=0);b.defn(v,"$to_s",Ia=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ia.$$arity=0);b.defn(v,"$catch",Ja=function(a){var c=Ja.$$p,d=c||r,e=r;c&&(Ja.$$p=null);try{return b.yieldX(d,
[])}catch(h){if(b.rescue(h,[b.const_get_relative(f,"UncaughtThrowError")])){e=h;try{return e.$sym()["$=="](a)?e.$arg():this.$raise()}finally{b.pop_exception()}}else throw h;}},Ja.$$arity=1);b.defn(v,"$throw",va=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(b.const_get_relative(f,"UncaughtThrowError").$new(c))},va.$$arity=-1);b.defn(v,"$open",Ka=function(a){var c,d=Ka.$$p,e=d||r,h=arguments.length;c=h-0;0>c&&(c=0);c=Array(c);
for(var l=0;l<h;l++)c[l-0]=arguments[l];d&&(Ka.$$p=null);return B(b.const_get_relative(f,"File"),"open",b.to_a(c),e.$to_proc())},Ka.$$arity=-1)})(A[0],A);return function(a,$super,v){function f(){}a=f=h(a,$super,"Object",f);v=[a].concat(v);return a.$include(b.const_get_relative(v,"Kernel"))}(A[0],null,A)},Opal.modules["corelib/error"]=function(b){var q=[],x=b.nil,A=b.klass,r=b.send,m=b.truthy,y=b.module;b.add_stubs("$new $clone $to_s $empty? $class $+ $attr_reader $[] $> $length $inspect".split(" "));
(function(p,$super,a){function h(){}p=h=A(p,$super,"Exception",h);var w=p.$$proto;a=[p].concat(a);var F,v,f,e,k,g,c,d;w.message=x;var D=b.const_get_relative(a,"Kernel").$raise;b.defs(p,"$new",F=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0<c.length?c[0]:x;e=new this.$$alloc(d);e.name=this.$$name;e.message=d;b.send(e,e.$initialize,c);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(e,D);return e},F.$$arity=
-1);b.defs(p,"$exception",v=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return r(this,"new",b.to_a(c))},v.$$arity=-1);b.defn(p,"$initialize",f=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.message=0<b.length?b[0]:x},f.$$arity=-1);b.defn(p,"$backtrace",e=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},e.$$arity=0);b.defn(p,
"$exception",k=function(a){null==a&&(a=x);if(a===x||this===a)return this;var b=this.$clone();b.message=a;return b},k.$$arity=-1);b.defn(p,"$message",g=function(){return this.$to_s()},g.$$arity=0);b.defn(p,"$inspect",c=function(){var a=x,a=this.$to_s();return m(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},c.$$arity=0);return(b.defn(p,"$to_s",d=function(){var a,b;return m(a=m(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},d.$$arity=0),x)&&
"to_s"})(q[0],Error,q);(function(b,$super,a){function h(){}[h=A(b,$super,"ScriptError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"Exception"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"SyntaxError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"ScriptError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"LoadError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"ScriptError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"NotImplementedError",h)].concat(a);
return x})(q[0],b.const_get_relative(q,"ScriptError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"SystemExit",h)].concat(a);return x})(q[0],b.const_get_relative(q,"Exception"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"NoMemoryError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"Exception"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"SignalException",h)].concat(a);return x})(q[0],b.const_get_relative(q,"Exception"),q);(function(b,$super,a){function h(){}[h=A(b,
$super,"Interrupt",h)].concat(a);return x})(q[0],b.const_get_relative(q,"Exception"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"SecurityError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"Exception"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"StandardError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"Exception"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"ZeroDivisionError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);
(function(b,$super,a){function h(){}[h=A(b,$super,"NameError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"NoMethodError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"NameError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"RuntimeError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"LocalJumpError",h)].concat(a);return x})(q[0],
b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"TypeError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"ArgumentError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"IndexError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,
"StopIteration",h)].concat(a);return x})(q[0],b.const_get_relative(q,"IndexError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"KeyError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"IndexError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"RangeError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"FloatDomainError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"RangeError"),q);(function(b,
$super,a){function h(){}[h=A(b,$super,"IOError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(b,$super,a){function h(){}[h=A(b,$super,"SystemCallError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(p,q){var a=[y(p,"Errno")].concat(q);(function(a,$super,F){function v(){}a=v=A(a,$super,"EINVAL",v);[a].concat(F);var f;return b.defs(a,"$new",f=function(a){var h=f.$$p,g=x;null==a&&(a=x);h&&(f.$$p=null);g="Invalid argument";m(a)&&
(a=" - "+a,g="number"===typeof g&&"number"===typeof a?g+a:g["$+"](a));return r(this,b.find_super_dispatcher(this,"new",f,!1,v),[g],null)},f.$$arity=-1)})(a[0],b.const_get_relative(a,"SystemCallError"),a)})(q[0],q);(function(p,$super,a){function h(){}p=h=A(p,$super,"UncaughtThrowError",h);var w=p.$$proto;[p].concat(a);var F;w.sym=x;p.$attr_reader("sym","arg");return(b.defn(p,"$initialize",F=function(a){F.$$p&&(F.$$p=null);this.sym=a["$[]"](0);var h;h=a.$length();h="number"===typeof h?1<h:h["$>"](1);
m(h)&&(this.arg=a["$[]"](1));return r(this,b.find_super_dispatcher(this,"initialize",F,!1),["uncaught throw "+this.sym.$inspect()],null)},F.$$arity=1),x)&&"initialize"})(q[0],b.const_get_relative(q,"ArgumentError"),q);(function(m,$super,a){function h(){}m=h=A(m,$super,"NameError",h);[m].concat(a);var w;m.$attr_reader("name");return(b.defn(m,"$initialize",w=function(a,h){var f=w.$$p;null==h&&(h=x);f&&(w.$$p=null);r(this,b.find_super_dispatcher(this,"initialize",w,!1),[a],null);return this.name=h},
w.$$arity=-2),x)&&"initialize"})(q[0],null,q);(function(m,$super,a){function h(){}m=h=A(m,$super,"NoMethodError",h);[m].concat(a);var w;m.$attr_reader("args");return(b.defn(m,"$initialize",w=function(a,h,f){var e=w.$$p;null==h&&(h=x);null==f&&(f=[]);e&&(w.$$p=null);r(this,b.find_super_dispatcher(this,"initialize",w,!1),[a,h],null);return this.args=f},w.$$arity=-2),x)&&"initialize"})(q[0],null,q);(function(b,$super,a){function h(){}b=h=A(b,$super,"StopIteration",h);[b].concat(a);return b.$attr_reader("result")})(q[0],
null,q);return function(b,m){var a=[y(b,"JS")].concat(m);(function(a,$super,b){function v(){}[v=A(a,$super,"Error",v)].concat(b);return x})(a[0],null,a)}(q[0],q)},Opal.modules["corelib/constants"]=function(b){var q=[];b.const_set(q[0],"RUBY_PLATFORM","opal");b.const_set(q[0],"RUBY_ENGINE","opal");b.const_set(q[0],"RUBY_VERSION","2.3.4");b.const_set(q[0],"RUBY_ENGINE_VERSION","0.11.0.rc1");b.const_set(q[0],"RUBY_RELEASE_DATE","2017-05-01");b.const_set(q[0],"RUBY_PATCHLEVEL",0);b.const_set(q[0],"RUBY_REVISION",
0);b.const_set(q[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return b.const_set(q[0],"RUBY_DESCRIPTION","opal "+b.const_get_relative(q,"RUBY_ENGINE_VERSION")+" ("+b.const_get_relative(q,"RUBY_RELEASE_DATE")+" revision "+b.const_get_relative(q,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(b){var q=b.top;b.add_stubs(["$require"]);q.$require("corelib/runtime");q.$require("corelib/helpers");q.$require("corelib/module");q.$require("corelib/class");q.$require("corelib/basic_object");
q.$require("corelib/kernel");q.$require("corelib/error");return q.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(b){var q=[],x=b.nil,A=b.klass,r=b.truthy;b.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(m,$super,p){function q(){}m=q=A(m,$super,"NilClass",q);var a=m.$$proto,h=[m].concat(p),w,F,v,f,e,k,g,c,d,D,u,l,n,S,da,G,t,Z;a.$$meta=m;b.defn(m,"$!",w=function(){return!0},w.$$arity=0);b.defn(m,"$&",F=function(a){return!1},F.$$arity=1);b.defn(m,"$|",
v=function(a){return!1!==a&&a!==x},v.$$arity=1);b.defn(m,"$^",f=function(a){return!1!==a&&a!==x},f.$$arity=1);b.defn(m,"$==",e=function(a){return a===x},e.$$arity=1);b.defn(m,"$dup",k=function(){return this.$raise(b.const_get_relative(h,"TypeError"),"can't dup "+this.$class())},k.$$arity=0);b.defn(m,"$clone",g=function(){return this.$raise(b.const_get_relative(h,"TypeError"),"can't clone "+this.$class())},g.$$arity=0);b.defn(m,"$inspect",c=function(){return"nil"},c.$$arity=0);b.defn(m,"$nil?",d=function(){return!0},
d.$$arity=0);b.defn(m,"$singleton_class",D=function(){return b.const_get_relative(h,"NilClass")},D.$$arity=0);b.defn(m,"$to_a",u=function(){return[]},u.$$arity=0);b.defn(m,"$to_h",l=function(){return b.hash()},l.$$arity=0);b.defn(m,"$to_i",n=function(){return 0},n.$$arity=0);b.alias(m,"to_f","to_i");b.defn(m,"$to_s",S=function(){return""},S.$$arity=0);b.defn(m,"$to_c",da=function(){return b.const_get_relative(h,"Complex").$new(0,0)},da.$$arity=0);b.defn(m,"$rationalize",G=function(a){var c,d=arguments.length;
c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=c.$length();d="number"===typeof d?1<d:d["$>"](1);r(d)&&this.$raise(b.const_get_relative(h,"ArgumentError"));return this.$Rational(0,1)},G.$$arity=-1);b.defn(m,"$to_r",t=function(){return this.$Rational(0,1)},t.$$arity=0);return(b.defn(m,"$instance_variables",Z=function(){return[]},Z.$$arity=0),x)&&"instance_variables"})(q[0],null,q);return b.const_set(q[0],"NIL",x)},Opal.modules["corelib/boolean"]=function(b){var q=[],x=b.nil,A=
b.klass;b.add_stubs(["$raise","$class"]);(function(r,$super,q){function p(){}r=p=A(r,$super,"Boolean",p);var B=r.$$proto,a=[r].concat(q),h,w,F,v,f,e,k,g,c,d;B.$$is_boolean=!0;B.$$meta=r;b.defn(r,"$__id__",h=function(){return this.valueOf()?2:0},h.$$arity=0);b.alias(r,"object_id","__id__");b.defn(r,"$!",w=function(){return 1!=this},w.$$arity=0);b.defn(r,"$&",F=function(a){return 1==this?!1!==a&&a!==x:!1},F.$$arity=1);b.defn(r,"$|",v=function(a){return 1==this?!0:!1!==a&&a!==x},v.$$arity=1);b.defn(r,
"$^",f=function(a){return 1==this?!1===a||a===x:!1!==a&&a!==x},f.$$arity=1);b.defn(r,"$==",e=function(a){return 1==this===a.valueOf()},e.$$arity=1);b.alias(r,"equal?","==");b.alias(r,"eql?","==");b.defn(r,"$singleton_class",k=function(){return b.const_get_relative(a,"Boolean")},k.$$arity=0);b.defn(r,"$to_s",g=function(){return 1==this?"true":"false"},g.$$arity=0);b.defn(r,"$dup",c=function(){return this.$raise(b.const_get_relative(a,"TypeError"),"can't dup "+this.$class())},c.$$arity=0);return(b.defn(r,
"$clone",d=function(){return this.$raise(b.const_get_relative(a,"TypeError"),"can't clone "+this.$class())},d.$$arity=0),x)&&"clone"})(q[0],Boolean,q);b.const_set(q[0],"TrueClass",b.const_get_relative(q,"Boolean"));b.const_set(q[0],"FalseClass",b.const_get_relative(q,"Boolean"));b.const_set(q[0],"TRUE",!0);return b.const_set(q[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(b){function q(b,m){return"number"===typeof b&&"number"===typeof m?b>m:b["$>"](m)}function x(b,m){return"number"===
typeof b&&"number"===typeof m?b<m:b["$<"](m)}var A=[],r=b.nil,m=b.module,y=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(p,B){var a=m(p,"Comparable"),h=[a].concat(B),w,F,v,f,e,k,g;b.defs(a,"$normalize",w=function(a){return y(b.const_get_relative(h,"Integer")["$==="](a))?a:y(q(a,0))?1:y(x(a,0))?-1:0},w.$$arity=1);b.defn(a,"$==",F=function(a){var d=r;try{return y(this["$equal?"](a))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,
!1):y(d=this["$<=>"](a))?0==b.const_get_relative(h,"Comparable").$normalize(d):!1}catch(e){if(b.rescue(e,[b.const_get_relative(h,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw e;}},F.$$arity=1);b.defn(a,"$>",v=function(a){var d=r;y(d=this["$<=>"](a))||this.$raise(b.const_get_relative(h,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<b.const_get_relative(h,"Comparable").$normalize(d)},v.$$arity=1);b.defn(a,"$>=",f=function(a){var d=r;y(d=
this["$<=>"](a))||this.$raise(b.const_get_relative(h,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=b.const_get_relative(h,"Comparable").$normalize(d)},f.$$arity=1);b.defn(a,"$<",e=function(a){var d=r;y(d=this["$<=>"](a))||this.$raise(b.const_get_relative(h,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>b.const_get_relative(h,"Comparable").$normalize(d)},e.$$arity=1);b.defn(a,"$<=",k=function(a){var d=r;y(d=this["$<=>"](a))||
this.$raise(b.const_get_relative(h,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=b.const_get_relative(h,"Comparable").$normalize(d)},k.$$arity=1);b.defn(a,"$between?",g=function(a,b){return x(this,a)||q(this,b)?!1:!0},g.$$arity=2)}(A[0],A)},Opal.modules["corelib/regexp"]=function(b){var q=[],x=b.nil,A=b.klass,r=b.send,m=b.truthy,y=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));
(function(b,$super,a){function h(){}[h=A(b,$super,"RegexpError",h)].concat(a);return x})(q[0],b.const_get_relative(q,"StandardError"),q);(function(p,$super,a){function h(){}p=h=A(p,$super,"Regexp",h);var w=p.$$proto,F=[p].concat(a),v,f,e,k,g,c,d,D,u;b.const_set(F[0],"IGNORECASE",1);b.const_set(F[0],"MULTILINE",4);w.$$is_regexp=!0;(function(a,c){var d=[a].concat(c),e,h,f,g,k;b.defn(a,"$allocate",e=function(){var a=e.$$p,c=x,d=c=x,h=x;a&&(e.$$p=null);d=0;h=arguments.length;for(c=Array(h);d<h;d++)c[d]=
arguments[d];c=r(this,b.find_super_dispatcher(this,"allocate",e,!1),c,a);c.uninitialized=!0;return c},e.$$arity=0);b.defn(a,"$escape",h=function(a){return b.escape_regexp(a)},h.$$arity=1);b.defn(a,"$last_match",f=function(a){null==y["~"]&&(y["~"]=x);null==a&&(a=x);return m(a["$nil?"]())?y["~"]:y["~"]["$[]"](a)},f.$$arity=-1);b.alias(a,"quote","escape");b.defn(a,"$union",g=function(a){var c,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var h=0;h<e;h++)c[h-0]=arguments[h];var f,l;if(0==c.length)return/(?!)/;
e=c[0].$$is_array;1<c.length&&e&&this.$raise(b.const_get_relative(d,"TypeError"),"no implicit conversion of Array into String");e&&(c=c[0]);f=void 0;for(var e=[],g=0;g<c.length;g++)h=c[g],h.$$is_string?e.push(this.$escape(h)):h.$$is_regexp?(l=h.$options(),void 0!=f&&f!=l&&this.$raise(b.const_get_relative(d,"TypeError"),"All expressions must use the same options"),f=l,e.push("("+h.source+")")):e.push(this.$escape(h.$to_str()));return this.$new(e.$join("|"),f)},g.$$arity=-1);return(b.defn(a,"$new",
k=function(a,c){if(a.$$is_regexp)return new RegExp(a);a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(b.const_get_relative(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===c||c["$!"]())return new RegExp(a);if(c.$$is_number){var e="";b.const_get_relative(d,"IGNORECASE")&c&&(e+="i");b.const_get_relative(d,"MULTILINE")&c&&(e+="m");c=e}else c="i";return new RegExp(a,c)},
k.$$arity=-2),x)&&"new"})(b.get_singleton_class(p),F);b.defn(p,"$==",v=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},v.$$arity=1);b.defn(p,"$===",f=function(a){return this.$match(b.const_get_relative(F,"Opal")["$coerce_to?"](a,b.const_get_relative(F,"String"),"to_str"))!==x},f.$$arity=1);b.defn(p,"$=~",e=function(a){var b;null==y["~"]&&(y["~"]=x);return m(b=this.$match(a))?y["~"].$begin(0):b},e.$$arity=1);b.alias(p,"eql?","==");b.defn(p,"$inspect",k=function(){var a=this.toString(),
b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),c=b.length,d=!1,e="",h=0;h<c;h++){var f=b[h];d||"/"!=f||(e=e.concat("\\"));e=e.concat(f);d="\\"==f?d?!1:!0:!1}return"/"+e+"/"+a}return a},k.$$arity=0);b.defn(p,"$match",g=function(a,c){var d=g.$$p,e=d||x;null==y["~"]&&(y["~"]=x);d&&(g.$$p=null);this.uninitialized&&this.$raise(b.const_get_relative(F,"TypeError"),"uninitialized Regexp");c=void 0===c?0:b.const_get_relative(F,"Opal").$coerce_to(c,b.const_get_relative(F,"Integer"),"to_int");
if(a===x)return y["~"]=x;a=b.const_get_relative(F,"Opal").$coerce_to(a,b.const_get_relative(F,"String"),"to_str");if(0>c&&(c+=a.length,0>c))return y["~"]=x;var d=this.source,h="g";this.multiline&&(d=d.replace(".","[\\s\\S]"),h+="m");for(h=new RegExp(d,h+(this.ignoreCase?"i":""));;){d=h.exec(a);if(null===d)return y["~"]=x;if(d.index>=c)return y["~"]=b.const_get_relative(F,"MatchData").$new(h,d),e===x?y["~"]:e.$call(y["~"]);h.lastIndex=d.index+1}},g.$$arity=-2);b.defn(p,"$~",c=function(){null==y._&&
(y._=x);return this["$=~"](y._)},c.$$arity=0);b.defn(p,"$source",d=function(){return this.source},d.$$arity=0);b.defn(p,"$options",D=function(){this.uninitialized&&this.$raise(b.const_get_relative(F,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=b.const_get_relative(F,"MULTILINE"));this.ignoreCase&&(a|=b.const_get_relative(F,"IGNORECASE"));return a},D.$$arity=0);b.defn(p,"$casefold?",u=function(){return this.ignoreCase},u.$$arity=0);return b.alias(p,"to_s","source")})(q[0],RegExp,
q);return function(p,$super,a){function h(){}p=h=A(p,$super,"MatchData",h);var w=p.$$proto,F=[p].concat(a),v,f,e,k,g,c,d,D,u,l,n,S;w.matches=x;p.$attr_reader("post_match","pre_match","regexp","string");b.defn(p,"$initialize",v=function(a,b){y["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,d=b.length;c<d;c++){var e=b[c];null==e?this.matches.push(x):this.matches.push(e)}},
v.$$arity=2);b.defn(p,"$[]",f=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return r(this.matches,"[]",b.to_a(c))},f.$$arity=-1);b.defn(p,"$offset",e=function(a){0!==a&&this.$raise(b.const_get_relative(F,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},e.$$arity=1);b.defn(p,"$==",k=function(a){var c,d,e,h;return m(b.const_get_relative(F,"MatchData")["$==="](a))?m(c=m(d=m(e=
m(h=this.string==a.string)?this.regexp.toString()==a.regexp.toString():h)?this.pre_match==a.pre_match:e)?this.post_match==a.post_match:d)?this.begin==a.begin:c:!1},k.$$arity=1);b.alias(p,"eql?","==");b.defn(p,"$begin",g=function(a){0!==a&&this.$raise(b.const_get_relative(F,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},g.$$arity=1);b.defn(p,"$end",c=function(a){0!==a&&this.$raise(b.const_get_relative(F,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+
this.matches[a].length},c.$$arity=1);b.defn(p,"$captures",d=function(){return this.matches.slice(1)},d.$$arity=0);b.defn(p,"$inspect",D=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},D.$$arity=0);b.defn(p,"$length",u=function(){return this.matches.length},u.$$arity=0);b.alias(p,"size","length");b.defn(p,"$to_a",l=function(){return this.matches},l.$$arity=0);b.defn(p,"$to_s",n=function(){return this.matches[0]},
n.$$arity=0);return(b.defn(p,"$values_at",S=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];for(var h,e=[],d=0;d<c.length;d++){c[d].$$is_range&&(h=c[d].$to_a(),h.unshift(d,1),Array.prototype.splice.apply(c,h));h=b.const_get_relative(F,"Opal")["$coerce_to!"](c[d],b.const_get_relative(F,"Integer"),"to_int");if(0>h&&(h+=this.matches.length,0>h)){e.push(x);continue}e.push(this.matches[h])}return e},S.$$arity=-1),x)&&"values_at"}(q[0],null,q)},Opal.modules["corelib/string"]=
function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var A=b.top,r=[],m=b.nil,y=b.klass,p=b.truthy,B=b.send,a=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $succ $escape".split(" "));
A.$require("corelib/comparable");A.$require("corelib/regexp");(function(h,$super,F){function v(){}function f(a){function c(a){var d="",h,f=a.length,g,l;for(h=0;h<f;h++)if(g=a.charAt(h),"-"===g&&0<h&&h<f-1&&!l){l=a.charCodeAt(h-1);g=a.charCodeAt(h+1);l>g&&e.$raise(b.const_get_relative(k,"ArgumentError"),'invalid range "'+l+"-"+g+'" in string transliteration');for(l+=1;l<g+1;l++)d+=String.fromCharCode(l);l=!0;h++}else l="\\"===g,d+=g;return d}function d(a,b){if(0===a.length)return b;var c="",e,h=a.length,
f;for(e=0;e<h;e++)f=a.charAt(e),-1!==b.indexOf(f)&&(c+=f);return c}var h,f,g,l,U="",X="";h=0;for(f=a.length;h<f;h++)g=b.const_get_relative(k,"Opal").$coerce_to(a[h],b.const_get_relative(k,"String"),"to_str"),l="^"===g.charAt(0)&&1<g.length,g=c(l?g.slice(1):g),l?X=d(X,g):U=d(U,g);if(0<U.length&&0<X.length){g="";h=0;for(f=U.length;h<f;h++)a=U.charAt(h),-1===X.indexOf(a)&&(g+=a);U=g;X=""}return 0<U.length?"["+b.const_get_relative(k,"Regexp").$escape(U)+"]":0<X.length?"[^"+b.const_get_relative(k,"Regexp").$escape(X)+
"]":null}var e=v=y(h,$super,"String",v);h=e.$$proto;var k=[e].concat(F),g,c,d,D,u,l,n,S,r,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,T,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,A,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea,Fa,Ga,Ha,U,ma,Ia,Ja,va,Ka,Na,Ma,La,Ba,Da,X;h.length=m;e.$include(b.const_get_relative(k,"Comparable"));h.$$is_string=!0;b.defn(e,"$__id__",g=function(){return this.toString()},g.$$arity=0);b.alias(e,"object_id","__id__");b.defs(e,"$try_convert",c=function(a){return b.const_get_relative(k,"Opal")["$coerce_to?"](a,
b.const_get_relative(k,"String"),"to_str")},c.$$arity=1);b.defs(e,"$new",d=function(a){null==a&&(a="");a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str");return new String(a)},d.$$arity=-1);b.defn(e,"$initialize",D=function(a){return void 0===a?this:this.$raise(b.const_get_relative(k,"NotImplementedError"),"Mutable strings are not supported in Opal.")},D.$$arity=-1);b.defn(e,"$%",u=function(a){return p(b.const_get_relative(k,"Array")["$==="](a))?B(this,"format",
[this].concat(b.to_a(a))):this.$format(this,a)},u.$$arity=1);b.defn(e,"$*",l=function(a){a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(k,"ArgumentError"),"negative argument");if(0===a)return"";var c="",d=this.toString();for(268435456<=d.length*a&&this.$raise(b.const_get_relative(k,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=d);a>>>=1;if(0===a)break;d+=d}return c},l.$$arity=
1);b.defn(e,"$+",n=function(a){a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str");return this+a.$to_s()},n.$$arity=1);b.defn(e,"$<=>",S=function(a){if(p(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===m?m:0<a?-1:0>a?1:0},S.$$arity=1);b.defn(e,"$==",r=function(a){return a.$$is_string?this.toString()===a.toString():b.const_get_relative(k,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},r.$$arity=
1);b.alias(e,"eql?","==");b.alias(e,"===","==");b.defn(e,"$=~",G=function(a){a.$$is_string&&this.$raise(b.const_get_relative(k,"TypeError"),"type mismatch: String given");return a["$=~"](this)},G.$$arity=1);b.defn(e,"$[]",t=function(c,d){var e=this.length,h;if(c.$$is_range){h=c.excl;d=b.const_get_relative(k,"Opal").$coerce_to(c.end,b.const_get_relative(k,"Integer"),"to_int");c=b.const_get_relative(k,"Opal").$coerce_to(c.begin,b.const_get_relative(k,"Integer"),"to_int");if(Math.abs(c)>e)return m;0>
c&&(c+=e);0>d&&(d+=e);h||(d+=1);d-=c;0>d&&(d=0);return this.substr(c,d)}if(c.$$is_string)return null!=d&&this.$raise(b.const_get_relative(k,"TypeError")),-1!==this.indexOf(c)?c:m;if(c.$$is_regexp){e=this.match(c);if(null===e)return a["~"]=m;a["~"]=b.const_get_relative(k,"MatchData").$new(c,e);if(null==d)return e[0];d=b.const_get_relative(k,"Opal").$coerce_to(d,b.const_get_relative(k,"Integer"),"to_int");return 0>d&&-d<e.length?e[d+e.length]:0<=d&&d<e.length?e[d]:m}c=b.const_get_relative(k,"Opal").$coerce_to(c,
b.const_get_relative(k,"Integer"),"to_int");0>c&&(c+=e);if(null==d)return c>=e||0>c?m:this.substr(c,1);d=b.const_get_relative(k,"Opal").$coerce_to(d,b.const_get_relative(k,"Integer"),"to_int");return 0>d||c>e||0>c?m:this.substr(c,d)},t.$$arity=-2);b.alias(e,"byteslice","[]");b.defn(e,"$capitalize",Z=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},Z.$$arity=0);b.defn(e,"$casecmp",C=function(a){var c=this;a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,
"String"),"to_str").$to_s();var d=/^[\x00-\x7F]*$/;d.test(c)&&d.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)},C.$$arity=1);b.defn(e,"$center",K=function(a,c){null==c&&(c=" ");a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"Integer"),"to_int");c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str").$to_s();p(c["$empty?"]())&&this.$raise(b.const_get_relative(k,"ArgumentError"),"zero width padding");if(p(a<=this.length))return this;
var d=this.$ljust(q(x(a,this.length),2).$ceil(),c);return this.$rjust(q(x(a,this.length),2).$floor(),c)+d.slice(this.length)},K.$$arity=-2);b.defn(e,"$chars",ia=function(){var a=ia.$$p,b=a||m;a&&(ia.$$p=null);return p(b)?B(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},ia.$$arity=0);b.defn(e,"$chomp",aa=function(c){null==a["/"]&&(a["/"]=m);null==c&&(c=a["/"]);if(p(c===m||0===this.length))return this;c=b.const_get_relative(k,"Opal")["$coerce_to!"](c,b.const_get_relative(k,"String"),"to_str").$to_s();
return"\n"===c?this.replace(/\r?\n?$/,""):""===c?this.replace(/(\r?\n)+$/,""):this.length>c.length&&this.substr(this.length-c.length,c.length)===c?this.substr(0,this.length-c.length):this},aa.$$arity=-1);b.defn(e,"$chop",ta=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},ta.$$arity=0);b.defn(e,"$chr",M=function(){return this.charAt(0)},M.$$arity=0);b.defn(e,"$clone",Q=function(){var a=m,a=this.slice();a.$copy_singleton_methods(this);
a.$initialize_clone(this);return a},Q.$$arity=0);b.defn(e,"$dup",W=function(){var a=m,a=this.slice();a.$initialize_dup(this);return a},W.$$arity=0);b.defn(e,"$count",N=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];0===c.length&&this.$raise(b.const_get_relative(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=f(c);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},N.$$arity=-1);b.defn(e,"$delete",
P=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];0===c.length&&this.$raise(b.const_get_relative(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=f(c);return null===d?this:this.replace(new RegExp(d,"g"),"")},P.$$arity=-1);b.defn(e,"$downcase",ba=function(){return this.toLowerCase()},ba.$$arity=0);b.defn(e,"$each_char",O=function(){var a,c=O.$$p,d=c||m;c&&(O.$$p=null);if(d===m)return B(this,"enum_for",["each_char"],
(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,this.charAt(c));return this},O.$$arity=0);b.defn(e,"$each_line",H=function(c){var d=H.$$p,e=d||m;null==a["/"]&&(a["/"]=m);null==c&&(c=a["/"]);d&&(H.$$p=null);if(e===m)return this.$enum_for("each_line",c);if(c===m)return b.yield1(e,this),this;c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str");var h,f,g;if(0===c.length){c=this.split(/(\n{2,})/);d=0;
for(h=c.length;d<h;d+=2)(c[d]||c[d+1])&&b.yield1(e,(c[d]||"")+(c[d+1]||""));return this}d=this.$chomp(c);h=this.length!=d.length;g=d.split(c);d=0;for(f=g.length;d<f;d++)d<f-1||h?b.yield1(e,g[d]+c):b.yield1(e,g[d]);return this},H.$$arity=-1);b.defn(e,"$empty?",L=function(){return 0===this.length},L.$$arity=0);b.defn(e,"$end_with?",T=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++){var h=b.const_get_relative(k,"Opal").$coerce_to(c[d],
b.const_get_relative(k,"String"),"to_str").$to_s();if(this.length>=h.length&&this.substr(this.length-h.length,h.length)==h)return!0}return!1},T.$$arity=-1);b.alias(e,"eql?","==");b.alias(e,"equal?","===");b.defn(e,"$gsub",la=function(c,d){var e=this,h=la.$$p,f=h||m;h&&(la.$$p=null);if(void 0===d&&f===m)return e.$enum_for("gsub",c);var h="",g=m,l=0,U,X;c.$$is_regexp?c=new RegExp(c.source,"gm"+(c.ignoreCase?"i":"")):(c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str"),
c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){U=c.exec(e);if(null===U){a["~"]=m;h+=e.slice(l);break}g=b.const_get_relative(k,"MatchData").$new(c,U);void 0===d?X=f(U[0]):d.$$is_hash?X=d["$[]"](U[0]).$to_s():(d.$$is_string||(d=b.const_get_relative(k,"Opal").$coerce_to(d,b.const_get_relative(k,"String"),"to_str")),X=d.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=U.length-1;0<a;a--)if(void 0!==U[a])return b.slice(1)+U[a];return"";
case "&":return b.slice(1)+U[0];case "`":return b.slice(1)+e.slice(0,U.index);case "'":return b.slice(1)+e.slice(U.index+U[0].length);default:return b.slice(1)+(U[c]||"")}}).replace(/\\\\/g,"\\"));c.lastIndex===U.index?(h+=X+e.slice(l,U.index+1),c.lastIndex+=1):h+=e.slice(l,U.index)+X;l=c.lastIndex}a["~"]=g;return h},la.$$arity=-2);b.defn(e,"$hash",ha=function(){return this.toString()},ha.$$arity=0);b.defn(e,"$hex",na=function(){return this.$to_i(16)},na.$$arity=0);b.defn(e,"$include?",J=function(a){a.$$is_string||
(a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str"));return-1!==this.indexOf(a)},J.$$arity=1);b.defn(e,"$index",fa=function(c,d){var e,h;if(void 0===d)d=0;else if(d=b.const_get_relative(k,"Opal").$coerce_to(d,b.const_get_relative(k,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return m;if(c.$$is_regexp)for(h=new RegExp(c.source,"gm"+(c.ignoreCase?"i":""));;){e=h.exec(this);if(null===e){a["~"]=m;e=-1;break}if(e.index>=d){a["~"]=b.const_get_relative(k,"MatchData").$new(h,
e);e=e.index;break}h.lastIndex=e.index+1}else c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str"),e=0===c.length&&d>this.length?-1:this.indexOf(c,d);return-1===e?m:e},fa.$$arity=-2);b.defn(e,"$inspect",ja=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},ja.$$arity=0);b.defn(e,"$intern",Y=function(){return this},Y.$$arity=0);b.defn(e,"$lines",V=function(b){var c=V.$$p,d=c||m,e=m;null==a["/"]&&(a["/"]=m);null==b&&(b=a["/"]);c&&(V.$$p=null);e=B(this,"each_line",[b],d.$to_proc());return p(d)?this:e.$to_a()},V.$$arity=-1);b.defn(e,"$length",ea=function(){return this.length},ea.$$arity=0);b.defn(e,"$ljust",sa=function(a,c){null==
c&&(c=" ");a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"Integer"),"to_int");c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str").$to_s();p(c["$empty?"]())&&this.$raise(b.const_get_relative(k,"ArgumentError"),"zero width padding");if(p(a<=this.length))return this;var d=-1,e="";for(a-=this.length;++d<a;)e+=c;return this+e.slice(0,a)},sa.$$arity=-2);b.defn(e,"$lstrip",pa=function(){return this.replace(/^\s*/,"")},pa.$$arity=0);b.defn(e,"$ascii_only?",
A=function(){return this.match(/[ -~\n]*/)[0]===this},A.$$arity=0);b.defn(e,"$match",ga=function(a,c){var d,e=ga.$$p,h=e||m;e&&(ga.$$p=null);p(p(d=b.const_get_relative(k,"String")["$==="](a))?d:a["$respond_to?"]("to_str"))&&(a=b.const_get_relative(k,"Regexp").$new(a.$to_str()));p(b.const_get_relative(k,"Regexp")["$==="](a))||this.$raise(b.const_get_relative(k,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return B(a,"match",[this,c],h.$to_proc())},ga.$$arity=-2);b.defn(e,"$next",
ka=function(){var a=this.length;if(0===a)return"";for(var b=this,c=this.search(/[a-zA-Z0-9]/),d=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:d=!0;e=48;break;case 90:d=!0;e=65;break;case 122:d=!0;e=97;break;default:d=!1,e+=1}else-1===c?255===e?(d=!0,e=0):(d=!1,e+=1):d=!0;b=b.slice(0,a)+String.fromCharCode(e)+b.slice(a+1);if(d&&(0===a||a===c)){switch(e){case 65:break;case 97:break;default:e+=1}b=0===a?String.fromCharCode(e)+b:b.slice(0,a)+String.fromCharCode(e)+
b.slice(a);d=!1}if(!d)break}return b},ka.$$arity=0);b.defn(e,"$oct",oa=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,d,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===d)return a}switch(d){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+e});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},oa.$$arity=0);b.defn(e,"$ord",ra=function(){return this.charCodeAt(0)},
ra.$$arity=0);b.defn(e,"$partition",R=function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(b.const_get_relative(k,"MatchData").$new(a,c),a=c[0],c=c.index)):(a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str"),c=this.indexOf(a));return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},R.$$arity=1);b.defn(e,"$reverse",z=function(){return this.split("").reverse().join("")},z.$$arity=0);b.defn(e,"$rindex",ca=function(c,
d){var e,h,f;if(void 0===d)d=this.length;else if(d=b.const_get_relative(k,"Opal").$coerce_to(d,b.const_get_relative(k,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return m;if(c.$$is_regexp){e=null;for(h=new RegExp(c.source,"gm"+(c.ignoreCase?"i":""));;){f=h.exec(this);if(null===f||f.index>d)break;e=f;h.lastIndex=e.index+1}null===e?(a["~"]=m,e=-1):(b.const_get_relative(k,"MatchData").$new(h,e),e=e.index)}else c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str"),
e=this.lastIndexOf(c,d);return-1===e?m:e},ca.$$arity=-2);b.defn(e,"$rjust",qa=function(a,c){null==c&&(c=" ");a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"Integer"),"to_int");c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str").$to_s();p(c["$empty?"]())&&this.$raise(b.const_get_relative(k,"ArgumentError"),"zero width padding");if(p(a<=this.length))return this;var d=Math.floor(a-this.length),e=Array(Math.floor(d/c.length)+1).join(c);return e+
c.slice(0,d-e.length)+this},qa.$$arity=-2);b.defn(e,"$rpartition",Aa=function(a){var c,d,e;if(a.$$is_regexp){c=null;for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=d.exec(this);if(null===e)break;c=e;d.lastIndex=c.index+1}null===c?c=-1:(b.const_get_relative(k,"MatchData").$new(d,c),a=c[0],c=c.index)}else a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str"),c=this.lastIndexOf(a);return-1===c?["","",this]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+
a.length)]},Aa.$$arity=1);b.defn(e,"$rstrip",xa=function(){return this.replace(/[\s\u0000]*$/,"")},xa.$$arity=0);b.defn(e,"$scan",ya=function(c){var d=ya.$$p,e=d||m;d&&(ya.$$p=null);var d=[],h=m,f;c.$$is_regexp?c=new RegExp(c.source,"gm"+(c.ignoreCase?"i":"")):(c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str"),c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(f=c.exec(this));)h=b.const_get_relative(k,"MatchData").$new(c,f),e===m?1==f.length?
d.push(f[0]):d.push(h.$captures()):1==f.length?e(f[0]):e.call(this,h.$captures()),c.lastIndex===f.index&&(c.lastIndex+=1);a["~"]=h;return e!==m?this:d},ya.$$arity=1);b.alias(e,"size","length");b.alias(e,"slice","[]");b.defn(e,"$split",za=function(c,d){var e;null==a[";"]&&(a[";"]=m);if(0===this.length)return[];if(void 0===d)d=0;else if(d=b.const_get_relative(k,"Opal")["$coerce_to!"](d,b.const_get_relative(k,"Integer"),"to_int"),1===d)return[this];if(void 0===c||c===m)c=p(e=a[";"])?e:" ";e=[];var h=
this.toString(),f=0,g,l;c.$$is_regexp?c=new RegExp(c.source,"gm"+(c.ignoreCase?"i":"")):(c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str").$to_s()," "===c?(c=/\s+/gm,h=h.replace(/^\s+/,"")):c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));e=h.split(c);if(1===e.length&&e[0]===h)return e;for(;-1!==(l=e.indexOf(void 0));)e.splice(l,1);if(0===d){for(;""===e[e.length-1];)--e.length;return e}g=c.exec(h);if(0>d){if(null!==g&&""===g[0]&&-1===c.source.indexOf("(?="))for(l=
0,h=g.length;l<h;l++)e.push("");return e}if(null!==g&&""===g[0])return e.splice(d-1,e.length-1,e.slice(d-1).join("")),e;if(d>=e.length)return e;for(l=0;null!==g;){l++;f=c.lastIndex;if(l+1===d)break;g=c.exec(h)}e.splice(d-1,e.length-1,h.slice(f));return e},za.$$arity=-1);b.defn(e,"$squeeze",Ca=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];if(0===b.length)return this.replace(/(.)\1+/g,"$1");c=f(b);return null===c?this:this.replace(new RegExp("("+
c+")\\1+","g"),"$1")},Ca.$$arity=-1);b.defn(e,"$start_with?",Ea=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++){var h=b.const_get_relative(k,"Opal").$coerce_to(c[d],b.const_get_relative(k,"String"),"to_str").$to_s();if(0===this.indexOf(h))return!0}return!1},Ea.$$arity=-1);b.defn(e,"$strip",Fa=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},Fa.$$arity=0);b.defn(e,"$sub",Ga=function(c,d){var e=
this,h=Ga.$$p,f=h||m;h&&(Ga.$$p=null);c.$$is_regexp||(c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str"),c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var g=c.exec(e);if(null===g)return a["~"]=m,e.toString();b.const_get_relative(k,"MatchData").$new(c,g);if(void 0===d)return f===m&&e.$raise(b.const_get_relative(k,"ArgumentError"),"wrong number of arguments (1 for 2)"),e.slice(0,g.index)+f(g[0])+e.slice(g.index+g[0].length);if(d.$$is_hash)return e.slice(0,
g.index)+d["$[]"](g[0]).$to_s()+e.slice(g.index+g[0].length);d=b.const_get_relative(k,"Opal").$coerce_to(d,b.const_get_relative(k,"String"),"to_str");d=d.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=g.length-1;0<a;a--)if(void 0!==g[a])return b.slice(1)+g[a];return"";case "&":return b.slice(1)+g[0];case "`":return b.slice(1)+e.slice(0,g.index);case "'":return b.slice(1)+e.slice(g.index+g[0].length);default:return b.slice(1)+(g[c]||"")}}).replace(/\\\\/g,
"\\");return e.slice(0,g.index)+d+e.slice(g.index+g[0].length)},Ga.$$arity=-2);b.alias(e,"succ","next");b.defn(e,"$sum",Ha=function(a){null==a&&(a=16);a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"Integer"),"to_int");for(var c=0,d=this.length,e=0;e<d;e++)c+=this.charCodeAt(e);return 0>=a?c:c&Math.pow(2,a)-1},Ha.$$arity=-1);b.defn(e,"$swapcase",U=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===
String?a:this.$class().$new(a)},U.$$arity=0);b.defn(e,"$to_f",ma=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},ma.$$arity=0);b.defn(e,"$to_i",Ia=function(a){null==a&&(a=10);var c=this.toLowerCase(),d=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"Integer"),"to_int");(1===d||0>d||36<d)&&this.$raise(b.const_get_relative(k,"ArgumentError"),"invalid radix "+d);if(/^\s*_/.test(c))return 0;c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,
function(a,b,c,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===c&&(0===d||16===d))return a}switch(c){case "0b":if(0===d||2===d)return d=2,b+e;break;case "0":case "0o":if(0===d||8===d)return d=8,b+e;break;case "0d":if(0===d||10===d)return d=10,b+e;break;case "0x":if(0===d||16===d)return d=16,b+e}return a});a=parseInt(c.replace(/_(?!_)/g,""),d);return isNaN(a)?0:a},Ia.$$arity=-1);b.defn(e,"$to_proc",Ja=function(){var a,c=m,c=this.valueOf();return B(this,"proc",
[],(a=function(d){var e=a.$$s||this,h,f;if(h=a.$$p||m)a.$$p=null;var g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var l=0;l<g;l++)f[l-0]=arguments[l];0===f.length&&e.$raise(b.const_get_relative(k,"ArgumentError"),"no receiver given");e=f.shift();null==e&&(e=m);return b.send(e,c,f,h)},a.$$s=this,a.$$arity=-1,a))},Ja.$$arity=0);b.defn(e,"$to_s",va=function(){return this.toString()},va.$$arity=0);b.alias(e,"to_str","to_s");b.alias(e,"to_sym","intern");b.defn(e,"$tr",Ka=function(a,c){a=b.const_get_relative(k,
"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str").$to_s();c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str").$to_s();if(0==a.length||a===c)return this;var d,e,h,f,g,l={};g=a.split("");var U=g.length,X=c.split(""),z=X.length,n=!1,t=null;"^"===g[0]&&1<g.length&&(n=!0,g.shift(),t=X[z-1],--U);var u=[];h=null;e=!1;for(d=0;d<U;d++)if(f=g[d],null==h)h=f,u.push(f);else if("-"===f)"-"===h?(u.push("-"),u.push("-")):d==U-1?u.push("-"):e=!0;else if(e){h=h.charCodeAt(0);
e=f.charCodeAt(0);h>e&&this.$raise(b.const_get_relative(k,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)u.push(String.fromCharCode(h));u.push(f);h=e=null}else u.push(f);g=u;U=g.length;if(n)for(d=0;d<U;d++)l[g[d]]=!0;else{if(0<z){u=[];h=null;e=!1;for(d=0;d<z;d++)if(f=X[d],null==h)h=f,u.push(f);else if("-"===f)"-"===h?(u.push("-"),u.push("-")):d==z-1?u.push("-"):e=!0;else if(e){h=h.charCodeAt(0);e=f.charCodeAt(0);
h>e&&this.$raise(b.const_get_relative(k,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)u.push(String.fromCharCode(h));u.push(f);h=e=null}else u.push(f);X=u;z=X.length}f=U-z;if(0<f)for(z=0<z?X[z-1]:"",d=0;d<f;d++)X.push(z);for(d=0;d<U;d++)l[g[d]]=X[d]}U="";d=0;for(g=this.length;d<g;d++)f=this.charAt(d),X=l[f],U=n?U+(null==X?t:f):U+(null!=X?X:f);return U},Ka.$$arity=2);b.defn(e,"$tr_s",Na=function(a,c){a=b.const_get_relative(k,
"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str").$to_s();c=b.const_get_relative(k,"Opal").$coerce_to(c,b.const_get_relative(k,"String"),"to_str").$to_s();if(0==a.length)return this;var d,e,h,f,g,l={};g=a.split("");var U=g.length,X=c.split(""),z=X.length,n=!1,u=null;"^"===g[0]&&1<g.length&&(n=!0,g.shift(),u=X[z-1],--U);var t=[];h=null;e=!1;for(d=0;d<U;d++)if(f=g[d],null==h)h=f,t.push(f);else if("-"===f)"-"===h?(t.push("-"),t.push("-")):d==U-1?t.push("-"):e=!0;else if(e){h=h.charCodeAt(0);
e=f.charCodeAt(0);h>e&&this.$raise(b.const_get_relative(k,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)t.push(String.fromCharCode(h));t.push(f);h=e=null}else t.push(f);g=t;U=g.length;if(n)for(d=0;d<U;d++)l[g[d]]=!0;else{if(0<z){t=[];e=!1;for(d=0;d<z;d++)if(f=X[d],null==h)h=f,t.push(f);else if("-"===f)d==z-1?t.push("-"):e=!0;else if(e){h=h.charCodeAt(0);e=f.charCodeAt(0);h>e&&this.$raise(b.const_get_relative(k,
"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)t.push(String.fromCharCode(h));t.push(f);h=e=null}else t.push(f);X=t;z=X.length}f=U-z;if(0<f)for(z=0<z?X[z-1]:"",d=0;d<f;d++)X.push(z);for(d=0;d<U;d++)l[g[d]]=X[d]}U="";X=null;d=0;for(g=this.length;d<g;d++)if(f=this.charAt(d),z=l[f],n)null==z?null==X&&(U+=u,X=!0):(U+=f,X=null);else if(null!=z){if(null==X||X!==z)U+=z,X=z}else U+=f,X=null;return U},Na.$$arity=2);b.defn(e,
"$upcase",Ma=function(){return this.toUpperCase()},Ma.$$arity=0);b.defn(e,"$upto",La=function(a,c){var d=La.$$p,e=d||m;null==c&&(c=!1);d&&(La.$$p=null);if(e===m)return this.$enum_for("upto",a,c);a=b.const_get_relative(k,"Opal").$coerce_to(a,b.const_get_relative(k,"String"),"to_str");var h,d=this.toString();if(1===d.length&&1===a.length)for(d=d.charCodeAt(0),h=a.charCodeAt(0);d<=h&&(!c||d!==h);)e(String.fromCharCode(d)),d+=1;else if(parseInt(d,10).toString()===d&&parseInt(a,10).toString()===a)for(d=
parseInt(d,10),h=parseInt(a,10);d<=h&&(!c||d!==h);)e(d.toString()),d+=1;else for(;d.length<=a.length&&d<=a&&(!c||d!==a);)e(d),d=d.$succ();return this},La.$$arity=-2);b.defn(e,"$instance_variables",Ba=function(){return[]},Ba.$$arity=0);b.defs(e,"$_load",Da=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return B(this,"new",b.to_a(c))},Da.$$arity=-1);return(b.defn(e,"$unpack",X=function(a){var c=m;c=a;if("U*"["$==="](c)||"C*"["$==="](c)){var d=
this.length,e=[];for(a=0;a<d;a++)c=this.charCodeAt(a),e.push(c);a=e}else a=this.$raise(b.const_get_relative(k,"NotImplementedError"));return a},X.$$arity=1),m)&&"unpack"})(r[0],String,r);return b.const_set(r[0],"Symbol",b.const_get_relative(r,"String"))},Opal.modules["corelib/enumerable"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function A(a,b){return"number"===typeof a&&
"number"===typeof b?a-b:a["$-"](b)}var r=[],m=b.nil,y=b.module,p=b.send,B=b.truthy,a=b.falsy;b.add_stubs("$each $destructure $raise $new $yield $slice_when $! $enum_for $enumerator_size $flatten $map $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $to_enum $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $lambda $sort! $map! $zip".split(" "));return function(h,w){var F=y(h,"Enumerable"),v=[F].concat(w),
f,e,k,g,c,d,D,u,l,n,S,r,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,T,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra;b.defn(F,"$all?",f=function(){try{var a,c,d=f.$$p,e=d||m;d&&(f.$$p=null);e!==m?p(this,"each",[],(a=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var h=0;h<d;h++)c[h-0]=arguments[h];if(B(b.yieldX(e,b.to_a(c))))return m;b.ret(!1)},a.$$s=this,a.$$arity=-1,a)):p(this,"each",[],(c=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=
arguments[e];if(B(b.const_get_relative(v,"Opal").$destructure(c)))return m;b.ret(!1)},c.$$s=this,c.$$arity=-1,c));return!0}catch(h){if(h===b.returner)return h.$v;throw h;}},f.$$arity=0);b.defn(F,"$any?",e=function(){try{var a,c,d=e.$$p,h=d||m;d&&(e.$$p=null);h!==m?p(this,"each",[],(a=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(B(b.yieldX(h,b.to_a(c))))b.ret(!0);else return m},a.$$s=this,a.$$arity=-1,a)):p(this,"each",[],(c=function(a){var c,
d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(B(b.const_get_relative(v,"Opal").$destructure(c)))b.ret(!0);else return m},c.$$s=this,c.$$arity=-1,c));return!1}catch(f){if(f===b.returner)return f.$v;throw f;}},e.$$arity=0);b.defn(F,"$chunk",k=function(){var a,c=k.$$p,d=c||m;c&&(k.$$p=null);d===m&&b.const_get_relative(v,"Kernel").$raise(b.const_get_relative(v,"ArgumentError"),"no block given");return p(b.const_get_qualified("::","Enumerator"),"new",[],(a=function(c){function e(){0<
g.length&&c.$yield(f,g)}var h=a.$$s||this;null==c&&(c=m);var f=m,g=[];h.$each.$$p=function(a){var c=b.yield1(d,a);c===m?(e(),g=[],f=m):(f===m||f===c?g.push(a):(e(),g=[a]),f=c)};h.$each();e()},a.$$s=this,a.$$arity=1,a))},k.$$arity=0);b.defn(F,"$chunk_while",g=function(){var a,c=g.$$p,d=c||m;c&&(g.$$p=null);d===m&&this.$raise(b.const_get_relative(v,"ArgumentError"),"no block given");return p(this,"slice_when",[],(a=function(a,c){null==a&&(a=m);null==c&&(c=m);return b.yieldX(d,[a,c])["$!"]()},a.$$s=
this,a.$$arity=2,a))},g.$$arity=0);b.defn(F,"$collect",c=function(){var a,d=c.$$p,e=d||m;d&&(c.$$p=null);if(e===m)return p(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var h=[];this.$each.$$p=function(){var a=b.yieldX(e,arguments);h.push(a)};this.$each();return h},c.$$arity=0);b.defn(F,"$collect_concat",d=function(){var a,c,e=d.$$p,h=e||m;e&&(d.$$p=null);return h===m?p(this,"enum_for",["collect_concat"],(a=function(){return(a.$$s||this).$enumerator_size()},
a.$$s=this,a.$$arity=0,a)):p(this,"map",[],(c=function(a){null==a&&(a=m);return b.yield1(h,a)},c.$$s=this,c.$$arity=1,c)).$flatten(1)},d.$$arity=0);b.defn(F,"$count",D=function(a){var c,d,e,h=D.$$p,f=h||m,g=m;h&&(D.$$p=null);g=0;B(null!=a)?f=p(this,"proc",[],(c=function(c){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var h=0;h<e;h++)d[h-0]=arguments[h];return b.const_get_relative(v,"Opal").$destructure(d)["$=="](a)},c.$$s=this,c.$$arity=-1,c)):B(f["$nil?"]())&&(f=p(this,"proc",[],(d=function(){return!0},
d.$$s=this,d.$$arity=0,d)));p(this,"each",[],(e=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return B(b.yieldX(f,c))?g++:m},e.$$s=this,e.$$arity=-1,e));return g},D.$$arity=-1);b.defn(F,"$cycle",u=function(a){var c,d=u.$$p,e=d||m;null==a&&(a=m);d&&(u.$$p=null);if(e===m)return p(this,"enum_for",["cycle",a],(c=function(){var d=c.$$s||this;if(a["$=="](m))return B(d["$respond_to?"]("size"))?b.const_get_qualified(b.const_get_relative(v,"Float"),
"INFINITY"):m;a=b.const_get_relative(v,"Opal")["$coerce_to!"](a,b.const_get_relative(v,"Integer"),"to_int");return B(q(a,0))?(d=d.$enumerator_size(),"number"===typeof d&&"number"===typeof a?d*a:d["$*"](a)):0},c.$$s=this,c.$$arity=0,c));if(!B(a["$nil?"]())&&(a=b.const_get_relative(v,"Opal")["$coerce_to!"](a,b.const_get_relative(v,"Integer"),"to_int"),B(0>=a)))return m;var h=[],f;this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments);b.yield1(e,a);h.push(a)};this.$each();
if(0===h.length)return m;if(a===m)for(;;)for(d=0,f=h.length;d<f;d++)b.yield1(e,h[d]);else for(;1<a;){d=0;for(f=h.length;d<f;d++)b.yield1(e,h[d]);a--}},u.$$arity=-1);b.defn(F,"$detect",l=function(a){try{var c,d=l.$$p,e=d||m;d&&(l.$$p=null);if(e===m)return this.$enum_for("detect",a);p(this,"each",[],(c=function(a){var c,d=m,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var h=0;h<d;h++)c[h-0]=arguments[h];d=b.const_get_relative(v,"Opal").$destructure(c);if(B(b.yield1(e,d)))b.ret(d);else return m},
c.$$s=this,c.$$arity=-1,c));return void 0!==a?"function"===typeof a?a():a:m}catch(h){if(h===b.returner)return h.$v;throw h;}},l.$$arity=-1);b.defn(F,"$drop",n=function(a){a=b.const_get_relative(v,"Opal").$coerce_to(a,b.const_get_relative(v,"Integer"),"to_int");B(0>a)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"attempt to drop negative size");var c=[],d=0;this.$each.$$p=function(){a<=d&&c.push(b.const_get_relative(v,"Opal").$destructure(arguments));d++};this.$each();return c},n.$$arity=1);
b.defn(F,"$drop_while",S=function(){var c=S.$$p,d=c||m;c&&(S.$$p=null);if(d===m)return this.$enum_for("drop_while");var e=[],h=!0;this.$each.$$p=function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments);if(h){var f=b.yield1(d,c);a(f)&&(h=!1,e.push(c))}else e.push(c)};this.$each();return e},S.$$arity=0);b.defn(F,"$each_cons",r=function(a){var c,d=r.$$p,e=d||m;d&&(r.$$p=null);B(1!=arguments.length)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"wrong number of arguments ("+arguments.length+
" for 1)");a=b.const_get_relative(v,"Opal").$try_convert(a,b.const_get_relative(v,"Integer"),"to_int");B(0>=a)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"invalid size");if(e===m)return p(this,"enum_for",["each_cons",a],(c=function(){var b,d=m,d=(c.$$s||this).$enumerator_size();return B(d["$nil?"]())?m:B(B(b=d["$=="](0))?b:"number"===typeof d&&"number"===typeof a?d<a:d["$<"](a))?0:x(A(d,a),1)},c.$$s=this,c.$$arity=0,c));var h=[];this.$each.$$p=function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments);
h.push(c);h.length>a&&h.shift();h.length==a&&b.yield1(e,h.slice(0,a))};this.$each();return m},r.$$arity=1);b.defn(F,"$each_entry",G=function(a){var c,d,e=G.$$p,h=e||m,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var g=0;g<f;g++)d[g-0]=arguments[g];e&&(G.$$p=null);if(h===m)return p(this,"to_enum",["each_entry"].concat(b.to_a(d)),(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments);
b.yield1(h,a)};this.$each.apply(this,d);return this},G.$$arity=-1);b.defn(F,"$each_slice",t=function(a){var c,d=t.$$p,e=d||m;d&&(t.$$p=null);a=b.const_get_relative(v,"Opal").$coerce_to(a,b.const_get_relative(v,"Integer"),"to_int");B(0>=a)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"invalid slice size");if(e===m)return p(this,"enum_for",["each_slice",a],(c=function(){var b=c.$$s||this;return B(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()):
m},c.$$s=this,c.$$arity=0,c));var h=[];this.$each.$$p=function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments);h.push(c);h.length===a&&(b.yield1(e,h),h=[])};this.$each();0<h.length&&b.yield1(e,h);return m},t.$$arity=1);b.defn(F,"$each_with_index",Z=function(a){var c,d,e=Z.$$p,h=e||m,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var g=0;g<f;g++)d[g-0]=arguments[g];e&&(Z.$$p=null);if(h===m)return p(this,"enum_for",["each_with_index"].concat(b.to_a(d)),(c=function(){return(c.$$s||
this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var l=0;this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments);h(a,l);l++};this.$each.apply(this,d);return this},Z.$$arity=-1);b.defn(F,"$each_with_object",C=function(a){var c,d=C.$$p,e=d||m;d&&(C.$$p=null);if(e===m)return p(this,"enum_for",["each_with_object",a],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));this.$each.$$p=function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments);
e(c,a)};this.$each();return a},C.$$arity=1);b.defn(F,"$entries",K=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];var h=[];this.$each.$$p=function(){h.push(b.const_get_relative(v,"Opal").$destructure(arguments))};this.$each.apply(this,c);return h},K.$$arity=-1);b.alias(F,"find","detect");b.defn(F,"$find_all",ia=function(){var a,c=ia.$$p,d=c||m;c&&(ia.$$p=null);if(d===m)return p(this,"enum_for",["find_all"],(a=function(){return(a.$$s||this).$enumerator_size()},
a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments),c=b.yield1(d,a);B(c)&&e.push(a)};this.$each();return e},ia.$$arity=0);b.defn(F,"$find_index",aa=function(a){try{var c,d,e=aa.$$p,h=e||m,f=m;e&&(aa.$$p=null);if(B(void 0===a&&h===m))return this.$enum_for("find_index");f=0;B(null!=a)?p(this,"each",[],(c=function(c){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var h=0;h<e;h++)d[h-0]=arguments[h];b.const_get_relative(v,
"Opal").$destructure(d)["$=="](a)&&b.ret(f);return f+=1},c.$$s=this,c.$$arity=-1,c)):p(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];B(b.yieldX(h,b.to_a(c)))&&b.ret(f);return f+=1},d.$$s=this,d.$$arity=-1,d));return m}catch(g){if(g===b.returner)return g.$v;throw g;}},aa.$$arity=-1);b.defn(F,"$first",ta=function(a){try{var c,d,e=m,h=m;if(B(void 0===a))return p(this,"each",[],(c=function(a){null==a&&(a=m);b.ret(a)},c.$$s=this,
c.$$arity=1,c));e=[];a=b.const_get_relative(v,"Opal").$coerce_to(a,b.const_get_relative(v,"Integer"),"to_int");B(0>a)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"attempt to take negative size");if(B(0==a))return[];h=0;p(this,"each",[],(d=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var g=0;g<f;g++)d[g-0]=arguments[g];e.push(b.const_get_relative(v,"Opal").$destructure(d));if(B(a<=++h))b.ret(e);else return m},d.$$s=this,d.$$arity=-1,d));return e}catch(f){if(f===b.returner)return f.$v;
throw f;}},ta.$$arity=-1);b.alias(F,"flat_map","collect_concat");b.defn(F,"$grep",M=function(a){var c=M.$$p,d=c||m;c&&(M.$$p=null);var e=[];this.$each.$$p=d!==m?function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments),h=a["$==="](c);B(h)&&(h=b.yield1(d,c),e.push(h))}:function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments),d=a["$==="](c);B(d)&&e.push(c)};this.$each();return e},M.$$arity=1);b.defn(F,"$grep_v",Q=function(c){var d=Q.$$p,e=d||m;d&&(Q.$$p=null);var h=[];this.$each.$$p=
e!==m?function(){var d=b.const_get_relative(v,"Opal").$destructure(arguments),f=c["$==="](d);a(f)&&(f=b.yield1(e,d),h.push(f))}:function(){var d=b.const_get_relative(v,"Opal").$destructure(arguments),e=c["$==="](d);a(e)&&h.push(d)};this.$each();return h},Q.$$arity=1);b.defn(F,"$group_by",W=function(){var a,c,d=W.$$p,e=d||m,h=m,f=m;d&&(W.$$p=null);if(e===m)return p(this,"enum_for",["group_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));h=b.const_get_relative(v,
"Hash").$new();this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments),d=b.yield1(e,a);(B(c=h["$[]"](d))?c:(f=[d,[]],p(h,"[]=",b.to_a(f)),f[A(f.length,1)]))["$<<"](a)};this.$each();return h},W.$$arity=0);b.defn(F,"$include?",N=function(a){try{var c;p(this,"each",[],(c=function(c){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var h=0;h<e;h++)d[h-0]=arguments[h];if(b.const_get_relative(v,"Opal").$destructure(d)["$=="](a))b.ret(!0);else return m},c.$$s=this,
c.$$arity=-1,c));return!1}catch(d){if(d===b.returner)return d.$v;throw d;}},N.$$arity=1);b.defn(F,"$inject",P=function(a,c){var d=P.$$p,e=d||m;d&&(P.$$p=null);var h=a;e!==m&&void 0===c?this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments);void 0!==h&&(a=b.yieldX(e,[h,a]));h=a}:(void 0===c&&(b.const_get_relative(v,"Symbol")["$==="](a)||this.$raise(b.const_get_relative(v,"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,h=void 0),this.$each.$$p=function(){var a=b.const_get_relative(v,
"Opal").$destructure(arguments);h=void 0===h?a:h.$__send__(c,a)});this.$each();return void 0==h?m:h},P.$$arity=-1);b.defn(F,"$lazy",ba=function(){var a;return p(b.const_get_qualified(b.const_get_relative(v,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var h=1;h<e;h++)d[h-1]=arguments[h];null==a&&(a=m);return p(a,"yield",b.to_a(d))},a.$$s=this,a.$$arity=-2,a))},ba.$$arity=0);b.defn(F,"$enumerator_size",O=function(){return B(this["$respond_to?"]("size"))?
this.$size():m},O.$$arity=0);b.alias(F,"map","collect");b.defn(F,"$max",H=function(a){var c=this,d=H.$$p,e=d||m;d&&(H.$$p=null);if(void 0===a||a===m){var h,f;c.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments);void 0===h?h=a:(f=e!==m?b.yieldX(e,[a,h]):a["$<=>"](h),f===m&&c.$raise(b.const_get_relative(v,"ArgumentError"),"comparison failed"),0<f&&(h=a))};c.$each();return void 0===h?m:h}a=b.const_get_relative(v,"Opal").$coerce_to(a,b.const_get_relative(v,"Integer"),"to_int");
return p(c,"sort",[],e.$to_proc()).$reverse().$first(a)},H.$$arity=-1);b.defn(F,"$max_by",L=function(){var a,c=L.$$p,d=c||m;c&&(L.$$p=null);if(!B(d))return p(this,"enum_for",["max_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e,h;this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments),c=b.yield1(d,a);void 0===e?(e=a,h=c):0<c["$<=>"](h)&&(e=a,h=c)};this.$each();return void 0===e?m:e},L.$$arity=0);b.alias(F,"member?","include?");
b.defn(F,"$min",T=function(){var a=this,c=T.$$p,d=c||m;c&&(T.$$p=null);var e;a.$each.$$p=d!==m?function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments);if(void 0===e)e=c;else{var h=d(c,e);h===m&&a.$raise(b.const_get_relative(v,"ArgumentError"),"comparison failed");0>h&&(e=c)}}:function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments);void 0===e?e=a:0>b.const_get_relative(v,"Opal").$compare(a,e)&&(e=a)};a.$each();return void 0===e?m:e},T.$$arity=0);b.defn(F,"$min_by",la=
function(){var a,c=la.$$p,d=c||m;c&&(la.$$p=null);if(!B(d))return p(this,"enum_for",["min_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e,h;this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments),c=b.yield1(d,a);void 0===e?(e=a,h=c):0>c["$<=>"](h)&&(e=a,h=c)};this.$each();return void 0===e?m:e},la.$$arity=0);b.defn(F,"$minmax",ha=function(){var a,c,d=this,e=ha.$$p,h=e||m;e&&(ha.$$p=null);var h=B(a=h)?a:p(d,"proc",[],(c=function(a,
b){null==a&&(a=m);null==b&&(b=m);return a["$<=>"](b)},c.$$s=d,c.$$arity=2,c)),f=m,g=m,l=!0;d.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments);if(l)f=g=a,l=!1;else{var c=h.$call(f,a);c===m?d.$raise(b.const_get_relative(v,"ArgumentError"),"comparison failed"):0<c&&(f=a);c=h.$call(g,a);c===m?d.$raise(b.const_get_relative(v,"ArgumentError"),"comparison failed"):0>c&&(g=a)}};d.$each();return[f,g]},ha.$$arity=0);b.defn(F,"$minmax_by",na=function(){na.$$p&&(na.$$p=null);
return this.$raise(b.const_get_relative(v,"NotImplementedError"))},na.$$arity=0);b.defn(F,"$none?",J=function(){try{var a,c,d=J.$$p,e=d||m;d&&(J.$$p=null);e!==m?p(this,"each",[],(a=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var h=0;h<d;h++)c[h-0]=arguments[h];if(B(b.yieldX(e,b.to_a(c))))b.ret(!1);else return m},a.$$s=this,a.$$arity=-1,a)):p(this,"each",[],(c=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(B(b.const_get_relative(v,
"Opal").$destructure(c)))b.ret(!1);else return m},c.$$s=this,c.$$arity=-1,c));return!0}catch(h){if(h===b.returner)return h.$v;throw h;}},J.$$arity=0);b.defn(F,"$one?",fa=function(){try{var a,c,d=fa.$$p,e=d||m,h=m;d&&(fa.$$p=null);h=0;e!==m?p(this,"each",[],(a=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];if(B(b.yieldX(e,b.to_a(c))))if(h=x(h,1),B(q(h,1)))b.ret(!1);else return m;else return m},a.$$s=this,a.$$arity=-1,a)):p(this,"each",[],(c=
function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(B(b.const_get_relative(v,"Opal").$destructure(c)))if(h=x(h,1),B(q(h,1)))b.ret(!1);else return m;else return m},c.$$s=this,c.$$arity=-1,c));return h["$=="](1)}catch(f){if(f===b.returner)return f.$v;throw f;}},fa.$$arity=0);b.defn(F,"$partition",ja=function(){var a,c=ja.$$p,d=c||m;c&&(ja.$$p=null);if(d===m)return p(this,"enum_for",["partition"],(a=function(){return(a.$$s||this).$enumerator_size()},
a.$$s=this,a.$$arity=0,a));var e=[],h=[];this.$each.$$p=function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments),c=b.yield1(d,a);B(c)?e.push(a):h.push(a)};this.$each();return[e,h]},ja.$$arity=0);b.alias(F,"reduce","inject");b.defn(F,"$reject",Y=function(){var c,d=Y.$$p,e=d||m;d&&(Y.$$p=null);if(e===m)return p(this,"enum_for",["reject"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var h=[];this.$each.$$p=function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments),
d=b.yield1(e,c);a(d)&&h.push(c)};this.$each();return h},Y.$$arity=0);b.defn(F,"$reverse_each",V=function(){var a,c=V.$$p,d=c||m;c&&(V.$$p=null);if(d===m)return p(this,"enum_for",["reverse_each"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){e.push(arguments)};this.$each();for(c=e.length-1;0<=c;c--)b.yieldX(d,e[c]);return e},V.$$arity=0);b.alias(F,"select","find_all");b.defn(F,"$slice_before",ea=function(a){var c,d=ea.$$p,e=d||m;
d&&(ea.$$p=null);B(void 0===a&&e===m)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"both pattern and block are given");B(void 0!==a&&e!==m||1<arguments.length)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return p(b.const_get_relative(v,"Enumerator"),"new",[],(c=function(d){var h=c.$$s||this;null==d&&(d=m);var f=[];h.$each.$$p=e!==m?void 0===a?function(){var a=b.const_get_relative(v,"Opal").$destructure(arguments),c=b.yield1(e,
a);B(c)&&0<f.length&&(d["$<<"](f),f=[]);f.push(a)}:function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments),h=e(c,a.$dup());B(h)&&0<f.length&&(d["$<<"](f),f=[]);f.push(c)}:function(){var c=b.const_get_relative(v,"Opal").$destructure(arguments),e=a["$==="](c);B(e)&&0<f.length&&(d["$<<"](f),f=[]);f.push(c)};h.$each();if(0<f.length)d["$<<"](f)},c.$$s=this,c.$$arity=1,c))},ea.$$arity=-1);b.defn(F,"$slice_after",sa=function(a){var c,d,e=sa.$$p,h=e||m;e&&(sa.$$p=null);B(void 0===a&&h===m)&&
this.$raise(b.const_get_relative(v,"ArgumentError"),"both pattern and block are given");B(void 0!==a&&h!==m||1<arguments.length)&&this.$raise(b.const_get_relative(v,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");B(void 0!==a)&&(h=p(this,"proc",[],(c=function(b){null==b&&(b=m);return a["$==="](b)},c.$$s=this,c.$$arity=1,c)));return p(b.const_get_relative(v,"Enumerator"),"new",[],(d=function(a){var c=d.$$s||this;null==a&&(a=m);var e;c.$each.$$p=function(){var c=b.const_get_relative(v,
"Opal").$destructure(arguments),d=b.yield1(h,c);null==e&&(e=[]);B(d)?(e.push(c),a.$yield(e),e=null):e.push(c)};c.$each();null!=e&&a.$yield(e)},d.$$s=this,d.$$arity=1,d))},sa.$$arity=-1);b.defn(F,"$slice_when",pa=function(){var a,c=pa.$$p,d=c||m;c&&(pa.$$p=null);d===m&&this.$raise(b.const_get_relative(v,"ArgumentError"),"wrong number of arguments (0 for 1)");return p(b.const_get_relative(v,"Enumerator"),"new",[],(a=function(c){var e=a.$$s||this;null==c&&(c=m);var h=m,f=m;e.$each_cons.$$p=function(){var a=
b.const_get_relative(v,"Opal").$destructure(arguments),e=a[0],a=a[1],g=b.yieldX(d,[e,a]);f=a;h===m&&(h=[]);B(g)?(h.push(e),c.$yield(h),h=[]):h.push(e)};e.$each_cons(2);h!==m&&(h.push(f),c.$yield(h))},a.$$s=this,a.$$arity=1,a))},pa.$$arity=0);b.defn(F,"$sort",ua=function(){var a,b=ua.$$p,c=b||m,d=m;b&&(ua.$$p=null);d=this.$to_a();c===m&&(c=p(this,"lambda",[],(a=function(a,b){null==a&&(a=m);null==b&&(b=m);return a["$<=>"](b)},a.$$s=this,a.$$arity=2,a)));return p(d,"sort",[],c.$to_proc())},ua.$$arity=
0);b.defn(F,"$sort_by",ga=function(){var a,c,d,e,h=ga.$$p,f=h||m,g=m;h&&(ga.$$p=null);if(f===m)return p(this,"enum_for",["sort_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));g=p(this,"map",[],(c=function(){var a=m,a=b.const_get_relative(v,"Opal").$destructure(arguments);return[b.yield1(f,a),a]},c.$$s=this,c.$$arity=0,c));p(g,"sort!",[],(d=function(a,b){null==a&&(a=m);null==b&&(b=m);return a[0]["$<=>"](b[0])},d.$$s=this,d.$$arity=2,d));return p(g,"map!",[],(e=
function(a){null==a&&(a=m);return a[1]},e.$$s=this,e.$$arity=1,e))},ga.$$arity=0);b.defn(F,"$take",ka=function(a){return this.$first(a)},ka.$$arity=1);b.defn(F,"$take_while",oa=function(){try{var a,c=oa.$$p,d=c||m,e=m;c&&(oa.$$p=null);if(!B(d))return this.$enum_for("take_while");e=[];return p(this,"each",[],(a=function(a){var c,h=m,h=arguments.length;c=h-0;0>c&&(c=0);c=Array(c);for(var f=0;f<h;f++)c[f-0]=arguments[f];h=b.const_get_relative(v,"Opal").$destructure(c);B(b.yield1(d,h))||b.ret(e);return e.push(h)},
a.$$s=this,a.$$arity=-1,a))}catch(h){if(h===b.returner)return h.$v;throw h;}},oa.$$arity=0);b.alias(F,"to_a","entries");b.defn(F,"$zip",ra=function(a){var c,d=ra.$$p,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var h=0;h<e;h++)c[h-0]=arguments[h];d&&(ra.$$p=null);return p(this.$to_a(),"zip",b.to_a(c))},ra.$$arity=-1)}(r[0],r)},Opal.modules["corelib/enumerator"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function x(a,b){return"number"===typeof a&&
"number"===typeof b?a<b:a["$<"](b)}var A=b.top,r=[],m=b.nil,y=b.breaker,p=b.slice,B=b.klass,a=b.truthy,h=b.send,w=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));A.$require("corelib/enumerable");return function(F,$super,f){function e(){}F=e=B(F,$super,"Enumerator",e);var k=F.$$proto,g=[F].concat(f),c,d,
D,u,l,n;k.size=k.args=k.object=k.method=m;F.$include(b.const_get_relative(g,"Enumerable"));k.$$is_enumerator=!0;b.defs(F,"$for",c=function(a,b,d){var e,h=c.$$p,f=h||m;null==b&&(b="each");var g=arguments.length;e=g-2;0>e&&(e=0);e=Array(e);for(var l=2;l<g;l++)e[l-2]=arguments[l];h&&(c.$$p=null);h=this.$allocate();h.object=a;h.size=f;h.method=b;h.args=e;return h},c.$$arity=-2);b.defn(F,"$initialize",d=function(c){var e=d.$$p,f=e||m;e&&(d.$$p=null);if(a(f))return this.object=h(b.const_get_relative(g,
"Generator"),"new",[],f.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||m,a(this.size)?this.size=b.const_get_relative(g,"Opal").$coerce_to(this.size,b.const_get_relative(g,"Integer"),"to_int"):m;this.object=arguments[0];this.method=arguments[1]||"each";this.args=p.call(arguments,2);return this.size=m},d.$$arity=-1);b.defn(F,"$each",D=function(c){var d,e,f=D.$$p,g=f||m,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var k=0;k<l;k++)e[k-0]=arguments[k];f&&(D.$$p=null);if(a(a(d=
g["$nil?"]())?e["$empty?"]():d))return this;e=q(this.args,e);return a(g["$nil?"]())?h(this.$class(),"new",[this.object,this.method].concat(b.to_a(e))):h(this.object,"__send__",[this.method].concat(b.to_a(e)),g.$to_proc())},D.$$arity=-1);b.defn(F,"$size",u=function(){return a(b.const_get_relative(g,"Proc")["$==="](this.size))?h(this.size,"call",b.to_a(this.args)):this.size},u.$$arity=0);b.defn(F,"$with_index",l=function(c){var d,e=l.$$p,f=e||m;null==c&&(c=0);e&&(l.$$p=null);c=a(c)?b.const_get_relative(g,
"Opal").$coerce_to(c,b.const_get_relative(g,"Integer"),"to_int"):0;if(!a(f))return h(this,"enum_for",["with_index",c],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));var k=c;this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments),a=f(a,k);k++;return a};return this.$each()},l.$$arity=-1);b.alias(F,"with_object","each_with_object");b.defn(F,"$inspect",n=function(){var c=m,c="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;a(this.args["$empty?"]())||
(c=q(c,"("+this.args.$inspect()["$[]"](b.const_get_relative(g,"Range").$new(1,-2))+")"));return q(c,">")},n.$$arity=0);(function(c,$super,d){function e(){}c=e=B(c,$super,"Generator",e);var f=c.$$proto,g=[c].concat(d),l,k;f.block=m;c.$include(b.const_get_relative(g,"Enumerable"));b.defn(c,"$initialize",l=function(){var c=l.$$p,d=c||m;c&&(l.$$p=null);a(d)||this.$raise(b.const_get_relative(g,"LocalJumpError"),"no block given");return this.block=d},l.$$arity=0);return(b.defn(c,"$each",k=function(a){var c,
d=k.$$p,e=d||m,f=m,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var l=0;l<f;l++)c[l-0]=arguments[l];d&&(k.$$p=null);f=h(b.const_get_relative(g,"Yielder"),"new",[],e.$to_proc());try{c.unshift(f),b.yieldX(this.block,c)}catch(w){if(w===y)return y.$v;throw w;}return this},k.$$arity=-1),m)&&"each"})(g[0],null,g);(function(a,$super,c){function d(){}a=d=B(a,$super,"Yielder",d);var e=a.$$proto;[a].concat(c);var f,g,l;e.block=m;b.defn(a,"$initialize",f=function(){var a=f.$$p,b=a||m;a&&(f.$$p=null);return this.block=
b},f.$$arity=0);b.defn(a,"$yield",g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=b.yieldX(this.block,c);if(d===y)throw y;return d},g.$$arity=-1);return(b.defn(a,"$<<",l=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];h(this,"yield",b.to_a(c));return this},l.$$arity=-1),m)&&"<<"})(g[0],null,g);return function(c,$super,d){function e(){}c=e=B(c,$super,"Lazy",e);var f=c.$$proto,g=[c].concat(d),
l,k,n,u,F,D,p,N,P,r,O,H,y;f.enumerator=m;(function(a,$super,b){function c(){}[c=B(a,$super,"StopLazyError",c)].concat(b);return m})(g[0],b.const_get_relative(g,"Exception"),g);b.defn(c,"$initialize",l=function(a,c){var d,e=l.$$p,f=e||m;null==c&&(c=m);e&&(l.$$p=null);f===m&&this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return h(this,b.find_super_dispatcher(this,"initialize",l,!1),[c],(d=function(c,e){var l=d.$$s||this,k,w,n=arguments.length;
k=n-1;0>k&&(k=0);k=Array(k);for(var u=1;u<n;u++)k[u-1]=arguments[u];null==c&&(c=m);try{return h(a,"each",b.to_a(k),(w=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var h=0;h<e;h++)d[h-0]=arguments[h];d.unshift(c);b.yieldX(f,d)},w.$$s=l,w.$$arity=-1,w))}catch(t){if(b.rescue(t,[b.const_get_relative(g,"Exception")]))try{return m}finally{b.pop_exception()}else throw t;}},d.$$s=this,d.$$arity=-2,d))},l.$$arity=-2);b.alias(c,"force","to_a");b.defn(c,"$lazy",k=function(){return this},
k.$$arity=0);b.defn(c,"$collect",n=function(){var c,d=n.$$p,e=d||m;d&&(n.$$p=null);a(e)||this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to call lazy map without a block");return h(b.const_get_relative(g,"Lazy"),"new",[this,this.$enumerator_size()],(c=function(a,c){var d,h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var f=1;f<h;f++)d[f-1]=arguments[f];null==a&&(a=m);h=b.yieldX(e,d);a.$yield(h)},c.$$s=this,c.$$arity=-2,c))},n.$$arity=0);b.defn(c,"$collect_concat",u=function(){var c,
d=u.$$p,e=d||m;d&&(u.$$p=null);a(e)||this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to call lazy map without a block");return h(b.const_get_relative(g,"Lazy"),"new",[this,m],(c=function(a,d){var f=c.$$s||this,l,k,w,n=arguments.length;l=n-1;0>l&&(l=0);l=Array(l);for(var u=1;u<n;u++)l[u-1]=arguments[u];null==a&&(a=m);n=b.yieldX(e,l);n["$respond_to?"]("force")&&n["$respond_to?"]("each")?h(n,"each",[],(k=function(b){null==b&&(b=m);return a.$yield(b)},k.$$s=f,k.$$arity=1,k)):b.const_get_relative(g,
"Opal").$try_convert(n,b.const_get_relative(g,"Array"),"to_ary")===m?a.$yield(n):h(n,"each",[],(w=function(b){null==b&&(b=m);return a.$yield(b)},w.$$s=f,w.$$arity=1,w))},c.$$s=this,c.$$arity=-2,c))},u.$$arity=0);b.defn(c,"$drop",F=function(c){var d,e=m,f=e=m;c=b.const_get_relative(g,"Opal").$coerce_to(c,b.const_get_relative(g,"Integer"),"to_int");a(x(c,0))&&this.$raise(b.const_get_relative(g,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=a(b.const_get_relative(g,"Integer")["$==="](e))?
a(x(c,e))?c:e:e;f=0;return h(b.const_get_relative(g,"Lazy"),"new",[this,e],(d=function(d,e){var g,l=arguments.length;g=l-1;0>g&&(g=0);g=Array(g);for(var k=1;k<l;k++)g[k-1]=arguments[k];null==d&&(d=m);return a(x(f,c))?f=q(f,1):h(d,"yield",b.to_a(g))},d.$$s=this,d.$$arity=-2,d))},F.$$arity=1);b.defn(c,"$drop_while",D=function(){var c,d=D.$$p,e=d||m,f=m;d&&(D.$$p=null);a(e)||this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return h(b.const_get_relative(g,
"Lazy"),"new",[this,m],(c=function(c,d){var g,l=arguments.length;g=l-1;0>g&&(g=0);g=Array(g);for(var k=1;k<l;k++)g[k-1]=arguments[k];null==c&&(c=m);if(a(f))l=b.yieldX(e,g),w(l)&&(f=!1,h(c,"yield",b.to_a(g)));else return h(c,"yield",b.to_a(g))},c.$$s=this,c.$$arity=-2,c))},D.$$arity=0);b.defn(c,"$enum_for",p=function(a,c){var d,e=p.$$p,f=e||m;null==a&&(a="each");var g=arguments.length;d=g-1;0>d&&(d=0);d=Array(d);for(var l=1;l<g;l++)d[l-1]=arguments[l];e&&(p.$$p=null);return h(this.$class(),"for",[this,
a].concat(b.to_a(d)),f.$to_proc())},p.$$arity=-1);b.defn(c,"$find_all",N=function(){var c,d=N.$$p,e=d||m;d&&(N.$$p=null);a(e)||this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to call lazy select without a block");return h(b.const_get_relative(g,"Lazy"),"new",[this,m],(c=function(c,d){var f,g=arguments.length;f=g-1;0>f&&(f=0);f=Array(f);for(var l=1;l<g;l++)f[l-1]=arguments[l];null==c&&(c=m);g=b.yieldX(e,f);a(g)&&h(c,"yield",b.to_a(f))},c.$$s=this,c.$$arity=-2,c))},N.$$arity=0);b.alias(c,
"flat_map","collect_concat");b.defn(c,"$grep",P=function(c){var d,e,f=P.$$p,l=f||m;f&&(P.$$p=null);return a(l)?h(b.const_get_relative(g,"Lazy"),"new",[this,m],(d=function(d,e){var h,f=arguments.length;h=f-1;0>h&&(h=0);h=Array(h);for(var k=1;k<f;k++)h[k-1]=arguments[k];null==d&&(d=m);f=b.const_get_relative(g,"Opal").$destructure(h);h=c["$==="](f);a(h)&&(b.yield1(l,f),d.$yield(b.yield1(l,f)))},d.$$s=this,d.$$arity=-2,d)):h(b.const_get_relative(g,"Lazy"),"new",[this,m],(e=function(d,e){var h,f=arguments.length;
h=f-1;0>h&&(h=0);h=Array(h);for(var l=1;l<f;l++)h[l-1]=arguments[l];null==d&&(d=m);f=b.const_get_relative(g,"Opal").$destructure(h);h=c["$==="](f);a(h)&&d.$yield(f)},e.$$s=this,e.$$arity=-2,e))},P.$$arity=1);b.alias(c,"map","collect");b.alias(c,"select","find_all");b.defn(c,"$reject",r=function(){var c,d=r.$$p,e=d||m;d&&(r.$$p=null);a(e)||this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to call lazy reject without a block");return h(b.const_get_relative(g,"Lazy"),"new",[this,m],(c=function(a,
c){var d,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var g=1;g<f;g++)d[g-1]=arguments[g];null==a&&(a=m);f=b.yieldX(e,d);w(f)&&h(a,"yield",b.to_a(d))},c.$$s=this,c.$$arity=-2,c))},r.$$arity=0);b.defn(c,"$take",O=function(c){var d,e=m,f=e=m;c=b.const_get_relative(g,"Opal").$coerce_to(c,b.const_get_relative(g,"Integer"),"to_int");a(x(c,0))&&this.$raise(b.const_get_relative(g,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=a(b.const_get_relative(g,"Integer")["$==="](e))?
a(x(c,e))?c:e:e;f=0;return h(b.const_get_relative(g,"Lazy"),"new",[this,e],(d=function(e,l){var k=d.$$s||this,w,n=arguments.length;w=n-1;0>w&&(w=0);w=Array(w);for(var u=1;u<n;u++)w[u-1]=arguments[u];null==e&&(e=m);return a(x(f,c))?(h(e,"yield",b.to_a(w)),f=q(f,1)):k.$raise(b.const_get_relative(g,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},O.$$arity=1);b.defn(c,"$take_while",H=function(){var c,d=H.$$p,e=d||m;d&&(H.$$p=null);a(e)||this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to call lazy take_while without a block");
return h(b.const_get_relative(g,"Lazy"),"new",[this,m],(c=function(d,f){var l=c.$$s||this,k,w=arguments.length;k=w-1;0>k&&(k=0);k=Array(k);for(var n=1;n<w;n++)k[n-1]=arguments[n];null==d&&(d=m);w=b.yieldX(e,k);a(w)?h(d,"yield",b.to_a(k)):l.$raise(b.const_get_relative(g,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},H.$$arity=0);b.alias(c,"to_enum","enum_for");return(b.defn(c,"$inspect",y=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},y.$$arity=0),m)&&"inspect"}(g[0],F,g)}(r[0],
null,r)},Opal.modules["corelib/numeric"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var m=b.top,y=[],p=b.nil,B=b.klass,a=b.truthy;b.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
m.$require("corelib/comparable");return function(h,$super,F){function v(){}h=v=B(h,$super,"Numeric",v);var f=[h].concat(F),e,k,g,c,d,D,u,l,n,m,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,y,T,la,ha,na,J,fa,ja;h.$include(b.const_get_relative(f,"Comparable"));b.defn(h,"$coerce",e=function(b){return a(b["$instance_of?"](this.$class()))?[b,this]:[this.$Float(b),this.$Float(this)]},e.$$arity=1);b.defn(h,"$__coerced__",k=function(a,c){var d,e,h=p,g=p,l=p;try{e=c.$coerce(this),d=b.to_ary(e),h=null==d[0]?p:d[0],
g=null==d[1]?p:d[1],e}catch(k){if(b.rescue(k,[b.const_get_relative(f,"StandardError")]))try{l=a,"+"["$==="](l)||"-"["$==="](l)||"*"["$==="](l)||"/"["$==="](l)||"%"["$==="](l)||"&"["$==="](l)||"|"["$==="](l)||"^"["$==="](l)||"**"["$==="](l)?this.$raise(b.const_get_relative(f,"TypeError"),""+c.$class()+" can't be coerce into Numeric"):(">"["$==="](l)||">="["$==="](l)||"<"["$==="](l)||"<="["$==="](l)||"<=>"["$==="](l))&&this.$raise(b.const_get_relative(f,"ArgumentError"),"comparison of "+this.$class()+
" with "+c.$class()+" failed")}finally{b.pop_exception()}else throw k;}return h.$__send__(a,g)},k.$$arity=2);b.defn(h,"$<=>",g=function(b){return a(this["$equal?"](b))?0:p},g.$$arity=1);b.defn(h,"$+@",c=function(){return this},c.$$arity=0);b.defn(h,"$-@",d=function(){return q(0,this)},d.$$arity=0);b.defn(h,"$%",D=function(a){return q(this,x(a,this.$div(a)))},D.$$arity=1);b.defn(h,"$abs",u=function(){return A(this,0)?this["$-@"]():this},u.$$arity=0);b.defn(h,"$abs2",l=function(){return x(this,this)},
l.$$arity=0);b.defn(h,"$angle",n=function(){return A(this,0)?b.const_get_qualified(b.const_get_relative(f,"Math"),"PI"):0},n.$$arity=0);b.alias(h,"arg","angle");b.defn(h,"$ceil",m=function(){return this.$to_f().$ceil()},m.$$arity=0);b.defn(h,"$conj",da=function(){return this},da.$$arity=0);b.alias(h,"conjugate","conj");b.defn(h,"$denominator",G=function(){return this.$to_r().$denominator()},G.$$arity=0);b.defn(h,"$div",t=function(a){a["$=="](0)&&this.$raise(b.const_get_relative(f,"ZeroDivisionError"),
"divided by o");return r(this,a).$floor()},t.$$arity=1);b.defn(h,"$divmod",Z=function(a){return[this.$div(a),this["$%"](a)]},Z.$$arity=1);b.defn(h,"$fdiv",C=function(a){return r(this.$to_f(),a)},C.$$arity=1);b.defn(h,"$floor",K=function(){return this.$to_f().$floor()},K.$$arity=0);b.defn(h,"$i",ia=function(){return this.$Complex(0,this)},ia.$$arity=0);b.defn(h,"$imag",aa=function(){return 0},aa.$$arity=0);b.alias(h,"imaginary","imag");b.defn(h,"$integer?",ta=function(){return!1},ta.$$arity=0);b.alias(h,
"magnitude","abs");b.alias(h,"modulo","%");b.defn(h,"$nonzero?",M=function(){return a(this["$zero?"]())?p:this},M.$$arity=0);b.defn(h,"$numerator",Q=function(){return this.$to_r().$numerator()},Q.$$arity=0);b.alias(h,"phase","arg");b.defn(h,"$polar",W=function(){return[this.$abs(),this.$arg()]},W.$$arity=0);b.defn(h,"$quo",N=function(a){return r(b.const_get_relative(f,"Opal")["$coerce_to!"](this,b.const_get_relative(f,"Rational"),"to_r"),a)},N.$$arity=1);b.defn(h,"$real",P=function(){return this},
P.$$arity=0);b.defn(h,"$real?",ba=function(){return!0},ba.$$arity=0);b.defn(h,"$rect",O=function(){return[this,0]},O.$$arity=0);b.alias(h,"rectangular","rect");b.defn(h,"$round",H=function(a){return this.$to_f().$round(a)},H.$$arity=-1);b.defn(h,"$to_c",y=function(){return this.$Complex(this,0)},y.$$arity=0);b.defn(h,"$to_int",T=function(){return this.$to_i()},T.$$arity=0);b.defn(h,"$truncate",la=function(){return this.$to_f().$truncate()},la.$$arity=0);b.defn(h,"$zero?",ha=function(){return this["$=="](0)},
ha.$$arity=0);b.defn(h,"$positive?",na=function(){return"number"===typeof this?0<this:this["$>"](0)},na.$$arity=0);b.defn(h,"$negative?",J=function(){return A(this,0)},J.$$arity=0);b.defn(h,"$dup",fa=function(){return this.$raise(b.const_get_relative(f,"TypeError"),"can't dup "+this.$class())},fa.$$arity=0);return(b.defn(h,"$clone",ja=function(){return this.$raise(b.const_get_relative(f,"TypeError"),"can't clone "+this.$class())},ja.$$arity=0),p)&&"clone"}(y[0],null,y)},Opal.modules["corelib/array"]=
function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var x=b.top,A=[],r=b.nil,m=b.klass,y=b.truthy,p=b.hash2,B=b.send,a=b.gvars;b.add_stubs("$require $include $to_a $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $coerce_to! $> $* $enumerator_size $empty? $size $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $! $>= $** $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $sort_by $!= $times $[]= $- $<< $values $kind_of? $last $first $upto $reject $pristine".split(" "));
x.$require("corelib/enumerable");x.$require("corelib/numeric");return function(h,$super,F){function v(){}function f(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function e(a,c){var d=a.length,e,h,g;e=c.excl;h=b.Opal.$coerce_to(c.begin,b.Integer,"to_int");g=b.Opal.$coerce_to(c.end,b.Integer,"to_int");if(0>h&&(h+=d,0>h)||h>d)return r;if(0>g&&(g+=d,0>g))return[];e||(g+=1);d=a.slice(h,g);return f(d,a.$class())}function k(a,c,d){var e=a.length;c=b.Opal.$coerce_to(c,b.Integer,"to_int");
if(0>c&&(c+=e,0>c))return r;if(void 0===d)return c>=e||0>c?r:a[c];d=b.Opal.$coerce_to(d,b.Integer,"to_int");if(0>d||c>e||0>c)return r;c=a.slice(c,c+d);return f(c,a.$class())}function g(a,b){return a===b||0===b?1:0<b&&a>b?g(a-1,b-1)+g(a-1,b):0}var c=v=m(h,$super,"Array",v),d=c.$$proto,D=[c].concat(F),u,l,n,S,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,T,la,ha,na,J,fa,x,A,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea,Fa,Ga,Ha,U,ma,Ia,Ja,va,Ka,Na,Ma,La,Ba,Da,X,wa,Qa,cb,fb,Ya,E,Sa,gb,hb,db,eb,Ta,
Ua,Va,ib,Wa,jb,kb,lb,Xa,Ra,bb,ab,Pa,Za,Oa;d.length=r;c.$include(b.const_get_relative(D,"Enumerable"));d.$$is_array=!0;b.defs(c,"$[]",u=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return f(b,this)},u.$$arity=-1);b.defn(c,"$initialize",l=function(a,c){var d=l.$$p,e=d||r;null==a&&(a=r);null==c&&(c=r);d&&(l.$$p=null);a>b.const_get_qualified(b.const_get_relative(D,"Integer"),"MAX")&&this.$raise(b.const_get_relative(D,"ArgumentError"),"array size too big");
2<arguments.length&&this.$raise(b.const_get_relative(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(D,"ArgumentError"),"negative array size");
this.splice(0,this.length);var h;if(e===r)for(d=0;d<a;d++)this.push(c);else for(d=0,h;d<a;d++)h=e(d),this[d]=h;return this},l.$$arity=-1);b.defs(c,"$try_convert",n=function(a){return b.const_get_relative(D,"Opal")["$coerce_to?"](a,b.const_get_relative(D,"Array"),"to_ary")},n.$$arity=1);b.defn(c,"$&",S=function(a){a=y(b.const_get_relative(D,"Array")["$==="](a))?a.$to_a():b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Array"),"to_ary").$to_a();var c=[],d=p([],{}),e,h;e=0;for(h=
a.length;e<h;e++)b.hash_put(d,a[e],!0);e=0;for(h=this.length;e<h;e++)a=this[e],void 0!==b.hash_delete(d,a)&&c.push(a);return c},S.$$arity=1);b.defn(c,"$|",da=function(a){a=y(b.const_get_relative(D,"Array")["$==="](a))?a.$to_a():b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Array"),"to_ary").$to_a();var c=p([],{}),d,e;d=0;for(e=this.length;d<e;d++)b.hash_put(c,this[d],!0);d=0;for(e=a.length;d<e;d++)b.hash_put(c,a[d],!0);return c.$keys()},da.$$arity=1);b.defn(c,"$*",G=function(a){if(y(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());
a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");y(0>a)&&this.$raise(b.const_get_relative(D,"ArgumentError"),"negative argument");for(var c=[],d=this.$to_a(),e=0;e<a;e++)c=c.concat(d);return f(c,this.$class())},G.$$arity=1);b.defn(c,"$+",t=function(a){a=y(b.const_get_relative(D,"Array")["$==="](a))?a.$to_a():b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Array"),"to_ary").$to_a();return this.concat(a)},t.$$arity=1);b.defn(c,"$-",Z=function(a){a=
y(b.const_get_relative(D,"Array")["$==="](a))?a.$to_a():b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Array"),"to_ary").$to_a();if(y(0===this.length))return[];if(y(0===a.length))return this.slice();var c=[],d=p([],{}),e,h;e=0;for(h=a.length;e<h;e++)b.hash_put(d,a[e],!0);e=0;for(h=this.length;e<h;e++)a=this[e],void 0===b.hash_get(d,a)&&c.push(a);return c},Z.$$arity=1);b.defn(c,"$<<",C=function(a){this.push(a);return this},C.$$arity=1);b.defn(c,"$<=>",K=function(a){if(y(b.const_get_relative(D,
"Array")["$==="](a)))a=a.$to_a();else if(y(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return r;if(this.$hash()===a.$hash())return 0;for(var c=Math.min(this.length,a.length),d=0;d<c;d++){var e=this[d]["$<=>"](a[d]);if(0!==e)return e}return this.length["$<=>"](a.length)},K.$$arity=1);b.defn(c,"$==",ia=function(a){function c(a,e){var h,f,g,l;if(a===e)return!0;if(!e.$$is_array)return b.const_get_relative(D,"Opal")["$respond_to?"](e,"to_ary")?e["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());
e.constructor!==Array&&(e=e.$to_a());if(a.length!==e.length)return!1;d[a.$object_id()]=!0;h=0;for(f=a.length;h<f;h++)if(g=a[h],l=e[h],g.$$is_array){if(l.$$is_array&&l.length!==g.length||!d.hasOwnProperty(g.$object_id())&&!c(g,l))return!1}else if(!g["$=="](l))return!1;return!0}var d={};return c(this,a)},ia.$$arity=1);b.defn(c,"$[]",aa=function(a,b){return a.$$is_range?e(this,a):k(this,a,b)},aa.$$arity=-2);b.defn(c,"$[]=",ta=function(a,c,d){var e=r,h=r,f;f=this.length;if(y(b.const_get_relative(D,"Range")["$==="](a))){var e=
y(b.const_get_relative(D,"Array")["$==="](c))?c.$to_a():y(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c],g=a.excl;d=b.const_get_relative(D,"Opal").$coerce_to(a.begin,b.const_get_relative(D,"Integer"),"to_int");h=b.const_get_relative(D,"Opal").$coerce_to(a.end,b.const_get_relative(D,"Integer"),"to_int");0>d&&(d+=f,0>d&&this.$raise(b.const_get_relative(D,"RangeError"),""+a.$inspect()+" out of range"));0>h&&(h+=f);g||(h+=1);if(d>f)for(;f<d;f++)this[f]=r;0>h?this.splice.apply(this,[d,0].concat(e)):
this.splice.apply(this,[d,h-d].concat(e))}else{y(void 0===d)?h=1:(h=c,c=d,e=y(b.const_get_relative(D,"Array")["$==="](c))?c.$to_a():y(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c]);a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");h=b.const_get_relative(D,"Opal").$coerce_to(h,b.const_get_relative(D,"Integer"),"to_int");0>a&&(g=a,a+=f,0>a&&this.$raise(b.const_get_relative(D,"IndexError"),"index "+g+" too small for array; minimum "+-this.length));0>h&&
this.$raise(b.const_get_relative(D,"IndexError"),"negative length ("+h+")");if(a>f)for(;f<a;f++)this[f]=r;void 0===d?this[a]=c:this.splice.apply(this,[a,h].concat(e))}return c},ta.$$arity=-3);b.defn(c,"$any?",M=function(){var a=M.$$p,c=r,d=r,e=r;a&&(M.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return 0===this.length?!1:B(this,b.find_super_dispatcher(this,"any?",M,!1),c,a)},M.$$arity=0);b.defn(c,"$assoc",Q=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],
d.length&&d[0]["$=="](a))return d;return r},Q.$$arity=1);b.defn(c,"$at",W=function(a){a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?r:this[a]},W.$$arity=1);b.defn(c,"$bsearch_index",N=function(){var a=N.$$p,c=a||r;a&&(N.$$p=null);if(c===r)return this.$enum_for("bsearch_index");for(var a=0,d=this.length,e,h,f=!1,g=r;a<d;){e=a+Math.floor((d-a)/2);h=this[e];h=b.yield1(c,h);if(!0===h)g=e,f=!0;else if(!1===h||
h===r)f=!1;else if(h.$$is_number){if(0===h)return e;f=0>h}else this.$raise(b.const_get_relative(D,"TypeError"),"wrong argument type "+h.$class()+" (must be numeric, true, false or nil)");f?d=e:a=e+1}return g},N.$$arity=0);b.defn(c,"$bsearch",P=function(){var a=P.$$p,b=a||r,c=r;a&&(P.$$p=null);if(b===r)return this.$enum_for("bsearch");c=B(this,"bsearch_index",[],b.$to_proc());return null!=c&&c.$$is_number?this[c]:c},P.$$arity=0);b.defn(c,"$cycle",ba=function(a){var c,d,e=ba.$$p,h=e||r;null==a&&(a=
r);e&&(ba.$$p=null);if(h===r)return B(this,"enum_for",["cycle",a],(c=function(){var d=c.$$s||this;if(a["$=="](r))return b.const_get_qualified(b.const_get_relative(D,"Float"),"INFINITY");a=b.const_get_relative(D,"Opal")["$coerce_to!"](a,b.const_get_relative(D,"Integer"),"to_int");return y(q(a,0))?(d=d.$enumerator_size(),"number"===typeof d&&"number"===typeof a?d*a:d["$*"](a)):0},c.$$s=this,c.$$arity=0,c));if(y(y(d=this["$empty?"]())?d:a["$=="](0)))return r;if(a===r)for(;;)for(d=0,e=this.length;d<e;d++)b.yield1(h,
this[d]);else{a=b.const_get_relative(D,"Opal")["$coerce_to!"](a,b.const_get_relative(D,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){d=0;for(e=this.length;d<e;d++)b.yield1(h,this[d]);a--}}return this},ba.$$arity=-1);b.defn(c,"$clear",O=function(){this.splice(0,this.length);return this},O.$$arity=0);b.defn(c,"$count",H=function(a){var c,d=H.$$p,e=d||r,h=r,f=r,g=r;null==a&&(a=r);d&&(H.$$p=null);f=0;g=arguments.length;for(h=Array(g);f<g;f++)h[f]=arguments[f];return y(y(c=a)?c:e)?B(this,b.find_super_dispatcher(this,
"count",H,!1),h,d):this.$size()},H.$$arity=-1);b.defn(c,"$initialize_copy",L=function(a){return this.$replace(a)},L.$$arity=1);b.defn(c,"$collect",T=function(){var a,c=T.$$p,d=c||r;c&&(T.$$p=null);if(d===r)return B(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=[],e=0,h=this.length;e<h;e++){var f=b.yield1(d,this[e]);c.push(f)}return c},T.$$arity=0);b.defn(c,"$collect!",la=function(){var a,c=la.$$p,d=c||r;c&&(la.$$p=null);if(d===r)return B(this,
"enum_for",["collect!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++){var h=b.yield1(d,this[c]);this[c]=h}return this},la.$$arity=0);b.defn(c,"$combination",ha=function(a){var c,d=ha.$$p,e=d||r,h=r;d&&(ha.$$p=null);h=b.const_get_relative(D,"Opal")["$coerce_to!"](a,b.const_get_relative(D,"Integer"),"to_int");if(e===r)return B(this,"enum_for",["combination",h],(c=function(){return g((c.$$s||this).length,h)},c.$$s=this,c.$$arity=0,c));var f,
l;if(0===h)b.yield1(e,[]);else if(1===h)for(d=0,a=this.length;d<a;d++)b.yield1(e,[this[d]]);else if(h===this.length)b.yield1(e,this.slice());else if(0<=h&&h<this.length){a=[];for(d=0;d<=h+1;d++)a.push(0);d=[];f=0;l=!1;for(a[0]=-1;!l;){for(d[f]=this[a[f+1]];f<h-1;)f++,l=a[f+1]=a[f]+1,d[f]=this[l];b.yield1(e,d.slice());f++;do l=0===f,a[f]++,f--;while(a[f+1]+h===this.length+f+1)}}return this},ha.$$arity=1);b.defn(c,"$repeated_combination",na=function(a){function c(a,d,e,f){if(e.length==a)a=e.slice(),
b.yield1(h,a);else for(;d<f.length;d++)e.push(f[d]),c(a,d,e,f),e.pop()}var d,e=na.$$p,h=e||r,f=r;e&&(na.$$p=null);f=b.const_get_relative(D,"Opal")["$coerce_to!"](a,b.const_get_relative(D,"Integer"),"to_int");if(h===r)return B(this,"enum_for",["repeated_combination",f],(d=function(){return g((d.$$s||this).length+f-1,f)},d.$$s=this,d.$$arity=0,d));0<=f&&c(f,0,[],this);return this},na.$$arity=1);b.defn(c,"$compact",J=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==r&&a.push(d);return a},
J.$$arity=0);b.defn(c,"$compact!",fa=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===r&&(this.splice(b,1),c--,b--);return this.length===a?r:this},fa.$$arity=0);b.defn(c,"$concat",x=function(a){a=y(b.const_get_relative(D,"Array")["$==="](a))?a.$to_a():b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Array"),"to_ary").$to_a();for(var c=0,d=a.length;c<d;c++)this.push(a[c]);return this},x.$$arity=1);b.defn(c,"$delete",A=function(a){var c=A.$$p,d=c||r;c&&(A.$$p=
null);for(var c=this.length,e=0,h=c;e<h;e++)this[e]["$=="](a)&&(this.splice(e,1),h--,e--);return this.length===c?d!==r?b.yieldX(d,[]):r:a},A.$$arity=1);b.defn(c,"$delete_at",V=function(a){a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return r;var c=this[a];this.splice(a,1);return c},V.$$arity=1);b.defn(c,"$delete_if",ea=function(){var a,b=ea.$$p,c=b||r;b&&(ea.$$p=null);if(c===r)return B(this,"enum_for",["delete_if"],
(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)e=c(this[b]),!1!==e&&e!==r&&(this.splice(b,1),d--,b--);return this},ea.$$arity=0);b.defn(c,"$dig",sa=function(a,c){var d,e=r,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var h=1;h<e;h++)d[h-1]=arguments[h];e=this["$[]"](a);if(e===r||0===d.length)return e;y(e["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(D,"TypeError"),""+e.$class()+" does not have #dig method");return B(e,"dig",
b.to_a(d))},sa.$$arity=-2);b.defn(c,"$drop",pa=function(a){0>a&&this.$raise(b.const_get_relative(D,"ArgumentError"));return this.slice(a)},pa.$$arity=1);b.defn(c,"$dup",ua=function(){var a=ua.$$p,c=r,d=r,e=r;a&&(ua.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return this.$$class===b.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):B(this,b.find_super_dispatcher(this,"dup",ua,!1),c,a)},ua.$$arity=
0);b.defn(c,"$each",ga=function(){var a,c=ga.$$p,d=c||r;c&&(ga.$$p=null);if(d===r)return B(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,this[c]);return this},ga.$$arity=0);b.defn(c,"$each_index",ka=function(){var a,c=ka.$$p,d=c||r;c&&(ka.$$p=null);if(d===r)return B(this,"enum_for",["each_index"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,
c);return this},ka.$$arity=0);b.defn(c,"$empty?",oa=function(){return 0===this.length},oa.$$arity=0);b.defn(c,"$eql?",ra=function(a){function b(a,d){var e,h,f,g;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(h=a.length;e<h;e++)if(f=a[e],g=d[e],f.$$is_array){if(g.$$is_array&&g.length!==f.length||!c.hasOwnProperty(f.$object_id())&&!b(f,g))return!1}else if(!f["$eql?"](g))return!1;return!0}var c={};return b(this,a)},ra.$$arity=1);b.defn(c,"$fetch",R=
function(a,c){var d=R.$$p,e=d||r;d&&(R.$$p=null);d=a;a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(e!==r)return e(d);if(null!=c)return c;0===this.length?this.$raise(b.const_get_relative(D,"IndexError"),"index "+d+" outside of array bounds: 0...0"):this.$raise(b.const_get_relative(D,"IndexError"),"index "+d+" outside of array bounds: -"+this.length+"..."+this.length)},R.$$arity=-2);b.defn(c,"$fill",
z=function(a){var c,d,e=(d=z.$$p)||r,h=r,f=r,g=r,f=c=r,h=arguments.length;c=h-0;0>c&&(c=0);c=Array(c);for(f=0;f<h;f++)c[f-0]=arguments[f];d&&(z.$$p=null);y(e)?(y(2<c.length)&&this.$raise(b.const_get_relative(D,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 0..2)"),d=c,c=b.to_ary(d),h=null==c[0]?r:c[0],f=null==c[1]?r:c[1]):(y(0==c.length)?this.$raise(b.const_get_relative(D,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):y(3<c.length)&&this.$raise(b.const_get_relative(D,
"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 1..3)"),d=c,c=b.to_ary(d),g=null==c[0]?r:c[0],h=null==c[1]?r:c[1],f=null==c[2]?r:c[2]);d;if(y(b.const_get_relative(D,"Range")["$==="](h))){if(y(f)&&this.$raise(b.const_get_relative(D,"TypeError"),"length invalid with range"),c=b.const_get_relative(D,"Opal").$coerce_to(h.$begin(),b.const_get_relative(D,"Integer"),"to_int"),y(0>c)&&(c+=this.length),y(0>c)&&this.$raise(b.const_get_relative(D,"RangeError"),""+h.$inspect()+" out of range"),
f=b.const_get_relative(D,"Opal").$coerce_to(h.$end(),b.const_get_relative(D,"Integer"),"to_int"),y(0>f)&&(f+=this.length),y(h["$exclude_end?"]())||(f+=1),y(f<=c))return this}else if(y(h))if(c=b.const_get_relative(D,"Opal").$coerce_to(h,b.const_get_relative(D,"Integer"),"to_int"),y(0>c)&&(c+=this.length),y(0>c)&&(c=0),y(f)){f=b.const_get_relative(D,"Opal").$coerce_to(f,b.const_get_relative(D,"Integer"),"to_int");if(y(0==f))return this;f+=c}else f=this.length;else c=0,f=this.length;if(y(c>this.length))for(d=
this.length;d<f;d++)this[d]=r;y(f>this.length)&&(this.length=f);if(y(e))for(;c<f;c++)g=e(c),this[c]=g;else for(;c<f;c++)this[c]=g;return this},z.$$arity=-1);b.defn(c,"$first",ca=function(a){if(null==a)return 0===this.length?r:this[0];a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(D,"ArgumentError"),"negative array size");return this.slice(0,a)},ca.$$arity=-1);b.defn(c,"$flatten",qa=function(a){function c(a,e){var h=[],
f,g,l,k;a=a.$to_a();f=0;for(g=a.length;f<g;f++)if(l=a[f],b.const_get_relative(D,"Opal")["$respond_to?"](l,"to_ary"))if(k=l.$to_ary(),k===r)h.push(l);else switch(k.$$is_array||d.$raise(b.const_get_relative(D,"TypeError")),k===d&&d.$raise(b.const_get_relative(D,"ArgumentError")),e){case void 0:h=h.concat(c(k));break;case 0:h.push(k);break;default:h.push.apply(h,c(k,e-1))}else h.push(l);return h}var d=this;void 0!==a&&(a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int"));
return f(c(d,a),d.$class())},qa.$$arity=-1);b.defn(c,"$flatten!",Aa=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return r}this.$replace(a);return this},Aa.$$arity=-1);b.defn(c,"$hash",xa=function(){var a=void 0===b.hash_ids,c=["A"],d=this.$object_id(),e,h,f;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[d])return"self";for(f in b.hash_ids)if(e=b.hash_ids[f],this["$eql?"](e))return"self";b.hash_ids[d]=this;for(h=0;h<this.length;h++)e=
this[h],c.push(e.$hash());return c.join(",")}finally{a&&(b.hash_ids=void 0)}},xa.$$arity=0);b.defn(c,"$include?",ya=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},ya.$$arity=1);b.defn(c,"$index",za=function(a){var b=za.$$p,c=b||r;b&&(za.$$p=null);var d;if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==r)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==a&&a!==r)return b}else return this.$enum_for("index");return r},za.$$arity=
-1);b.defn(c,"$insert",Ca=function(a,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var h=1;h<e;h++)d[h-1]=arguments[h];a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");if(0<d.length){0>a&&(a+=this.length+1,0>a&&this.$raise(b.const_get_relative(D,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(e=this.length;e<a;e++)this.push(r);this.splice.apply(this,[a,0].concat(d))}return this},Ca.$$arity=-2);b.defn(c,"$inspect",Ea=function(){for(var a=
[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var e=this["$[]"](c);e.$__id__()===b?a.push("[...]"):a.push(e.$inspect())}return"["+a.join(", ")+"]"},Ea.$$arity=0);b.defn(c,"$join",Fa=function(c){null==a[","]&&(a[","]=r);null==c&&(c=r);if(y(0===this.length))return"";y(c===r)&&(c=a[","]);var d=[],e,h,f,g;e=0;for(h=this.length;e<h;e++){f=this[e];if(b.const_get_relative(D,"Opal")["$respond_to?"](f,"to_str")&&(g=f.$to_str(),g!==r)){d.push(g.$to_s());continue}if(b.const_get_relative(D,"Opal")["$respond_to?"](f,
"to_ary")&&(g=f.$to_ary(),g===this&&this.$raise(b.const_get_relative(D,"ArgumentError")),g!==r)){d.push(g.$join(c));continue}if(b.const_get_relative(D,"Opal")["$respond_to?"](f,"to_s")&&(g=f.$to_s(),g!==r)){d.push(g);continue}this.$raise(b.const_get_relative(D,"NoMethodError").$new(""+b.inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return c===r?d.join(""):d.join(b.const_get_relative(D,"Opal")["$coerce_to!"](c,b.const_get_relative(D,"String"),"to_str").$to_s())},Fa.$$arity=
-1);b.defn(c,"$keep_if",Ga=function(){var a,b=Ga.$$p,c=b||r;b&&(Ga.$$p=null);if(c===r)return B(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)if(e=c(this[b]),!1===e||e===r)this.splice(b,1),d--,b--;return this},Ga.$$arity=0);b.defn(c,"$last",Ha=function(a){if(null==a)return 0===this.length?r:this[this.length-1];a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(D,
"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},Ha.$$arity=-1);b.defn(c,"$length",U=function(){return this.length},U.$$arity=0);b.alias(c,"map","collect");b.alias(c,"map!","collect!");b.defn(c,"$permutation",ma=function(a){var c,d=this,e=ma.$$p,h=e||r,f=r,g=r;e&&(ma.$$p=null);if(h===r)return B(d,"enum_for",["permutation",a],(c=function(){for(var b=c.$$s||this,d=b.length,b=void 0===a?b.length:a,e=0<=b?1:0;b;)e*=d,d--,b--;return e},
c.$$s=d,c.$$arity=0,c));var l,k;a=void 0===a?d.length:b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");if(!(0>a||d.length<a))if(0===a)b.yield1(h,[]);else if(1===a)for(f=0;f<d.length;f++)b.yield1(h,[d[f]]);else f=b.const_get_relative(D,"Array").$new(a),g=b.const_get_relative(D,"Array").$new(d.length,!1),l=function(a,c,e,h,f){d=this;for(var g=0;g<d.length;g++)if(h["$[]"](g)["$!"]())if(c[e]=g,e<a-1)h[g]=!0,l.call(d,a,c,e+1,h,f),h[g]=!1;else{k=[];for(var U=0;U<c.length;U++)k.push(d[c[U]]);
b.yield1(f,k)}},h!==r?(e=d.slice(),l.call(e,a,f,0,g,h)):l.call(d,a,f,0,g,h);return d},ma.$$arity=-1);b.defn(c,"$repeated_permutation",Ia=function(a){function c(a,d,e){if(d.length==a)a=d.slice(),b.yield1(h,a);else for(var f=0;f<e.length;f++)d.push(e[f]),c(a,d,e),d.pop()}var d,e=Ia.$$p,h=e||r,f=r;e&&(Ia.$$p=null);f=b.const_get_relative(D,"Opal")["$coerce_to!"](a,b.const_get_relative(D,"Integer"),"to_int");if(h===r)return B(this,"enum_for",["repeated_permutation",f],(d=function(){var a=d.$$s||this;return y("number"===
typeof f?0<=f:f["$>="](0))?a.$size()["$**"](f):0},d.$$s=this,d.$$arity=0,d));c(f,[],this.slice());return this},Ia.$$arity=1);b.defn(c,"$pop",Ja=function(a){if(y(void 0===a))return y(0===this.length)?r:this.pop();a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");y(0>a)&&this.$raise(b.const_get_relative(D,"ArgumentError"),"negative array size");return y(0===this.length)?[]:y(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Ja.$$arity=
-1);b.defn(c,"$product",va=function(a){var c,d=va.$$p,e=d||r,h=arguments.length;c=h-0;0>c&&(c=0);c=Array(c);for(var f=0;f<h;f++)c[f-0]=arguments[f];d&&(va.$$p=null);var d=e!==r?null:[],h=c.length+1,f=Array(h),g=Array(h),l=Array(h),k,U=1;l[0]=this;for(k=1;k<h;k++)l[k]=b.const_get_relative(D,"Opal").$coerce_to(c[k-1],b.const_get_relative(D,"Array"),"to_ary");for(k=0;k<h;k++){c=l[k].length;if(0===c)return d||this;U*=c;2147483647<U&&this.$raise(b.const_get_relative(D,"RangeError"),"too big to product");
g[k]=c;f[k]=0}a:for(;;){c=[];for(k=0;k<h;k++)c.push(l[k][f[k]]);d?d.push(c):b.yield1(e,c);c=h-1;for(f[c]++;f[c]===g[c];){f[c]=0;if(0>--c)break a;f[c]++}}return d||this},va.$$arity=-1);b.defn(c,"$push",Ka=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=0;for(d=b.length;c<d;c++)this.push(b[c]);return this},Ka.$$arity=-1);b.defn(c,"$rassoc",Na=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;
return r},Na.$$arity=1);b.defn(c,"$reject",Ma=function(){var a,b=Ma.$$p,c=b||r;b&&(Ma.$$p=null);if(c===r)return B(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=[],d=0,e=this.length,h;d<e;d++)h=c(this[d]),!1!==h&&h!==r||b.push(this[d]);return b},Ma.$$arity=0);b.defn(c,"$reject!",La=function(){var a,b=La.$$p,c=b||r,d=r;b&&(La.$$p=null);if(c===r)return B(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=
0,a));d=this.$length();B(this,"delete_if",[],c.$to_proc());return this.$length()["$=="](d)?r:this},La.$$arity=0);b.defn(c,"$replace",Ba=function(a){a=y(b.const_get_relative(D,"Array")["$==="](a))?a.$to_a():b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Ba.$$arity=1);b.defn(c,"$reverse",Da=function(){return this.slice(0).reverse()},Da.$$arity=0);b.defn(c,"$reverse!",X=function(){return this.reverse()},
X.$$arity=0);b.defn(c,"$reverse_each",wa=function(){var a,b=wa.$$p,c=b||r;b&&(wa.$$p=null);if(c===r)return B(this,"enum_for",["reverse_each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));B(this.$reverse(),"each",[],c.$to_proc());return this},wa.$$arity=0);b.defn(c,"$rindex",Qa=function(a){var b=Qa.$$p,c=b||r;b&&(Qa.$$p=null);if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==r)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=
c(this[b]),!1!==a&&a!==r)return b}else if(null==a)return this.$enum_for("rindex");return r},Qa.$$arity=-1);b.defn(c,"$rotate",cb=function(a){null==a&&(a=1);a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");var c,d;if(1===this.length)return this.slice();if(0===this.length)return[];c=this.slice();d=a%c.length;a=c.slice(d);c=c.slice(0,d);return a.concat(c)},cb.$$arity=-1);b.defn(c,"$rotate!",fb=function(a){var c=r;null==a&&(a=1);if(0===this.length||1===this.length)return this;
a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)},fb.$$arity=-1);(function(a,$super,c){function d(){}a=d=m(a,$super,"SampleRandom",d);var e=a.$$proto,h=[a].concat(c),f,g;e.rng=r;b.defn(a,"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(b.defn(a,"$rand",g=function(a){var c=r,c=b.const_get_relative(h,"Opal").$coerce_to(this.rng.$rand(a),b.const_get_relative(h,"Integer"),"to_int");y(0>c)&&this.$raise(b.const_get_relative(h,
"RangeError"),"random value must be >= 0");y(c<a)||this.$raise(b.const_get_relative(h,"RangeError"),"random value must be less than Array size");return c},g.$$arity=1),r)&&"rand"})(D[0],null,D);b.defn(c,"$sample",Ya=function(a,c){var d,e=r,h=r;if(y(void 0===a))return this.$at(b.const_get_relative(D,"Kernel").$rand(this.length));y(void 0===c)?y(e=b.const_get_relative(D,"Opal")["$coerce_to?"](a,b.const_get_relative(D,"Hash"),"to_hash"))?(c=e,a=r):(c=r,a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,
"Integer"),"to_int")):(a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int"),c=b.const_get_relative(D,"Opal").$coerce_to(c,b.const_get_relative(D,"Hash"),"to_hash"));y(y(d=a)?0>a:d)&&this.$raise(b.const_get_relative(D,"ArgumentError"),"count must be greater than 0");y(c)&&(h=c["$[]"]("random"));h=y(y(d=h)?h["$respond_to?"]("rand"):d)?b.const_get_relative(D,"SampleRandom").$new(h):b.const_get_relative(D,"Kernel");if(!y(a))return this[h.$rand(this.length)];var f,
g,l,k;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[h.$rand(this.length)]];case 2:return g=h.$rand(this.length),l=h.$rand(this.length),g===l&&(l=0===g?g+1:g-1),[this[g],this[l]];default:if(3<this.length/a){e=!1;f=0;d=b.const_get_relative(D,"Array").$new(a);g=1;for(d[0]=h.$rand(this.length);g<a;){k=h.$rand(this.length);for(l=0;l<g;){for(;k===d[l];){f++;if(100<f){e=!0;break}k=h.$rand(this.length)}if(e)break;l++}if(e)break;d[g]=k;g++}if(!e){for(g=0;g<a;)d[g]=this[d[g]],
g++;return d}}d=this.slice();for(g=0;g<a;g++)e=h.$rand(this.length),f=d[g],d[g]=d[e],d[e]=f;return a===this.length?d:d["$[]"](0,a)}},Ya.$$arity=-1);b.defn(c,"$select",E=function(){var a,c=E.$$p,d=c||r;c&&(E.$$p=null);if(d===r)return B(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=[],e=0,h=this.length,f,g;e<h;e++)f=this[e],g=b.yield1(d,f),!1!==g&&g!==r&&c.push(f);return c},E.$$arity=0);b.defn(c,"$select!",Sa=function(){var a,b=Sa.$$p,c=b||
r;b&&(Sa.$$p=null);if(c===r)return B(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));b=this.length;B(this,"keep_if",[],c.$to_proc());return this.length===b?r:this},Sa.$$arity=0);b.defn(c,"$shift",gb=function(a){if(y(void 0===a))return y(0===this.length)?r:this.shift();a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");y(0>a)&&this.$raise(b.const_get_relative(D,"ArgumentError"),"negative array size");return y(0===
this.length)?[]:this.splice(0,a)},gb.$$arity=-1);b.alias(c,"size","length");b.defn(c,"$shuffle",hb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},hb.$$arity=-1);b.defn(c,"$shuffle!",db=function(a){var c,d=this.length,e;void 0!==a&&(a=b.const_get_relative(D,"Opal")["$coerce_to?"](a,b.const_get_relative(D,"Hash"),"to_hash"),a!==r&&(a=a["$[]"]("random"),a!==r&&a["$respond_to?"]("rand")&&(c=a)));for(;d;)c?(a=c.$rand(d).$to_int(),0>a&&this.$raise(b.const_get_relative(D,"RangeError"),"random number too small "+
a),a>=d&&this.$raise(b.const_get_relative(D,"RangeError"),"random number too big "+a)):a=this.$rand(d),e=this[--d],this[d]=this[a],this[a]=e;return this},db.$$arity=-1);b.alias(c,"slice","[]");b.defn(c,"$slice!",eb=function(a,c){var d=r,e=r,h=r,f=r,e=r;if(y(void 0===c))if(y(b.const_get_relative(D,"Range")["$==="](a))){e=a;d=this["$[]"](e);h=b.const_get_relative(D,"Opal").$coerce_to(e.$begin(),b.const_get_relative(D,"Integer"),"to_int");f=b.const_get_relative(D,"Opal").$coerce_to(e.$end(),b.const_get_relative(D,
"Integer"),"to_int");0>h&&(h+=this.length);0>f?f+=this.length:f>=this.length&&(f=this.length-1,e.excl&&(f+=1));var g=f-h;e.excl?--f:g+=1;h<this.length&&0<=h&&f<this.length&&0<=f&&0<g&&this.splice(h,g)}else{e=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");0>e&&(e+=this.length);if(0>e||e>=this.length)return r;d=this[e];0===e?this.shift():this.splice(e,1)}else{e=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");c=b.const_get_relative(D,
"Opal").$coerce_to(c,b.const_get_relative(D,"Integer"),"to_int");if(0>c)return r;d=this["$[]"](e,c);0>e&&(e+=this.length);e+c>this.length&&(c=this.length-e);e<this.length&&0<=e&&this.splice(e,c)}return d},eb.$$arity=-2);b.defn(c,"$sort",Ta=function(){var a=this,c=Ta.$$p,d=c||r;c&&(Ta.$$p=null);if(!y(1<a.length))return a;d===r&&(d=function(a,b){return a["$<=>"](b)});return a.slice().sort(function(c,e){var h=d(c,e);h===r&&a.$raise(b.const_get_relative(D,"ArgumentError"),"comparison of "+c.$inspect()+
" with "+e.$inspect()+" failed");return q(h,0)?1:("number"===typeof h?0>h:h["$<"](0))?-1:0})},Ta.$$arity=0);b.defn(c,"$sort!",Ua=function(){var a=Ua.$$p,b=a||r;a&&(Ua.$$p=null);for(var a=b!==r?B(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort(),b=this.length=0,c=a.length;b<c;b++)this.push(a[b]);return this},Ua.$$arity=0);b.defn(c,"$sort_by!",Va=function(){var a,b=Va.$$p,c=b||r;b&&(Va.$$p=null);return c===r?B(this,"enum_for",["sort_by!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,
a.$$arity=0,a)):this.$replace(B(this,"sort_by",[],c.$to_proc()))},Va.$$arity=0);b.defn(c,"$take",ib=function(a){0>a&&this.$raise(b.const_get_relative(D,"ArgumentError"));return this.slice(0,a)},ib.$$arity=1);b.defn(c,"$take_while",Wa=function(){var a=Wa.$$p,b=a||r;a&&(Wa.$$p=null);for(var a=[],c=0,d=this.length,e,h;c<d;c++){e=this[c];h=b(e);if(!1===h||h===r)break;a.push(e)}return a},Wa.$$arity=0);b.defn(c,"$to_a",jb=function(){return this},jb.$$arity=0);b.alias(c,"to_ary","to_a");b.defn(c,"$to_h",
kb=function(){var a,c=this.length,d,e,h=p([],{});for(a=0;a<c;a++)d=b.const_get_relative(D,"Opal")["$coerce_to?"](this[a],b.const_get_relative(D,"Array"),"to_ary"),d.$$is_array||this.$raise(b.const_get_relative(D,"TypeError"),"wrong element type "+d.$class()+" at "+a+" (expected array)"),2!==d.length&&this.$raise(b.const_get_relative(D,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+d.$length()+")"),e=d[0],d=d[1],b.hash_put(h,e,d);return h},kb.$$arity=0);b.alias(c,"to_s","inspect");
b.defn(c,"$transpose",lb=function(){var a,c=r,d=r;if(y(this["$empty?"]()))return[];c=[];d=r;B(this,"each",[],(a=function(e){var h=a.$$s||this,f,g;null==e&&(e=r);e=y(b.const_get_relative(D,"Array")["$==="](e))?e.$to_a():b.const_get_relative(D,"Opal").$coerce_to(e,b.const_get_relative(D,"Array"),"to_ary").$to_a();d=y(f=d)?f:e.length;y(e.length["$!="](d))&&h.$raise(b.const_get_relative(D,"IndexError"),"element size differs ("+e.length+" should be "+d);return B(e.length,"times",[],(g=function(a){var d,
h=r;null==a&&(a=r);y(d=c["$[]"](a))||(h=[a,[]],B(c,"[]=",b.to_a(h)),d=h,h=h.length,h="number"===typeof h?h-1:h["$-"](1),d=d[h]);return d["$<<"](e.$at(a))},g.$$s=h,g.$$arity=1,g))},a.$$s=this,a.$$arity=1,a));return c},lb.$$arity=0);b.defn(c,"$uniq",Xa=function(){var a=Xa.$$p,c=a||r;a&&(Xa.$$p=null);var a=p([],{}),d,e,h,g;if(c===r)for(d=0,e=this.length;d<e;d++)h=this[d],void 0===b.hash_get(a,h)&&b.hash_put(a,h,h);else for(d=0,e=this.length;d<e;d++)h=this[d],g=b.yield1(c,h),void 0===b.hash_get(a,g)&&
b.hash_put(a,g,h);return f(a.$values(),this.$class())},Xa.$$arity=0);b.defn(c,"$uniq!",Ra=function(){var a=Ra.$$p,c=a||r;a&&(Ra.$$p=null);var a=this.length,d=p([],{}),e,h,f,g;e=0;for(h=a;e<h;e++)f=this[e],g=c===r?f:b.yield1(c,f),void 0===b.hash_get(d,g)?b.hash_put(d,g,f):(this.splice(e,1),h--,e--);return this.length===a?r:this},Ra.$$arity=0);b.defn(c,"$unshift",bb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)this.unshift(b[c]);
return this},bb.$$arity=-1);b.defn(c,"$values_at",ab=function(a){var c,d,e=r,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var f=0;f<h;f++)d[f-0]=arguments[f];e=[];B(d,"each",[],(c=function(a){var d=c.$$s||this,h,f=r,g=r,f=r;null==a&&(a=r);if(y(a["$kind_of?"](b.const_get_relative(D,"Range")))){f=b.const_get_relative(D,"Opal").$coerce_to(a.$last(),b.const_get_relative(D,"Integer"),"to_int");g=b.const_get_relative(D,"Opal").$coerce_to(a.$first(),b.const_get_relative(D,"Integer"),"to_int");if(0>
g)return g+=d.length,r;0>f&&(f+=d.length);a["$exclude_end?"]()&&f--;return f<g?r:B(g,"upto",[f],(h=function(a){var b=h.$$s||this;null==a&&(a=r);return e["$<<"](b.$at(a))},h.$$s=d,h.$$arity=1,h))}f=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"Integer"),"to_int");return e["$<<"](d.$at(f))},c.$$s=this,c.$$arity=1,c));return e},ab.$$arity=-1);b.defn(c,"$zip",Pa=function(a){var c,d,e=Pa.$$p,h=e||r,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var g=0;g<f;g++)d[g-0]=arguments[g];
e&&(Pa.$$p=null);var e=[],f=this.length,l,k,U;k=0;for(U=d.length;k<U;k++)g=d[k],g.$$is_array||(g.$$is_enumerator?Infinity===g.$size()?d[k]=g.$take(f):d[k]=g.$to_a():d[k]=(y(c=b.const_get_relative(D,"Opal")["$coerce_to?"](g,b.const_get_relative(D,"Array"),"to_ary"))?c:b.const_get_relative(D,"Opal")["$coerce_to!"](g,b.const_get_relative(D,"Enumerator"),"each")).$to_a());for(l=0;l<f;l++){c=[this[l]];k=0;for(U=d.length;k<U;k++)g=d[k][l],null==g&&(g=r),c[k+1]=g;e[l]=c}if(h!==r){for(l=0;l<f;l++)h(e[l]);
return r}return e},Pa.$$arity=-1);b.defs(c,"$inherited",Za=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},Za.$$arity=1);b.defn(c,"$instance_variables",Oa=function(){var a,c=Oa.$$p,d=r,e=r,h=r;c&&(Oa.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return B(B(this,b.find_super_dispatcher(this,"instance_variables",Oa,!1),d,c),"reject",[],(a=function(a){var b;null==a&&(a=r);return y(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,
a))},Oa.$$arity=0);return b.const_get_relative(D,"Opal").$pristine(c,"allocate","copy_instance_variables","initialize_dup")}(A[0],Array,A)},Opal.modules["corelib/hash"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var x=b.top,A=[],r=b.nil,m=b.klass,y=b.send,p=b.hash2,B=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $call $enum_for $size $respond_to? $class $dig $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $alias_method $proc".split(" "));
x.$require("corelib/enumerable");return function(a,$super,w){function F(){}a=F=m(a,$super,"Hash",F);var v=a.$$proto,f=[a].concat(w),e,k,g,c,d,D,u,l,n,S,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,T,la,ha,na,J,fa,A,x,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea;a.$include(b.const_get_relative(f,"Enumerable"));v.$$is_hash=!0;b.defs(a,"$[]",e=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];var e=c.length,g;if(1===e){d=b.const_get_relative(f,
"Opal")["$coerce_to?"](c["$[]"](0),b.const_get_relative(f,"Hash"),"to_hash");if(d!==r)return this.$allocate()["$merge!"](d);c=b.const_get_relative(f,"Opal")["$coerce_to?"](c["$[]"](0),b.const_get_relative(f,"Array"),"to_ary");c===r&&this.$raise(b.const_get_relative(f,"ArgumentError"),"odd number of arguments for Hash");e=c.length;d=this.$allocate();for(g=0;g<e;g++)if(c[g].$$is_array)switch(c[g].length){case 1:d.$store(c[g][0],r);break;case 2:d.$store(c[g][0],c[g][1]);break;default:this.$raise(b.const_get_relative(f,
"ArgumentError"),"invalid number of elements ("+c[g].length+" for 1..2)")}return d}0!==e%2&&this.$raise(b.const_get_relative(f,"ArgumentError"),"odd number of arguments for Hash");d=this.$allocate();for(g=0;g<e;g+=2)d.$store(c[g],c[g+1]);return d},e.$$arity=-1);b.defs(a,"$allocate",k=function(){var a=new this.$$alloc;b.hash_init(a);a.$$none=r;a.$$proc=r;return a},k.$$arity=0);b.defs(a,"$try_convert",g=function(a){return b.const_get_relative(f,"Opal")["$coerce_to?"](a,b.const_get_relative(f,"Hash"),
"to_hash")},g.$$arity=1);b.defn(a,"$initialize",c=function(a){var d=c.$$p,e=d||r;d&&(c.$$p=null);void 0!==a&&e!==r&&this.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?r:a;this.$$proc=e;return this},c.$$arity=-1);b.defn(a,"$==",d=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)if(f=d[c],f.$$is_string?(g=this.$$smap[f],f=a.$$smap[f]):(g=f.value,
f=b.hash_get(a,f.key)),void 0===f||!g["$eql?"](f))return!1;return!0},d.$$arity=1);b.defn(a,"$>=",D=function(a){var c,d=r;a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;d=!0;y(a,"each",[],(c=function(a,b){var e=c.$$s||this,f=r;null==a&&(a=r);null==b&&(b=r);f=e.$fetch(a,null);if(null==f||f!==b)d=!1},c.$$s=this,c.$$arity=2,c));return d},D.$$arity=1);b.defn(a,"$>",u=function(a){a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,
b.const_get_relative(f,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:q(this,a)},u.$$arity=1);b.defn(a,"$<",l=function(a){a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},l.$$arity=1);b.defn(a,"$<=",n=function(a){a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Hash"),"to_hash");return q(a,this)},n.$$arity=1);b.defn(a,"$[]",S=function(a){var c=
b.hash_get(this,a);return void 0!==c?c:this.$default(a)},S.$$arity=1);b.defn(a,"$[]=",da=function(a,c){b.hash_put(this,a,c);return c},da.$$arity=2);b.defn(a,"$assoc",G=function(a){for(var b=0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],e.$$is_string){if(e["$=="](a))return[e,this.$$smap[e]]}else if(e.key["$=="](a))return[e.key,e.value];return r},G.$$arity=1);b.defn(a,"$clear",t=function(){b.hash_init(this);return this},t.$$arity=0);b.defn(a,"$clone",Z=function(){var a=new this.$$class.$$alloc;b.hash_init(a);
b.hash_clone(this,a);return a},Z.$$arity=0);b.defn(a,"$compare_by_identity",C=function(){var a,c,d,e=this.$$keys,f;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;f=p([],{}).$compare_by_identity();a=0;for(c=e.length;a<c;a++)d=e[a],d.$$is_string||(d=d.key),b.hash_put(f,d,b.hash_get(this,d));this.$$by_identity=!0;this.$$map=f.$$map;this.$$smap=f.$$smap;return this},C.$$arity=0);b.defn(a,"$compare_by_identity?",K=function(){return!0===this.$$by_identity},
K.$$arity=0);b.defn(a,"$default",ia=function(a){return void 0!==a&&this.$$proc!==r&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?r:this.$$none},ia.$$arity=-1);b.defn(a,"$default=",aa=function(a){this.$$proc=r;return this.$$none=a},aa.$$arity=1);b.defn(a,"$default_proc",ta=function(){return void 0!==this.$$proc?this.$$proc:r},ta.$$arity=0);b.defn(a,"$default_proc=",M=function(a){var c=a;c!==r&&(c=b.const_get_relative(f,"Opal")["$coerce_to!"](c,b.const_get_relative(f,"Proc"),
"to_proc"),c["$lambda?"]()&&2!==c.$arity().$abs()&&this.$raise(b.const_get_relative(f,"TypeError"),"default_proc takes two arguments"));this.$$none=r;this.$$proc=c;return a},M.$$arity=1);b.defn(a,"$delete",Q=function(a){var c=Q.$$p,d=c||r;c&&(Q.$$p=null);c=b.hash_delete(this,a);return void 0!==c?c:d!==r?d.$call(a):r},Q.$$arity=1);b.defn(a,"$delete_if",W=function(){var a,c=W.$$p,d=c||r;c&&(W.$$p=null);if(!B(d))return y(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));for(var c=0,e=this.$$keys,f=e.length,g,l;c<f;c++)g=e[c],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l=d(g,l),!1!==l&&l!==r&&void 0!==b.hash_delete(this,g)&&(f--,c--);return this},W.$$arity=0);b.alias(a,"dup","clone");b.defn(a,"$dig",N=function(a,c){var d,e=r,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var g=1;g<e;g++)d[g-1]=arguments[g];e=this["$[]"](a);if(e===r||0===d.length)return e;B(e["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(f,"TypeError"),""+
e.$class()+" does not have #dig method");return y(e,"dig",b.to_a(d))},N.$$arity=-2);b.defn(a,"$each",P=function(){var a,c=P.$$p,d=c||r;c&&(P.$$p=null);if(!B(d))return y(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.$$keys,f=e.length,g,l;c<f;c++)g=e[c],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),b.yield1(d,[g,l]);return this},P.$$arity=0);b.defn(a,"$each_key",ba=function(){var a,b=ba.$$p,c=b||r;b&&(ba.$$p=null);if(!B(c))return y(this,
"enum_for",["each_key"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?f:f.key);return this},ba.$$arity=0);b.alias(a,"each_pair","each");b.defn(a,"$each_value",O=function(){var a,b=O.$$p,c=b||r;b&&(O.$$p=null);if(!B(c))return y(this,"enum_for",["each_value"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?this.$$smap[f]:
f.value);return this},O.$$arity=0);b.defn(a,"$empty?",H=function(){return 0===this.$$keys.length},H.$$arity=0);b.alias(a,"eql?","==");b.defn(a,"$fetch",L=function(a,c){var d=L.$$p,e=d||r;d&&(L.$$p=null);d=b.hash_get(this,a);return void 0!==d?d:e!==r?e(a):void 0!==c?c:this.$raise(b.const_get_relative(f,"KeyError"),"key not found: "+a.$inspect())},L.$$arity=-2);b.defn(a,"$fetch_values",T=function(a){var b,c,d=T.$$p,e=d||r,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];
d&&(T.$$p=null);return y(c,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=r);return y(c,"fetch",[a],e.$to_proc())},b.$$s=this,b.$$arity=1,b))},T.$$arity=-1);b.defn(a,"$flatten",la=function(a){null==a&&(a=1);a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Integer"),"to_int");for(var c=[],d=0,e=this.$$keys,g=e.length,l,k;d<g;d++)l=e[d],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),c.push(l),k.$$is_array?1===a?c.push(k):c=c.concat(k.$flatten(a-2)):c.push(k);return c},
la.$$arity=-1);b.defn(a,"$has_key?",ha=function(a){return void 0!==b.hash_get(this,a)},ha.$$arity=1);b.defn(a,"$has_value?",na=function(a){for(var b=0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},na.$$arity=1);b.defn(a,"$hash",J=function(){var a=void 0===b.hash_ids,c=this.$object_id(),d=["Hash"],e,f;try{a&&(b.hash_ids=Object.create(null));if(b[c])return"self";for(e in b.hash_ids)if(f=b.hash_ids[e],this["$eql?"](f))return"self";b.hash_ids[c]=
this;for(var c=0,g=this.$$keys,l=g.length;c<l;c++)e=g[c],e.$$is_string?d.push([e,this.$$smap[e].$hash()]):d.push([e.key_hash,e.value.$hash()]);return d.sort().join()}finally{a&&(b.hash_ids=void 0)}},J.$$arity=0);b.alias(a,"include?","has_key?");b.defn(a,"$index",fa=function(a){for(var b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)if(e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return e;return r},fa.$$arity=1);b.defn(a,"$indexes",A=function(a){var c,d=arguments.length;c=d-0;0>c&&
(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];for(var d=[],e=0,f=c.length,g;e<f;e++)g=c[e],g=b.hash_get(this,g),void 0===g?d.push(this.$default()):d.push(g);return d},A.$$arity=-1);b.alias(a,"indices","indexes");var Fa;b.defn(a,"$inspect",x=function(){var a=void 0===Fa,b=this.$object_id(),c=[];try{a&&(Fa={});if(Fa.hasOwnProperty(b))return"{...}";Fa[b]=!0;for(var b=0,d=this.$$keys,e=d.length,f,g;b<e;b++)f=d[b],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),c.push(f.$inspect()+"=>"+g.$inspect());
return"{"+c.join(", ")+"}"}finally{a&&(Fa=void 0)}},x.$$arity=0);b.defn(a,"$invert",V=function(){for(var a=b.hash(),c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)f=d[c],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),b.hash_put(a,g,f);return a},V.$$arity=0);b.defn(a,"$keep_if",ea=function(){var a,c=ea.$$p,d=c||r;c&&(ea.$$p=null);if(!B(d))return y(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.$$keys,f=e.length,g,l;c<f;c++)g=e[c],
g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l=d(g,l),!1!==l&&l!==r||void 0===b.hash_delete(this,g)||(f--,c--);return this},ea.$$arity=0);b.alias(a,"key","index");b.alias(a,"key?","has_key?");b.defn(a,"$keys",sa=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(e):a.push(e.key);return a},sa.$$arity=0);b.defn(a,"$length",pa=function(){return this.$$keys.length},pa.$$arity=0);b.alias(a,"member?","has_key?");b.defn(a,"$merge",ua=function(a){var b=ua.$$p,
c=b||r;b&&(ua.$$p=null);return y(this.$dup(),"merge!",[a],c.$to_proc())},ua.$$arity=1);b.defn(a,"$merge!",ga=function(a){var c=ga.$$p,d=c||r;c&&(ga.$$p=null);a.$$is_hash||(a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Hash"),"to_hash"));var e=a.$$keys,g=e.length,l,k,n;if(d===r){for(c=0;c<g;c++)l=e[c],l.$$is_string?n=a.$$smap[l]:(n=l.value,l=l.key),b.hash_put(this,l,n);return this}for(c=0;c<g;c++)l=e[c],l.$$is_string?n=a.$$smap[l]:(n=l.value,l=l.key),k=b.hash_get(this,l),
void 0===k?b.hash_put(this,l,n):b.hash_put(this,l,d(l,k,n));return this},ga.$$arity=1);b.defn(a,"$rassoc",ka=function(a){for(var b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)if(e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return[e,f];return r},ka.$$arity=1);b.defn(a,"$rehash",oa=function(){b.hash_rehash(this);return this},oa.$$arity=0);b.defn(a,"$reject",ra=function(){var a,c=ra.$$p,d=c||r;c&&(ra.$$p=null);if(!B(d))return y(this,"enum_for",["reject"],(a=function(){return(a.$$s||
this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=b.hash(),e=0,f=this.$$keys,g=f.length,l,k,n;e<g;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),n=d(l,k),!1!==n&&n!==r||b.hash_put(c,l,k);return c},ra.$$arity=0);b.defn(a,"$reject!",R=function(){var a,c=R.$$p,d=c||r;c&&(R.$$p=null);if(!B(d))return y(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=!1,e=0,f=this.$$keys,g=f.length,l,k;e<g;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:
(k=l.value,l=l.key),k=d(l,k),!1!==k&&k!==r&&void 0!==b.hash_delete(this,l)&&(c=!0,g--,e--);return c?this:r},R.$$arity=0);b.defn(a,"$replace",z=function(a){var c=r;a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Hash"),"to_hash");b.hash_init(this);for(var c=0,d=a.$$keys,e=d.length,g,l;c<e;c++)g=d[c],g.$$is_string?l=a.$$smap[g]:(l=g.value,g=g.key),b.hash_put(this,g,l);B(a.$default_proc())?(c=[a.$default_proc()],y(this,"default_proc=",b.to_a(c))):(c=[a.$default()],y(this,"default=",
b.to_a(c)));a=c;c=c.length;c="number"===typeof c?c-1:c["$-"](1);a[c];return this},z.$$arity=1);b.defn(a,"$select",ca=function(){var a,c=ca.$$p,d=c||r;c&&(ca.$$p=null);if(!B(d))return y(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=b.hash(),e=0,f=this.$$keys,g=f.length,l,k,n;e<g;e++)l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),n=d(l,k),!1!==n&&n!==r&&b.hash_put(c,l,k);return c},ca.$$arity=0);b.defn(a,"$select!",qa=function(){var a,
c=qa.$$p,d=c||r;c&&(qa.$$p=null);if(!B(d))return y(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=r,e=0,f=this.$$keys,g=f.length,l,k;e<g;e++)if(l=f[e],l.$$is_string?k=this.$$smap[l]:(k=l.value,l=l.key),k=d(l,k),!1===k||k===r)void 0!==b.hash_delete(this,l)&&(g--,e--),c=this;return c},qa.$$arity=0);b.defn(a,"$shift",Aa=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(r)},
Aa.$$arity=0);b.alias(a,"size","length");a.$alias_method("store","[]=");b.defn(a,"$to_a",xa=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),a.push([e,f]);return a},xa.$$arity=0);b.defn(a,"$to_h",ya=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash.$$alloc;b.hash_init(a);b.hash_clone(this,a);return a},ya.$$arity=0);b.defn(a,"$to_hash",za=function(){return this},za.$$arity=0);b.defn(a,"$to_proc",Ca=function(){var a;
return y(this,"proc",[],(a=function(c){var d=a.$$s||this;null==c&&d.$raise(b.const_get_relative(f,"ArgumentError"),"no key given");return d["$[]"](c)},a.$$s=this,a.$$arity=-1,a))},Ca.$$arity=0);b.alias(a,"to_s","inspect");b.alias(a,"update","merge!");b.alias(a,"value?","has_value?");b.alias(a,"values_at","indexes");return(b.defn(a,"$values",Ea=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(this.$$smap[e]):a.push(e.value);return a},Ea.$$arity=0),r)&&"values"}(A[0],
null,A)},Opal.modules["corelib/number"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function y(a,b){return"number"===typeof a&&"number"===typeof b?
a*b:a["$*"](b)}var p=b.top,B=[],a=b.nil,h=b.klass,w=b.truthy,F=b.send,v=b.hash2;b.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));p.$require("corelib/numeric");(function(f,$super,k){function g(){}f=g=h(f,$super,"Number",g);var c=[f].concat(k),d,D,u,l,n,p,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,B,T,la,ha,na,
J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea,Fa,Ga,Ha,U,ma,Ia,Ja,va,Ka,Na,Ma,La,Ba,Da;b.const_get_relative(c,"Opal").$bridge(f,Number);Number.prototype.$$is_number=!0;f.$$is_number_class=!0;b.defn(f,"$coerce",d=function(d){if(d!==a){if(d.$$is_string)return[this.$Float(d),this];if(d["$respond_to?"]("to_f"))return[b.const_get_relative(c,"Opal")["$coerce_to!"](d,b.const_get_relative(c,"Float"),"to_f"),this];if(d.$$is_number)return[d,this]}this.$raise(b.const_get_relative(c,"TypeError"),
"can't convert "+d.$class()+" into Float")},d.$$arity=1);b.defn(f,"$__id__",D=function(){return 2*this+1},D.$$arity=0);b.alias(f,"object_id","__id__");b.defn(f,"$+",u=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},u.$$arity=1);b.defn(f,"$-",l=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},l.$$arity=1);b.defn(f,"$*",n=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},n.$$arity=1);b.defn(f,"$/",p=function(a){return a.$$is_number?this/a:this.$__coerced__("/",
a)},p.$$arity=1);b.alias(f,"fdiv","/");b.defn(f,"$%",da=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(b.const_get_relative(c,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},da.$$arity=1);b.defn(f,"$&",G=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},G.$$arity=1);b.defn(f,"$|",t=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},t.$$arity=1);b.defn(f,"$^",Z=function(a){return a.$$is_number?
this^a:this.$__coerced__("^",a)},Z.$$arity=1);b.defn(f,"$<",C=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},C.$$arity=1);b.defn(f,"$<=",K=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},K.$$arity=1);b.defn(f,"$>",ia=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},ia.$$arity=1);b.defn(f,"$>=",aa=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},aa.$$arity=1);b.defn(f,"$<=>",ta=function(d){try{return d.$$is_number?isNaN(this)||
isNaN(d)?a:this>d?1:this<d?-1:0:this.$__coerced__("<=>",d)}catch(h){if(b.rescue(h,[b.const_get_relative(c,"ArgumentError")]))try{return a}finally{b.pop_exception()}else throw h;}},ta.$$arity=1);b.defn(f,"$<<",M=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int");return 0<a?this<<a:this>>-a},M.$$arity=1);b.defn(f,"$>>",Q=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int");return 0<a?this>>a:
this<<-a},Q.$$arity=1);b.defn(f,"$[]",W=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},W.$$arity=1);b.defn(f,"$+@",N=function(){return+this},N.$$arity=0);b.defn(f,"$-@",P=function(){return-this},P.$$arity=0);b.defn(f,"$~",ba=function(){return~this},ba.$$arity=0);b.defn(f,"$**",O=function(a){var d,h;return w(b.const_get_relative(c,"Integer")["$==="](a))?w(w(d=b.const_get_relative(c,"Integer")["$==="](this)["$!"]())?
d:q(a,0))?Math.pow(this,a):b.const_get_relative(c,"Rational").$new(this,1)["$**"](a):w(x(this,0)?w(h=b.const_get_relative(c,"Float")["$==="](a))?h:b.const_get_relative(c,"Rational")["$==="](a):x(this,0))?b.const_get_relative(c,"Complex").$new(this,0)["$**"](a.$to_f()):w(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},O.$$arity=1);b.defn(f,"$===",H=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},H.$$arity=1);b.defn(f,"$==",B=
function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},B.$$arity=1);b.defn(f,"$abs",T=function(){return Math.abs(this)},T.$$arity=0);b.defn(f,"$abs2",la=function(){return Math.abs(this*this)},la.$$arity=0);b.defn(f,"$angle",ha=function(){return w(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},ha.$$arity=0);b.alias(f,"arg","angle");b.alias(f,"phase","angle");b.defn(f,"$bit_length",na=function(){w(b.const_get_relative(c,"Integer")["$==="](this))||
this.$raise(b.const_get_relative(c,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,d=0>this?~this:this;0!=d;)a+=1,d>>>=1;return a},na.$$arity=0);b.defn(f,"$ceil",J=function(){return Math.ceil(this)},J.$$arity=0);b.defn(f,"$chr",fa=function(a){return String.fromCharCode(this)},fa.$$arity=-1);b.defn(f,"$denominator",ja=function(){var c,d=ja.$$p,h=a,f=a,g=a;d&&(ja.$$p=null);f=0;g=arguments.length;for(h=Array(g);f<g;f++)h[f]=
arguments[f];return w(w(c=this["$nan?"]())?c:this["$infinite?"]())?1:F(this,b.find_super_dispatcher(this,"denominator",ja,!1),h,d)},ja.$$arity=0);b.defn(f,"$downto",Y=function(d){var h,f=Y.$$p,g=f||a;f&&(Y.$$p=null);if(g===a)return F(this,"enum_for",["downto",d],(h=function(){var a=h.$$s||this;w(b.const_get_relative(c,"Numeric")["$==="](d))||a.$raise(b.const_get_relative(c,"ArgumentError"),"comparison of "+a.$class()+" with "+d.$class()+" failed");return w(q(d,a))?0:A(r(a,d),1)},h.$$s=this,h.$$arity=
0,h));d.$$is_number||this.$raise(b.const_get_relative(c,"ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed");for(f=this;f>=d;f--)g(f);return this},Y.$$arity=1);b.alias(f,"eql?","==");b.defn(f,"$equal?",V=function(a){var b;return w(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},V.$$arity=1);b.defn(f,"$even?",ea=function(){return 0===this%2},ea.$$arity=0);b.defn(f,"$floor",sa=function(){return Math.floor(this)},sa.$$arity=0);b.defn(f,"$gcd",pa=function(a){w(b.const_get_relative(c,
"Integer")["$==="](a))||this.$raise(b.const_get_relative(c,"TypeError"),"not an integer");var d=Math.abs(this);for(a=Math.abs(a);0<d;){var h=d,d=a%d;a=h}return a},pa.$$arity=1);b.defn(f,"$gcdlcm",ua=function(a){return[this.$gcd(),this.$lcm()]},ua.$$arity=1);b.defn(f,"$integer?",ga=function(){return 0===this%1},ga.$$arity=0);b.defn(f,"$is_a?",ka=function(d){var h=ka.$$p,f=a,g=a,l=a;h&&(ka.$$p=null);g=0;l=arguments.length;for(f=Array(l);g<l;g++)f[g]=arguments[g];return w(d["$=="](b.const_get_relative(c,
"Fixnum"))?b.const_get_relative(c,"Integer")["$==="](this):d["$=="](b.const_get_relative(c,"Fixnum")))||w(d["$=="](b.const_get_relative(c,"Integer"))?b.const_get_relative(c,"Integer")["$==="](this):d["$=="](b.const_get_relative(c,"Integer")))||w(d["$=="](b.const_get_relative(c,"Float"))?b.const_get_relative(c,"Float")["$==="](this):d["$=="](b.const_get_relative(c,"Float")))?!0:F(this,b.find_super_dispatcher(this,"is_a?",ka,!1),f,h)},ka.$$arity=1);b.alias(f,"kind_of?","is_a?");b.defn(f,"$instance_of?",
oa=function(d){var h=oa.$$p,f=a,g=a,l=a;h&&(oa.$$p=null);g=0;l=arguments.length;for(f=Array(l);g<l;g++)f[g]=arguments[g];return w(d["$=="](b.const_get_relative(c,"Fixnum"))?b.const_get_relative(c,"Integer")["$==="](this):d["$=="](b.const_get_relative(c,"Fixnum")))||w(d["$=="](b.const_get_relative(c,"Integer"))?b.const_get_relative(c,"Integer")["$==="](this):d["$=="](b.const_get_relative(c,"Integer")))||w(d["$=="](b.const_get_relative(c,"Float"))?b.const_get_relative(c,"Float")["$==="](this):d["$=="](b.const_get_relative(c,
"Float")))?!0:F(this,b.find_super_dispatcher(this,"instance_of?",oa,!1),f,h)},oa.$$arity=1);b.defn(f,"$lcm",ra=function(a){w(b.const_get_relative(c,"Integer")["$==="](a))||this.$raise(b.const_get_relative(c,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},ra.$$arity=1);b.alias(f,"magnitude","abs");b.alias(f,"modulo","%");b.defn(f,"$next",R=function(){return this+1},R.$$arity=0);b.defn(f,"$nonzero?",z=function(){return 0==this?a:this},z.$$arity=0);b.defn(f,"$numerator",
ca=function(){var c,d=ca.$$p,h=a,f=a,g=a;d&&(ca.$$p=null);f=0;g=arguments.length;for(h=Array(g);f<g;f++)h[f]=arguments[f];return w(w(c=this["$nan?"]())?c:this["$infinite?"]())?this:F(this,b.find_super_dispatcher(this,"numerator",ca,!1),h,d)},ca.$$arity=0);b.defn(f,"$odd?",qa=function(){return 0!==this%2},qa.$$arity=0);b.defn(f,"$ord",Aa=function(){return this},Aa.$$arity=0);b.defn(f,"$pred",xa=function(){return this-1},xa.$$arity=0);b.defn(f,"$quo",ya=function(d){var h=ya.$$p,f=a,g=a,l=a;h&&(ya.$$p=
null);g=0;l=arguments.length;for(f=Array(l);g<l;g++)f[g]=arguments[g];return w(b.const_get_relative(c,"Integer")["$==="](this))?F(this,b.find_super_dispatcher(this,"quo",ya,!1),f,h):m(this,d)},ya.$$arity=1);b.defn(f,"$rationalize",za=function(d){var h,f,g=a;h=a;1<arguments.length&&this.$raise(b.const_get_relative(c,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return w(b.const_get_relative(c,"Integer")["$==="](this))?b.const_get_relative(c,"Rational").$new(this,1):
w(this["$infinite?"]())?this.$raise(b.const_get_relative(c,"FloatDomainError"),"Infinity"):w(this["$nan?"]())?this.$raise(b.const_get_relative(c,"FloatDomainError"),"NaN"):w(null==d)?(f=b.const_get_relative(c,"Math").$frexp(this),h=b.to_ary(f),g=null==h[0]?a:h[0],h=null==h[1]?a:h[1],f,g=b.const_get_relative(c,"Math").$ldexp(g,b.const_get_qualified(b.const_get_relative(c,"Float"),"MANT_DIG")).$to_i(),h=r(h,b.const_get_qualified(b.const_get_relative(c,"Float"),"MANT_DIG")),b.const_get_relative(c,"Rational").$new(y(2,
g),1["$<<"](r(1,h))).$rationalize(b.const_get_relative(c,"Rational").$new(1,1["$<<"](r(1,h))))):this.$to_r().$rationalize(d)},za.$$arity=-1);b.defn(f,"$round",Ca=function(d){var h,f,g=a;if(w(b.const_get_relative(c,"Integer")["$==="](this))){if(w(null==d))return this;w(w(h=b.const_get_relative(c,"Float")["$==="](d))?d["$infinite?"]():h)&&this.$raise(b.const_get_relative(c,"RangeError"),"Infinity");d=b.const_get_relative(c,"Opal")["$coerce_to!"](d,b.const_get_relative(c,"Integer"),"to_int");w(x(d,b.const_get_qualified(b.const_get_relative(c,
"Integer"),"MIN")))&&this.$raise(b.const_get_relative(c,"RangeError"),"out of bounds");if(w(0<=d))return this;d=d["$-@"]();if(.415241*d-.125>this.$size())return 0;d=Math.pow(10,d);f=Math.floor((Math.abs(f)+d/2)/d)*d;return 0>this?-f:f}w(w(h=this["$nan?"]())?null==d:h)&&this.$raise(b.const_get_relative(c,"FloatDomainError"),"NaN");d=b.const_get_relative(c,"Opal")["$coerce_to!"](d||0,b.const_get_relative(c,"Integer"),"to_int");if(w("number"===typeof d?0>=d:d["$<="](0)))w(this["$nan?"]())?this.$raise(b.const_get_relative(c,
"RangeError"),"NaN"):w(this["$infinite?"]())&&this.$raise(b.const_get_relative(c,"FloatDomainError"),"Infinity");else{if(d["$=="](0))return Math.round(this);if(w(w(h=this["$nan?"]())?h:this["$infinite?"]()))return this}f=b.const_get_relative(c,"Math").$frexp(this);h=b.to_ary(f);g=null==h[1]?a:h[1];f;h=r(A(b.const_get_qualified(b.const_get_relative(c,"Float"),"DIG"),2),w(q(g,0))?m(g,4):r(m(g,3),1));h="number"===typeof d&&"number"===typeof h?d>=h:d["$>="](h);return w(h)?this:w(x(d,(w(q(g,0))?A(m(g,
3),1):m(g,4))["$-@"]()))?0:Math.round(this*Math.pow(10,d))/Math.pow(10,d)},Ca.$$arity=-1);b.defn(f,"$step",Ea=function(d,h,f){function g(){0===C&&t.$raise(b.const_get_relative(c,"ArgumentError"),"step cannot be 0");m=w(n=m)?n:z;C=w(n=C)?n:w(U=D)?U:1;m.$$is_number||t.$raise(b.const_get_relative(c,"ArgumentError"),"limit must be a number");C.$$is_number||t.$raise(b.const_get_relative(c,"ArgumentError"),"step must be a number")}function l(){if(0<C&&t>m||0>C&&t<m)return 0;if(Infinity===C||-Infinity===
C)return 1;var a=Math.abs,d=Math.floor,a=(a(t)+a(m)+a(m-t))/a(C)*b.const_get_qualified(b.const_get_relative(c,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return d((m-t)/C+a)+1}function k(){g();if(0===C)return Infinity;if(0!==C%1)return l();if(0<C&&t>m||0>C&&t<m)return 0;var a=Math.ceil,b=Math.abs,c=b(t-m)+1,b=b(C);return a(c/b)}var n,U,u,t=this,N,z,D,m,C,Ba=Ea.$$p,p=Ba||a;N=b.slice.call(arguments,0,arguments.length);f=b.extract_kwargs(N);if(null==f||!f.$$is_hash)if(null==
f)f=v([],{});else throw b.ArgumentError.$new("expected kwargs");null==(z=f.$$smap.to)&&(z=a);null==(D=f.$$smap.by)&&(D=a);0<N.length&&(m=N.splice(0,1)[0]);null==m&&(m=a);0<N.length&&(C=N.splice(0,1)[0]);null==C&&(C=a);Ba&&(Ea.$$p=null);m!==a&&z!==a&&t.$raise(b.const_get_relative(c,"ArgumentError"),"to is given twice");C!==a&&D!==a&&t.$raise(b.const_get_relative(c,"ArgumentError"),"step is given twice");if(p===a)return F(t,"enum_for",["step",m,C,v(["to","by"],{to:z,by:D})],(u=function(){return k()},
u.$$s=t,u.$$arity=0,u));g();if(0===C)for(;;)p(t);if(0!==t%1||0!==m%1||0!==C%1){if(u=l(),0<u)if(Infinity===C||-Infinity===C)p(t);else if(N=0,0<C)for(;N<u;)Ba=N*C+t,m<Ba&&(Ba=m),p(Ba),N+=1;else for(;N<u;)Ba=N*C+t,m>Ba&&(Ba=m),p(Ba),N+=1}else if(u=t,0<C)for(;u<=m;)p(u),u+=C;else for(;u>=m;)p(u),u+=C;return t},Ea.$$arity=-1);b.alias(f,"succ","next");b.defn(f,"$times",Fa=function(){var b,c=Fa.$$p,d=c||a;c&&(Fa.$$p=null);if(!w(d))return F(this,"enum_for",["times"],(b=function(){return b.$$s||this},b.$$s=
this,b.$$arity=0,b));for(c=0;c<this;c++)d(c);return this},Fa.$$arity=0);b.defn(f,"$to_f",Ga=function(){return this},Ga.$$arity=0);b.defn(f,"$to_i",Ha=function(){return parseInt(this,10)},Ha.$$arity=0);b.alias(f,"to_int","to_i");b.defn(f,"$to_r",U=function(){var d,h,f=a;d=a;if(w(b.const_get_relative(c,"Integer")["$==="](this)))return b.const_get_relative(c,"Rational").$new(this,1);h=b.const_get_relative(c,"Math").$frexp(this);d=b.to_ary(h);f=null==d[0]?a:d[0];d=null==d[1]?a:d[1];h;f=b.const_get_relative(c,
"Math").$ldexp(f,b.const_get_qualified(b.const_get_relative(c,"Float"),"MANT_DIG")).$to_i();d=r(d,b.const_get_qualified(b.const_get_relative(c,"Float"),"MANT_DIG"));return y(f,b.const_get_qualified(b.const_get_relative(c,"Float"),"RADIX")["$**"](d)).$to_r()},U.$$arity=0);b.defn(f,"$to_s",ma=function(a){var d;null==a&&(a=10);w(w(d=x(a,2))?d:q(a,36))&&this.$raise(b.const_get_relative(c,"ArgumentError"),"base must be between 2 and 36");return this.toString(a)},ma.$$arity=-1);b.alias(f,"truncate","to_i");
b.alias(f,"inspect","to_s");b.defn(f,"$divmod",Ia=function(d){var h,f=Ia.$$p,g=a,l=a,k=a;f&&(Ia.$$p=null);l=0;k=arguments.length;for(g=Array(k);l<k;l++)g[l]=arguments[l];return w(w(h=this["$nan?"]())?h:d["$nan?"]())?this.$raise(b.const_get_relative(c,"FloatDomainError"),"NaN"):w(this["$infinite?"]())?this.$raise(b.const_get_relative(c,"FloatDomainError"),"Infinity"):F(this,b.find_super_dispatcher(this,"divmod",Ia,!1),g,f)},Ia.$$arity=1);b.defn(f,"$upto",Ja=function(d){var h,f=Ja.$$p,g=f||a;f&&(Ja.$$p=
null);if(g===a)return F(this,"enum_for",["upto",d],(h=function(){var a=h.$$s||this;w(b.const_get_relative(c,"Numeric")["$==="](d))||a.$raise(b.const_get_relative(c,"ArgumentError"),"comparison of "+a.$class()+" with "+d.$class()+" failed");return w(x(d,a))?0:A(r(d,a),1)},h.$$s=this,h.$$arity=0,h));d.$$is_number||this.$raise(b.const_get_relative(c,"ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed");for(f=this;f<=d;f++)g(f);return this},Ja.$$arity=1);b.defn(f,"$zero?",va=
function(){return 0==this},va.$$arity=0);b.defn(f,"$size",Ka=function(){return 4},Ka.$$arity=0);b.defn(f,"$nan?",Na=function(){return isNaN(this)},Na.$$arity=0);b.defn(f,"$finite?",Ma=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Ma.$$arity=0);b.defn(f,"$infinite?",La=function(){return Infinity==this?1:-Infinity==this?-1:a},La.$$arity=0);b.defn(f,"$positive?",Ba=function(){return 0!=this&&(Infinity==this||0<1/this)},Ba.$$arity=0);return(b.defn(f,"$negative?",Da=function(){return-Infinity==
this||0>1/this},Da.$$arity=0),a)&&"negative?"})(B[0],b.const_get_relative(B,"Numeric"),B);b.const_set(B[0],"Fixnum",b.const_get_relative(B,"Number"));(function(a,$super,k){function g(){}a=g=h(a,$super,"Integer",g);k=[a].concat(k);var c;a.$$is_number_class=!0;b.defs(a,"$===",c=function(a){return a.$$is_number?0===a%1:!1},c.$$arity=1);b.const_set(k[0],"MAX",Math.pow(2,30)-1);return b.const_set(k[0],"MIN",-Math.pow(2,30))})(B[0],b.const_get_relative(B,"Numeric"),B);return function(a,$super,k){function g(){}
a=g=h(a,$super,"Float",g);k=[a].concat(k);var c;a.$$is_number_class=!0;b.defs(a,"$===",c=function(a){return!!a.$$is_number},c.$$arity=1);b.const_set(k[0],"INFINITY",Infinity);b.const_set(k[0],"MAX",Number.MAX_VALUE);b.const_set(k[0],"MIN",Number.MIN_VALUE);b.const_set(k[0],"NAN",NaN);b.const_set(k[0],"DIG",15);b.const_set(k[0],"MANT_DIG",53);b.const_set(k[0],"RADIX",2);return b.const_set(k[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(B[0],b.const_get_relative(B,"Numeric"),B)},Opal.modules["corelib/range"]=
function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=b.top,y=[],p=b.nil,B=b.klass,a=b.truthy,h=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
m.$require("corelib/enumerable");return function(w,$super,v){function f(){}w=f=B(w,$super,"Range",f);var e=w.$$proto,k=[w].concat(v),g,c,d,D,u,l,n,m,da,G,t,Z,C,K,ia,aa,ta,M;e.begin=e.end=e.excl=p;w.$include(b.const_get_relative(k,"Enumerable"));e.$$is_range=!0;w.$attr_reader("begin","end");b.defn(w,"$initialize",g=function(c,d,e){null==e&&(e=!1);a(this.begin)&&this.$raise(b.const_get_relative(k,"NameError"),"'initialize' called twice");a(c["$<=>"](d))||this.$raise(b.const_get_relative(k,"ArgumentError"),
"bad value for range");this.begin=c;this.end=d;return this.excl=e},g.$$arity=-3);b.defn(w,"$==",c=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},c.$$arity=1);b.defn(w,"$===",d=function(a){return this["$include?"](a)},d.$$arity=1);b.defn(w,"$cover?",D=function(b){var c,d=p,d=p,d=this.begin["$<=>"](b);if(!a(a(c=d)?q(d,0):c))return!1;d=b["$<=>"](this.end);return a(this.excl)?a(c=d)?x(d,0):c:a(c=d)?q(d,0):c},D.$$arity=1);b.defn(w,"$each",u=function(){var c,
d=u.$$p,e=d||p,f=p,g=p;d&&(u.$$p=null);if(e===p)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(b.const_get_relative(k,"TypeError"),"can't iterate from Float");c=this.begin;for(d=this.end+(a(this.excl)?0:1);c<d;c++)e(c);return this}if(this.begin.$$is_string&&this.end.$$is_string)return h(this.begin,"upto",[this.end,this.excl],e.$to_proc()),this;f=this.begin;g=this.end;for(a(f["$respond_to?"]("succ"))||this.$raise(b.const_get_relative(k,
"TypeError"),"can't iterate from "+f.$class());a(x(f["$<=>"](g),0));)b.yield1(e,f),f=f.$succ();a(a(c=this.excl["$!"]())?f["$=="](g):c)&&b.yield1(e,f);return this},u.$$arity=0);b.defn(w,"$eql?",l=function(c){var d,e;return a(b.const_get_relative(k,"Range")["$==="](c))?a(d=a(e=this.excl["$==="](c["$exclude_end?"]()))?this.begin["$eql?"](c.$begin()):e)?this.end["$eql?"](c.$end()):d:!1},l.$$arity=1);b.defn(w,"$exclude_end?",n=function(){return this.excl},n.$$arity=0);b.defn(w,"$first",m=function(c){var d=
m.$$p,e=p,f=p,g=p;d&&(m.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];return a(null==c)?this.begin:h(this,b.find_super_dispatcher(this,"first",m,!1),e,d)},m.$$arity=-1);b.alias(w,"include?","cover?");b.defn(w,"$last",da=function(b){return a(null==b)?this.end:this.$to_a().$last(b)},da.$$arity=-1);b.defn(w,"$max",G=function(){var c,d=G.$$p,e=d||p,f=p,g=p,l=p;d&&(G.$$p=null);g=0;l=arguments.length;for(f=Array(l);g<l;g++)f[g]=arguments[g];return e!==p?h(this,b.find_super_dispatcher(this,
"max",G,!1),f,d):a(A(this.begin,this.end))?p:a(a(c=this.excl)?this.begin["$=="](this.end):c)?p:this.excl?this.end-1:this.end},G.$$arity=0);b.alias(w,"member?","cover?");b.defn(w,"$min",t=function(){var c,d=t.$$p,e=d||p,f=p,g=p,l=p;d&&(t.$$p=null);g=0;l=arguments.length;for(f=Array(l);g<l;g++)f[g]=arguments[g];return e!==p?h(this,b.find_super_dispatcher(this,"min",t,!1),f,d):a(A(this.begin,this.end))?p:a(a(c=this.excl)?this.begin["$=="](this.end):c)?p:this.begin},t.$$arity=0);b.defn(w,"$size",Z=function(){var c,
d=p,e=p,h=p,d=this.begin,e=this.end;a(this.excl)&&(e="number"===typeof e?e-1:e["$-"](1));if(!a(a(c=b.const_get_relative(k,"Numeric")["$==="](d))?b.const_get_relative(k,"Numeric")["$==="](e):c))return p;if(a(x(e,d)))return 0;h=b.const_get_qualified(b.const_get_relative(k,"Float"),"INFINITY");return a(a(c=h["$=="](d.$abs()))?c:e.$abs()["$=="](h))?h:(Math.abs(e-d)+1).$to_i()},Z.$$arity=0);b.defn(w,"$step",C=function(c){function d(){c.$$is_number||(c=b.const_get_relative(k,"Opal")["$coerce_to!"](c,b.const_get_relative(k,
"Integer"),"to_int"));0>c?n.$raise(b.const_get_relative(k,"ArgumentError"),"step can't be negative"):0===c&&n.$raise(b.const_get_relative(k,"ArgumentError"),"step can't be 0")}function e(){if(!n.begin["$respond_to?"]("succ")||n.begin.$$is_string&&n.end.$$is_string)return p;if(0===c%1){var a=n.$size();return("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()}var a=n.begin,d=n.end,h=Math.abs,f=Math.floor,h=(h(a)+h(d)+h(d-a))/h(c)*b.const_get_qualified(b.const_get_relative(k,"Float"),"EPSILON");
.5<h&&(h=.5);n.excl?(f=f((d-a)/c-h),f*c+a<d&&f++):f=f((d-a)/c+h)+1;return f}var f,g,l,n=this,w=C.$$p,u=w||p,t=p;null==c&&(c=1);w&&(C.$$p=null);if(u===p)return h(n,"enum_for",["step",c],(f=function(){d();return e()},f.$$s=n,f.$$arity=0,f));d();a(n.begin.$$is_number&&n.end.$$is_number)?(t=0,function(){var d=b.new_brk();try{return h(n,"loop",[],(g=function(){var e=g.$$s||this,h=p;null==e.begin&&(e.begin=p);null==e.excl&&(e.excl=p);null==e.end&&(e.end=p);h=r(e.begin,"number"===typeof t&&"number"===typeof c?
t*c:t["$*"](c));a(e.excl)?(e=e.end,e="number"===typeof h&&"number"===typeof e?h>=e:h["$>="](e),a(e)&&b.brk(p,d)):a(A(h,e.end))&&b.brk(p,d);b.yield1(u,h);return t=r(t,1)},g.$$s=n,g.$$brk=d,g.$$arity=0,g))}catch(e){if(e===d)return e.$v;throw e;}}()):(n.begin.$$is_string&&n.end.$$is_string&&0!==c%1&&n.$raise(b.const_get_relative(k,"TypeError"),"no implicit conversion to float from string"),h(n,"each_with_index",[],(l=function(a,d){null==a&&(a=p);null==d&&(d=p);return d["$%"](c)["$=="](0)?b.yield1(u,
a):p},l.$$s=n,l.$$arity=2,l)));return n},C.$$arity=-1);b.defn(w,"$bsearch",K=function(){var c=K.$$p,d=c||p;c&&(K.$$p=null);if(d===p)return this.$enum_for("bsearch");a(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(b.const_get_relative(k,"TypeError"),"can't do binary search for "+this.begin.$class());return h(this.$to_a(),"bsearch",[],d.$to_proc())},K.$$arity=0);b.defn(w,"$to_s",ia=function(){return""+this.begin+(a(this.excl)?"...":"..")+this.end},ia.$$arity=0);b.defn(w,"$inspect",aa=function(){return""+
this.begin.$inspect()+(a(this.excl)?"...":"..")+this.end.$inspect()},aa.$$arity=0);b.defn(w,"$marshal_load",ta=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},ta.$$arity=1);return(b.defn(w,"$hash",M=function(){return[this.begin,this.end,this.excl].$hash()},M.$$arity=0),p)&&"hash"}(y[0],null,y)},Opal.modules["corelib/proc"]=function(b){var q=[],x=b.nil,A=b.slice,r=b.klass,m=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(q,$super,
B){function a(){}q=a=r(q,$super,"Proc",a);var h=q.$$proto,w=[q].concat(B),F,v,f,e,k,g,c,d,D,u;h.$$is_proc=!0;h.$$is_lambda=!1;b.defs(q,"$new",F=function(){var a=F.$$p,c=a||x;a&&(F.$$p=null);m(c)||this.$raise(b.const_get_relative(w,"ArgumentError"),"tried to create a Proc object without a block");return c},F.$$arity=0);b.defn(q,"$call",v=function(a){var c,d=v.$$p,e=d||x,h=arguments.length;c=h-0;0>c&&(c=0);c=Array(c);for(var f=0;f<h;f++)c[f-0]=arguments[f];d&&(v.$$p=null);e!==x&&(this.$$p=e);var g;
if(d=this.$$brk)try{g=this.$$is_lambda?this.apply(null,c):b.yieldX(this,c)}catch(k){if(k===d)return d.$v;throw k;}else g=this.$$is_lambda?this.apply(null,c):b.yieldX(this,c);return g},v.$$arity=-1);b.alias(q,"[]","call");b.alias(q,"===","call");b.alias(q,"yield","call");b.defn(q,"$to_proc",f=function(){return this},f.$$arity=0);b.defn(q,"$lambda?",e=function(){return!!this.$$is_lambda},e.$$arity=0);b.defn(q,"$arity",k=function(){return this.$$is_curried?-1:this.$$arity},k.$$arity=0);b.defn(q,"$source_location",
g=function(){return x},g.$$arity=0);b.defn(q,"$binding",c=function(){this.$$is_curried&&this.$raise(b.const_get_relative(w,"ArgumentError"),"Can't create Binding");return x},c.$$arity=0);b.defn(q,"$parameters",d=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],b,c;b=0;for(c=this.$$parameters.length;b<c;b++){var d=this.$$parameters[b];"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},d.$$arity=0);b.defn(q,"$curry",
D=function(a){function c(){var e=A.call(arguments),h=e.length;h>a&&d.$$is_lambda&&!d.$$is_curried&&d.$raise(b.const_get_relative(w,"ArgumentError"),"wrong number of arguments ("+h+" for "+a+")");if(h>=a)return d.$call.apply(d,e);h=function(){return c.apply(null,e.concat(A.call(arguments)))};h.$$is_lambda=d.$$is_lambda;h.$$is_curried=!0;return h}var d=this;void 0===a?a=d.length:(a=b.const_get_relative(w,"Opal")["$coerce_to!"](a,b.const_get_relative(w,"Integer"),"to_int"),d.$$is_lambda&&a!==d.length&&
d.$raise(b.const_get_relative(w,"ArgumentError"),"wrong number of arguments ("+a+" for "+d.length+")"));c.$$is_lambda=d.$$is_lambda;c.$$is_curried=!0;return c},D.$$arity=-1);b.defn(q,"$dup",u=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},c;for(c in this)this.hasOwnProperty(c)&&(b[c]=this[c]);return b},u.$$arity=0);return b.alias(q,"clone","dup")}(q[0],Function,q)},Opal.modules["corelib/method"]=function(b){var q=[],x=b.nil,A=b.klass,r=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));
(function(m,$super,p){function q(){}m=q=A(m,$super,"Method",q);var a=m.$$proto,h=[m].concat(p),w,F,v,f,e,k,g,c,d;a.method=a.receiver=a.owner=a.name=x;m.$attr_reader("owner","receiver","name");b.defn(m,"$initialize",w=function(a,b,c,d){this.receiver=a;this.owner=b;this.name=d;return this.method=c},w.$$arity=4);b.defn(m,"$arity",F=function(){return this.method.$arity()},F.$$arity=0);b.defn(m,"$parameters",v=function(){return this.method.$$parameters},v.$$arity=0);b.defn(m,"$source_location",f=function(){var a;
return r(a=this.method.$$source_location)?a:["(eval)",0]},f.$$arity=0);b.defn(m,"$comments",e=function(){var a;return r(a=this.method.$$comments)?a:[]},e.$$arity=0);b.defn(m,"$call",k=function(a){var b,c=k.$$p,d=c||x,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var h=0;h<e;h++)b[h-0]=arguments[h];c&&(k.$$p=null);this.method.$$p=d;return this.method.apply(this.receiver,b)},k.$$arity=-1);b.alias(m,"[]","call");b.defn(m,"$unbind",g=function(){return b.const_get_relative(h,"UnboundMethod").$new(this.receiver.$class(),
this.owner,this.method,this.name)},g.$$arity=0);b.defn(m,"$to_proc",c=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},c.$$arity=0);return(b.defn(m,"$inspect",d=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},d.$$arity=0),x)&&"inspect"})(q[0],null,q);return function(m,$super,p){function q(){}m=q=A(m,$super,"UnboundMethod",q);var a=m.$$proto,h=[m].concat(p),
w,F,v,f,e,k,g;a.method=a.owner=a.name=a.source=x;m.$attr_reader("source","owner","name");b.defn(m,"$initialize",w=function(a,b,e,h){this.source=a;this.owner=b;this.method=e;return this.name=h},w.$$arity=4);b.defn(m,"$arity",F=function(){return this.method.$arity()},F.$$arity=0);b.defn(m,"$parameters",v=function(){return this.method.$$parameters},v.$$arity=0);b.defn(m,"$source_location",f=function(){var a;return r(a=this.method.$$source_location)?a:["(eval)",0]},f.$$arity=0);b.defn(m,"$comments",e=
function(){var a;return r(a=this.method.$$comments)?a:[]},e.$$arity=0);b.defn(m,"$bind",k=function(a){if(this.owner.$$is_module||b.is_a(a,this.owner))return b.const_get_relative(h,"Method").$new(a,this.owner,this.method,this.name);this.$raise(b.const_get_relative(h,"TypeError"),"can't bind singleton method to a different class (expected "+a+".kind_of?("+this.owner+" to be true)")},k.$$arity=1);return(b.defn(m,"$inspect",g=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+
this.owner+" in "+this.$source_location().$join(":")+")>"},g.$$arity=0),x)&&"inspect"}(q[0],null,q)},Opal.modules["corelib/variables"]=function(b){var q=[],x=b.nil,A=b.gvars,r=b.hash2;b.add_stubs(["$new"]);A["&"]=A["~"]=A["`"]=A["'"]=x;A.LOADED_FEATURES=A['"']=b.loaded_features;A.LOAD_PATH=A[":"]=[];A["/"]="\n";A[","]=x;b.const_set(q[0],"ARGV",[]);b.const_set(q[0],"ARGF",b.const_get_relative(q,"Object").$new());b.const_set(q[0],"ENV",r([],{}));A.VERBOSE=!1;A.DEBUG=!1;return A.SAFE=0},Opal.modules["opal/regexp_anchors"]=
function(b){var q=[],x=b.nil,A=b.module;b.add_stubs(["$==","$new"]);q=[A(q[0],"Opal")].concat(q);b.const_set(q[0],"REGEXP_START",b.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal")?"^":x);b.const_set(q[0],"REGEXP_END",b.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal")?"$":x);b.const_set(q[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(q[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(q[0],"INLINE_IDENTIFIER_REGEXP",b.const_get_relative(q,"Regexp").$new("[^"+b.const_get_relative(q,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+b.const_get_relative(q,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(q[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(q[0],"CONST_NAME_REGEXP",b.const_get_relative(q,"Regexp").$new(""+b.const_get_relative(q,"REGEXP_START")+"(::)?[A-Z][^"+b.const_get_relative(q,
"FORBIDDEN_CONST_NAME_CHARS")+"]*"+b.const_get_relative(q,"REGEXP_END")))},Opal.modules["opal/mini"]=function(b){var q=b.top;b.add_stubs(["$require"]);q.$require("opal/base");q.$require("corelib/nil");q.$require("corelib/boolean");q.$require("corelib/string");q.$require("corelib/comparable");q.$require("corelib/enumerable");q.$require("corelib/enumerator");q.$require("corelib/array");q.$require("corelib/hash");q.$require("corelib/number");q.$require("corelib/range");q.$require("corelib/proc");q.$require("corelib/method");
q.$require("corelib/regexp");q.$require("corelib/variables");return q.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(b){var q=b.top,x=[],A=b.nil,r=b.klass,m=b.send,y=b.truthy,p=b.gvars;b.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));q.$require("corelib/string");(function(m,$super,h){function w(){}m=w=r(m,$super,"String",w);var F=[m].concat(h),
v;return b.defs(m,"$inherited",v=function(h){var e=A,e=b.const_get_relative(F,"Class").$new(b.const_get_qualified(b.const_get_relative(F,"String"),"Wrapper"));h.$$proto=e.$$proto;h.$$proto.$$class=h;h.$$alloc=e.$$alloc;h.$$parent=b.const_get_qualified(b.const_get_relative(F,"String"),"Wrapper");h.$allocate=e.$allocate;h.$new=e.$new},v.$$arity=1)})(x[0],null,x);return function(q,$super,h){function w(){}q=w=r(q,$super,"Wrapper",w);var F=q.$$proto;[q].concat(h);var v,f,e,k,g,c,d,D,u,l,n,S,da,G,t,Z,C,
K;F.literal=A;F.$$is_string=!0;b.defs(q,"$allocate",v=function(c){var d=v.$$p,e=A;null==c&&(c="");d&&(v.$$p=null);e=m(this,b.find_super_dispatcher(this,"allocate",v,!1,w),[],null);e.literal=c;return e},v.$$arity=-1);b.defs(q,"$new",f=function(c){var d,e=f.$$p,h=e||A,g=A,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var l=0;l<g;l++)d[l-0]=arguments[l];e&&(f.$$p=null);g=this.$allocate();m(g,"initialize",b.to_a(d),h.$to_proc());return g},f.$$arity=-1);b.defs(q,"$[]",e=function(b){var c,d=arguments.length;
c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$allocate(c)},e.$$arity=-1);b.defn(q,"$initialize",k=function(b){null==b&&(b="");return this.literal=b},k.$$arity=-1);b.defn(q,"$method_missing",g=function(c){var d,e=g.$$p,h=e||A,f=A,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var l=0;l<f;l++)d[l-0]=arguments[l];e&&(g.$$p=null);f=m(this.literal,"__send__",b.to_a(d),h.$to_proc());return y(null!=f.$$is_string)?y(f==this.literal)?this:this.$class().$allocate(f):f},
g.$$arity=-1);b.defn(q,"$initialize_copy",c=function(b){return this.literal=b.literal.$clone()},c.$$arity=1);b.defn(q,"$respond_to?",d=function(c,e){var h,f=d.$$p,g=A,l=A,k=A;f&&(d.$$p=null);l=0;k=arguments.length;for(g=Array(k);l<k;l++)g[l]=arguments[l];return y(h=m(this,b.find_super_dispatcher(this,"respond_to?",d,!1),g,f))?h:this.literal["$respond_to?"](c)},d.$$arity=-2);b.defn(q,"$==",D=function(b){return this.literal["$=="](b)},D.$$arity=1);b.alias(q,"eql?","==");b.alias(q,"===","==");b.defn(q,
"$to_s",u=function(){return this.literal},u.$$arity=0);b.alias(q,"to_str","to_s");b.defn(q,"$inspect",l=function(){return this.literal.$inspect()},l.$$arity=0);b.defn(q,"$+",n=function(b){var c=this.literal;return"number"===typeof c&&"number"===typeof b?c+b:c["$+"](b)},n.$$arity=1);b.defn(q,"$*",S=function(b){var c=this.literal;b="number"===typeof c&&"number"===typeof b?c*b:c["$*"](b);return b.$$is_string?this.$class().$allocate(b):b},S.$$arity=1);b.defn(q,"$split",da=function(b,c){var d;return m(this.literal.$split(b,
c),"map",[],(d=function(b){var c=d.$$s||this;null==b&&(b=A);return c.$class().$allocate(b)},d.$$s=this,d.$$arity=1,d))},da.$$arity=-1);b.defn(q,"$replace",G=function(b){return this.literal=b},G.$$arity=1);b.defn(q,"$each_line",t=function(c){var d,e=t.$$p,h=e||A;null==p["/"]&&(p["/"]=A);null==c&&(c=p["/"]);e&&(t.$$p=null);return h===A?this.$enum_for("each_line",c):m(this.literal,"each_line",[c],(d=function(c){var e=d.$$s||this;null==c&&(c=A);return b.yield1(h,e.$class().$allocate(c))},d.$$s=this,d.$$arity=
1,d))},t.$$arity=-1);b.defn(q,"$lines",Z=function(b){var c=Z.$$p,d=c||A,e=A;null==p["/"]&&(p["/"]=A);null==b&&(b=p["/"]);c&&(Z.$$p=null);e=m(this,"each_line",[b],d.$to_proc());return y(d)?this:e.$to_a()},Z.$$arity=-1);b.defn(q,"$%",C=function(b){return this.literal["$%"](b)},C.$$arity=1);return(b.defn(q,"$instance_variables",K=function(){var c=K.$$p,d=A,e=A,h=A;c&&(K.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];c=m(this,b.find_super_dispatcher(this,"instance_variables",
K,!1),d,c);d=["@literal"];return"number"===typeof c&&"number"===typeof d?c-d:c["$-"](d)},K.$$arity=0),A)&&"instance_variables"}(b.const_get_relative(x,"String"),null,x)},Opal.modules["corelib/string/encoding"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var x,A,r,m,y,p=b.top,B=[],a=b.nil,h=b.klass,w=b.truthy,F=b.send,v=b.hash2;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $constants $const_get $=== $== $name $include? $names $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
p.$require("corelib/string");(function(f,$super,k){function g(){}f=g=h(f,$super,"Encoding",g);var c=f.$$proto,d=[f].concat(k),m,u,l,n,p,r,G,t,Z,C;c.ascii=c.dummy=c.name=a;b.defs(f,"$register",m=function(c,h){var f,g,l=m.$$p,k=l||a,n=a,u=a;null==h&&(h=v([],{}));l&&(m.$$p=null);n=q([c],w(f=h["$[]"]("aliases"))?f:[]);u=F(b.const_get_relative(d,"Class"),"new",[this],k.$to_proc()).$new(c,n,w(f=h["$[]"]("ascii"))?f:!1,w(f=h["$[]"]("dummy"))?f:!1);return F(n,"each",[],(g=function(b){var c=g.$$s||this;null==
b&&(b=a);return c.$const_set(b.$sub("-","_"),u)},g.$$s=this,g.$$arity=1,g))},m.$$arity=-2);b.defs(f,"$find",u=function(c){try{var h,f=a,f=c.$upcase();F((b.Module.$$nesting=d,this.$constants()),"each",[],(h=function(c){var g=h.$$s||this,l,k=a;null==c&&(c=a);k=g.$const_get(c);if(w(b.const_get_relative(d,"Encoding")["$==="](k))&&w(w(l=k.$name()["$=="](f))?l:k.$names()["$include?"](f)))b.ret(k);else return a},h.$$s=this,h.$$arity=1,h));return this.$raise(b.const_get_relative(d,"ArgumentError"),"unknown encoding name - "+
c)}catch(g){if(g===b.returner)return g.$v;throw g;}},u.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(f),d);f.$attr_reader("name","names");b.defn(f,"$initialize",l=function(a,b,c,d){this.name=a;this.names=b;this.ascii=c;return this.dummy=d},l.$$arity=4);b.defn(f,"$ascii_compatible?",n=function(){return this.ascii},n.$$arity=0);b.defn(f,"$dummy?",p=function(){return this.dummy},p.$$arity=0);b.defn(f,"$to_s",r=function(){return this.name},
r.$$arity=0);b.defn(f,"$inspect",G=function(){return"#<Encoding:"+this.name+(w(this.dummy)?" (dummy)":a)+">"},G.$$arity=0);b.defn(f,"$each_byte",t=function(a){return this.$raise(b.const_get_relative(d,"NotImplementedError"))},t.$$arity=-1);b.defn(f,"$getbyte",Z=function(a){return this.$raise(b.const_get_relative(d,"NotImplementedError"))},Z.$$arity=-1);b.defn(f,"$bytesize",C=function(a){return this.$raise(b.const_get_relative(d,"NotImplementedError"))},C.$$arity=-1);(function(b,$super,c){function d(){}
[d=h(b,$super,"EncodingError",d)].concat(c);return a})(d[0],b.const_get_relative(d,"StandardError"),d);return function(b,$super,c){function d(){}[d=h(b,$super,"CompatibilityError",d)].concat(c);return a}(d[0],b.const_get_relative(d,"EncodingError"),d)})(B[0],null,B);F(b.const_get_relative(B,"Encoding"),"register",["UTF-8",v(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(x=function(){var h=x.$$s||this,e,k;b.def(h,"$each_byte",e=function(h){var c=e.$$p,d=c||a;c&&(e.$$p=null);for(var c=0,f=h.length;c<
f;c++){var k=h.charCodeAt(c);if(127>=k)b.yield1(d,k);else for(var k=encodeURIComponent(h.charAt(c)).substr(1).split("%"),l=0,n=k.length;l<n;l++)b.yield1(d,parseInt(k[l],16))}},e.$$arity=1);return(b.def(h,"$bytesize",k=function(a){return a.$bytes().$length()},k.$$arity=1),a)&&"bytesize"},x.$$s=p,x.$$arity=0,x));F(b.const_get_relative(B,"Encoding"),"register",["UTF-16LE"],(A=function(){var h=A.$$s||this,e,k;b.def(h,"$each_byte",e=function(h){var c=e.$$p,d=c||a;c&&(e.$$p=null);for(var c=0,f=h.length;c<
f;c++){var k=h.charCodeAt(c);b.yield1(d,k&255);b.yield1(d,k>>8)}},e.$$arity=1);return(b.def(h,"$bytesize",k=function(a){return a.$bytes().$length()},k.$$arity=1),a)&&"bytesize"},A.$$s=p,A.$$arity=0,A));F(b.const_get_relative(B,"Encoding"),"register",["UTF-16BE"],(r=function(){var h=r.$$s||this,e,k;b.def(h,"$each_byte",e=function(h){var c=e.$$p,d=c||a;c&&(e.$$p=null);for(var c=0,f=h.length;c<f;c++){var k=h.charCodeAt(c);b.yield1(d,k>>8);b.yield1(d,k&255)}},e.$$arity=1);return(b.def(h,"$bytesize",k=
function(a){return a.$bytes().$length()},k.$$arity=1),a)&&"bytesize"},r.$$s=p,r.$$arity=0,r));F(b.const_get_relative(B,"Encoding"),"register",["UTF-32LE"],(m=function(){var h=m.$$s||this,e,k;b.def(h,"$each_byte",e=function(h){var c=e.$$p,d=c||a;c&&(e.$$p=null);for(var c=0,f=h.length;c<f;c++){var k=h.charCodeAt(c);b.yield1(d,k&255);b.yield1(d,k>>8)}},e.$$arity=1);return(b.def(h,"$bytesize",k=function(a){return a.$bytes().$length()},k.$$arity=1),a)&&"bytesize"},m.$$s=p,m.$$arity=0,m));F(b.const_get_relative(B,
"Encoding"),"register",["ASCII-8BIT",v(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(y=function(){var h=y.$$s||this,e,k;b.def(h,"$each_byte",e=function(h){var c=e.$$p,d=c||a;c&&(e.$$p=null);for(var c=0,f=h.length;c<f;c++)b.yield1(d,h.charCodeAt(c)&255)},e.$$arity=1);return(b.def(h,"$bytesize",k=function(a){return a.$bytes().$length()},k.$$arity=1),a)&&"bytesize"},y.$$s=p,y.$$arity=0,y));return function(f,$super,k){function g(){}f=g=h(f,$super,"String",g);var c=f.$$proto,d=[f].concat(k),v,u,
l,n,m,p,G,t;c.encoding=a;String.prototype.encoding=b.const_get_qualified(b.const_get_relative(d,"Encoding"),"UTF_16LE");b.defn(f,"$bytes",v=function(){return this.$each_byte().$to_a()},v.$$arity=0);b.defn(f,"$bytesize",u=function(){return this.encoding.$bytesize(this)},u.$$arity=0);b.defn(f,"$each_byte",l=function(){var b=l.$$p,c=b||a;b&&(l.$$p=null);if(c===a)return this.$enum_for("each_byte");F(this.encoding,"each_byte",[this],c.$to_proc());return this},l.$$arity=0);b.defn(f,"$encode",n=function(a){return this.$dup().$force_encoding(a)},
n.$$arity=1);b.defn(f,"$encoding",m=function(){return this.encoding},m.$$arity=0);b.defn(f,"$force_encoding",p=function(a){if(a===this.encoding)return this;a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"String"),"to_s");a=b.const_get_relative(d,"Encoding").$find(a);if(a["$=="](this.encoding))return this;w(a["$nil?"]())&&this.$raise(b.const_get_relative(d,"ArgumentError"),"unknown encoding name - "+a);var c=new String(this);c.encoding=a;return c},p.$$arity=1);b.defn(f,"$getbyte",
G=function(a){return this.encoding.$getbyte(this,a)},G.$$arity=1);return(b.defn(f,"$valid_encoding?",t=function(){return!0},t.$$arity=0),a)&&"valid_encoding?"}(B[0],null,B)},Opal.modules["corelib/math"]=function(b){var q=[],x=b.module,A=b.truthy;b.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(r,m){var q=x(r,"Math"),p=[q].concat(m),B,a,h,w,F,v,f,e,k,g,c,d,D,u,l,n,S,da,G,t,Z,C,K,ia,aa,ta,M,Q,W;
b.const_set(p[0],"E",Math.E);b.const_set(p[0],"PI",Math.PI);b.const_set(p[0],"DomainError",b.const_get_relative(p,"Class").$new(b.const_get_relative(p,"StandardError")));b.defs(q,"$checked",B=function(a,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var h=1;h<e;h++)d[h-1]=arguments[h];if(isNaN(d[0])||2==d.length&&isNaN(d[1]))return NaN;e=Math[a].apply(null,d);isNaN(e)&&this.$raise(b.const_get_relative(p,"DomainError"),'Numerical argument is out of domain - "'+a+'"');return e},B.$$arity=
-2);b.defs(q,"$float!",a=function(a){try{return this.$Float(a)}catch(c){if(b.rescue(c,[b.const_get_relative(p,"ArgumentError")]))try{return this.$raise(b.const_get_relative(p,"Opal").$type_error(a,b.const_get_relative(p,"Float")))}finally{b.pop_exception()}else throw c;}},a.$$arity=1);b.defs(q,"$integer!",h=function(a){try{return this.$Integer(a)}catch(c){if(b.rescue(c,[b.const_get_relative(p,"ArgumentError")]))try{return this.$raise(b.const_get_relative(p,"Opal").$type_error(a,b.const_get_relative(p,
"Integer")))}finally{b.pop_exception()}else throw c;}},h.$$arity=1);q.$module_function();b.defn(q,"$acos",w=function(a){return b.const_get_relative(p,"Math").$checked("acos",b.const_get_relative(p,"Math")["$float!"](a))},w.$$arity=1);A("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});b.defn(q,"$acosh",F=function(a){return b.const_get_relative(p,"Math").$checked("acosh",b.const_get_relative(p,"Math")["$float!"](a))},F.$$arity=1);b.defn(q,"$asin",v=function(a){return b.const_get_relative(p,
"Math").$checked("asin",b.const_get_relative(p,"Math")["$float!"](a))},v.$$arity=1);A("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});b.defn(q,"$asinh",f=function(a){return b.const_get_relative(p,"Math").$checked("asinh",b.const_get_relative(p,"Math")["$float!"](a))},f.$$arity=1);b.defn(q,"$atan",e=function(a){return b.const_get_relative(p,"Math").$checked("atan",b.const_get_relative(p,"Math")["$float!"](a))},e.$$arity=1);b.defn(q,"$atan2",k=function(a,
c){return b.const_get_relative(p,"Math").$checked("atan2",b.const_get_relative(p,"Math")["$float!"](a),b.const_get_relative(p,"Math")["$float!"](c))},k.$$arity=2);A("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});b.defn(q,"$atanh",g=function(a){return b.const_get_relative(p,"Math").$checked("atanh",b.const_get_relative(p,"Math")["$float!"](a))},g.$$arity=1);A("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);
for(var b=a,c=0;.125>b;)b*=8,c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*b)});b.defn(q,"$cbrt",c=function(a){return b.const_get_relative(p,"Math").$checked("cbrt",b.const_get_relative(p,"Math")["$float!"](a))},c.$$arity=1);b.defn(q,"$cos",d=function(a){return b.const_get_relative(p,"Math").$checked("cos",b.const_get_relative(p,"Math")["$float!"](a))},d.$$arity=
1);A("undefined"!==typeof Math.cosh)||(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});b.defn(q,"$cosh",D=function(a){return b.const_get_relative(p,"Math").$checked("cosh",b.const_get_relative(p,"Math")["$float!"](a))},D.$$arity=1);A("undefined"!==typeof Math.erf)||(Math.erf=function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))});b.defn(q,"$erf",u=function(a){return b.const_get_relative(p,
"Math").$checked("erf",b.const_get_relative(p,"Math")["$float!"](a))},u.$$arity=1);A("undefined"!==typeof Math.erfc)||(Math.erfc=function(a){var b=Math.abs(a),c=1/(.5*b+1),b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b});b.defn(q,"$erfc",l=function(a){return b.const_get_relative(p,"Math").$checked("erfc",b.const_get_relative(p,"Math")["$float!"](a))},l.$$arity=1);b.defn(q,
"$exp",n=function(a){return b.const_get_relative(p,"Math").$checked("exp",b.const_get_relative(p,"Math")["$float!"](a))},n.$$arity=1);b.defn(q,"$frexp",S=function(a){a=b.const_get_relative(p,"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]},S.$$arity=1);b.defn(q,"$gamma",da=function(a){a=b.const_get_relative(p,"Math")["$float!"](a);var c,d,e,h;e=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,
-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(b.const_get_relative(p,"DomainError"),'Numerical argument is out of domain - "gamma"');if(b.const_get_relative(p,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;
if(171<a)return Infinity;d=a-2;for(--a;1<d;)a*=d,d--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*b.const_get_relative(p,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return d=a*a,c=d*a,e=c*a,h=e*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*d)-139/(51840*c)-571/(2488320*e)+163879/(209018880*h)+5246819/(75246796800*h*a));--a;d=e[0];for(c=1;c<e.length;++c)d+=e[c]/(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,
a+.5)*Math.exp(-c)*d},da.$$arity=1);A("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)});b.defn(q,"$hypot",G=function(a,c){return b.const_get_relative(p,"Math").$checked("hypot",b.const_get_relative(p,"Math")["$float!"](a),b.const_get_relative(p,"Math")["$float!"](c))},G.$$arity=2);b.defn(q,"$ldexp",t=function(a,c){a=b.const_get_relative(p,"Math")["$float!"](a);c=b.const_get_relative(p,"Math")["$integer!"](c);isNaN(c)&&this.$raise(b.const_get_relative(p,"RangeError"),
"float NaN out of range of integer");return a*Math.pow(2,c)},t.$$arity=2);b.defn(q,"$lgamma",Z=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(b.const_get_relative(p,"Math").$gamma(a))),0>b.const_get_relative(p,"Math").$gamma(a)?-1:1]},Z.$$arity=1);b.defn(q,"$log",C=function(a,c){A(b.const_get_relative(p,"String")["$==="](a))&&this.$raise(b.const_get_relative(p,"Opal").$type_error(a,b.const_get_relative(p,"Float")));if(A(null==c))return b.const_get_relative(p,"Math").$checked("log",b.const_get_relative(p,
"Math")["$float!"](a));A(b.const_get_relative(p,"String")["$==="](c))&&this.$raise(b.const_get_relative(p,"Opal").$type_error(c,b.const_get_relative(p,"Float")));var d=b.const_get_relative(p,"Math").$checked("log",b.const_get_relative(p,"Math")["$float!"](a)),e=b.const_get_relative(p,"Math").$checked("log",b.const_get_relative(p,"Math")["$float!"](c));return"number"===typeof d&&"number"===typeof e?d/e:d["$/"](e)},C.$$arity=-2);A("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/
Math.LN10});b.defn(q,"$log10",K=function(a){A(b.const_get_relative(p,"String")["$==="](a))&&this.$raise(b.const_get_relative(p,"Opal").$type_error(a,b.const_get_relative(p,"Float")));return b.const_get_relative(p,"Math").$checked("log10",b.const_get_relative(p,"Math")["$float!"](a))},K.$$arity=1);A("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});b.defn(q,"$log2",ia=function(a){A(b.const_get_relative(p,"String")["$==="](a))&&this.$raise(b.const_get_relative(p,
"Opal").$type_error(a,b.const_get_relative(p,"Float")));return b.const_get_relative(p,"Math").$checked("log2",b.const_get_relative(p,"Math")["$float!"](a))},ia.$$arity=1);b.defn(q,"$sin",aa=function(a){return b.const_get_relative(p,"Math").$checked("sin",b.const_get_relative(p,"Math")["$float!"](a))},aa.$$arity=1);A("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});b.defn(q,"$sinh",ta=function(a){return b.const_get_relative(p,"Math").$checked("sinh",b.const_get_relative(p,
"Math")["$float!"](a))},ta.$$arity=1);b.defn(q,"$sqrt",M=function(a){return b.const_get_relative(p,"Math").$checked("sqrt",b.const_get_relative(p,"Math")["$float!"](a))},M.$$arity=1);b.defn(q,"$tan",Q=function(a){a=b.const_get_relative(p,"Math")["$float!"](a);return A(a["$infinite?"]())?b.const_get_qualified(b.const_get_relative(p,"Float"),"NAN"):b.const_get_relative(p,"Math").$checked("tan",b.const_get_relative(p,"Math")["$float!"](a))},Q.$$arity=1);A("undefined"!==typeof Math.tanh)||(Math.tanh=
function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});b.defn(q,"$tanh",W=function(a){return b.const_get_relative(p,"Math").$checked("tanh",b.const_get_relative(p,"Math")["$float!"](a))},W.$$arity=1)}(q[0],q)},Opal.modules["corelib/complex"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function A(a,b){return"number"===typeof a&&
"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var m=b.top,y=[],p=b.nil,B=b.klass,a=b.truthy,h=b.module;b.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $infinite?".split(" "));m.$require("corelib/numeric");
(function(h,$super,v){function f(){}h=f=B(h,$super,"Complex",f);var e=h.$$proto,k=[h].concat(v),g,c,d,m,u,l,n,S,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,y,la,ha;e.real=e.imag=p;b.defs(h,"$rect",g=function(c,d){var e,h,f;null==d&&(d=0);a(a(e=a(h=a(f=b.const_get_relative(k,"Numeric")["$==="](c))?c["$real?"]():f)?b.const_get_relative(k,"Numeric")["$==="](d):h)?d["$real?"]():e)||this.$raise(b.const_get_relative(k,"TypeError"),"not a real");return this.$new(c,d)},g.$$arity=-2);(function(a,c){[a].concat(c);
return b.alias(a,"rectangular","rect")})(b.get_singleton_class(h),k);b.defs(h,"$polar",c=function(c,d){var e,h,f;null==d&&(d=0);a(a(e=a(h=a(f=b.const_get_relative(k,"Numeric")["$==="](c))?c["$real?"]():f)?b.const_get_relative(k,"Numeric")["$==="](d):h)?d["$real?"]():e)||this.$raise(b.const_get_relative(k,"TypeError"),"not a real");return this.$new(q(c,b.const_get_relative(k,"Math").$cos(d)),q(c,b.const_get_relative(k,"Math").$sin(d)))},c.$$arity=-2);h.$attr_reader("real","imag");b.defn(h,"$initialize",
d=function(a,b){null==b&&(b=0);this.real=a;return this.imag=b},d.$$arity=-2);b.defn(h,"$coerce",m=function(c){var d;return a(b.const_get_relative(k,"Complex")["$==="](c))?[c,this]:a(a(d=b.const_get_relative(k,"Numeric")["$==="](c))?c["$real?"]():d)?[b.const_get_relative(k,"Complex").$new(c,0),this]:this.$raise(b.const_get_relative(k,"TypeError"),""+c.$class()+" can't be coerced into Complex")},m.$$arity=1);b.defn(h,"$==",u=function(c){var d;return a(b.const_get_relative(k,"Complex")["$==="](c))?this.real["$=="](c.$real())?
this.imag["$=="](c.$imag()):this.real["$=="](c.$real()):a(a(d=b.const_get_relative(k,"Numeric")["$==="](c))?c["$real?"]():d)?this.real["$=="](c)?this.imag["$=="](0):this.real["$=="](c):c["$=="](this)},u.$$arity=1);b.defn(h,"$-@",l=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},l.$$arity=0);b.defn(h,"$+",n=function(c){var d;return a(b.const_get_relative(k,"Complex")["$==="](c))?this.$Complex(x(this.real,c.$real()),x(this.imag,c.$imag())):a(a(d=b.const_get_relative(k,"Numeric")["$==="](c))?
c["$real?"]():d)?this.$Complex(x(this.real,c),this.imag):this.$__coerced__("+",c)},n.$$arity=1);b.defn(h,"$-",S=function(c){var d;return a(b.const_get_relative(k,"Complex")["$==="](c))?this.$Complex(A(this.real,c.$real()),A(this.imag,c.$imag())):a(a(d=b.const_get_relative(k,"Numeric")["$==="](c))?c["$real?"]():d)?this.$Complex(A(this.real,c),this.imag):this.$__coerced__("-",c)},S.$$arity=1);b.defn(h,"$*",da=function(c){var d;return a(b.const_get_relative(k,"Complex")["$==="](c))?this.$Complex(A(q(this.real,
c.$real()),q(this.imag,c.$imag())),x(q(this.real,c.$imag()),q(this.imag,c.$real()))):a(a(d=b.const_get_relative(k,"Numeric")["$==="](c))?c["$real?"]():d)?this.$Complex(q(this.real,c),q(this.imag,c)):this.$__coerced__("*",c)},da.$$arity=1);b.defn(h,"$/",G=function(c){var d,e,h,f;return a(b.const_get_relative(k,"Complex")["$==="](c))?a(a(d=a(e=a(h=a(f=b.const_get_relative(k,"Number")["$==="](this.real))?this.real["$nan?"]():f)?h:a(f=b.const_get_relative(k,"Number")["$==="](this.imag))?this.imag["$nan?"]():
f)?e:a(h=b.const_get_relative(k,"Number")["$==="](c.$real()))?c.$real()["$nan?"]():h)?d:a(e=b.const_get_relative(k,"Number")["$==="](c.$imag()))?c.$imag()["$nan?"]():e)?b.const_get_relative(k,"Complex").$new(b.const_get_qualified(b.const_get_relative(k,"Float"),"NAN"),b.const_get_qualified(b.const_get_relative(k,"Float"),"NAN")):r(q(this,c.$conj()),c.$abs2()):a(a(d=b.const_get_relative(k,"Numeric")["$==="](c))?c["$real?"]():d)?this.$Complex(this.real.$quo(c),this.imag.$quo(c)):this.$__coerced__("/",
c)},G.$$arity=1);b.defn(h,"$**",t=function(c){var d,e,h,f=p,g=p,l=p,n=p,u=p,n=l=u=g=f=f=p;if(c["$=="](0))return b.const_get_relative(k,"Complex").$new(1,0);if(a(b.const_get_relative(k,"Complex")["$==="](c)))return e=this.$polar(),d=b.to_ary(e),f=null==d[0]?p:d[0],g=null==d[1]?p:d[1],e,l=c.$real(),n=c.$imag(),u=b.const_get_relative(k,"Math").$exp(A(q(l,b.const_get_relative(k,"Math").$log(f)),q(n,g))),f=x(q(g,l),q(n,b.const_get_relative(k,"Math").$log(f))),b.const_get_relative(k,"Complex").$polar(u,
f);if(a(b.const_get_relative(k,"Integer")["$==="](c))){if(a("number"===typeof c?0<c:c["$>"](0))){g=f=this;for(u=A(c,1);a(u["$!="](0));){for(;a((h=u.$divmod(2),e=b.to_ary(h),l=null==e[0]?p:e[0],n=null==e[1]?p:e[1],h,n["$=="](0)));)f=this.$Complex(A(q(f.$real(),f.$real()),q(f.$imag(),f.$imag())),q(q(2,f.$real()),f.$imag())),u=l;g=q(g,f);u=A(u,1)}return g}return r(b.const_get_relative(k,"Rational").$new(1,1),this)["$**"](c["$-@"]())}return a(a(d=b.const_get_relative(k,"Float")["$==="](c))?d:b.const_get_relative(k,
"Rational")["$==="](c))?(e=this.$polar(),d=b.to_ary(e),f=null==d[0]?p:d[0],g=null==d[1]?p:d[1],e,b.const_get_relative(k,"Complex").$polar(f["$**"](c),q(g,c))):this.$__coerced__("**",c)},t.$$arity=1);b.defn(h,"$abs",Z=function(){return b.const_get_relative(k,"Math").$hypot(this.real,this.imag)},Z.$$arity=0);b.defn(h,"$abs2",C=function(){return x(q(this.real,this.real),q(this.imag,this.imag))},C.$$arity=0);b.defn(h,"$angle",K=function(){return b.const_get_relative(k,"Math").$atan2(this.imag,this.real)},
K.$$arity=0);b.alias(h,"arg","angle");b.defn(h,"$conj",ia=function(){return this.$Complex(this.real,this.imag["$-@"]())},ia.$$arity=0);b.alias(h,"conjugate","conj");b.defn(h,"$denominator",aa=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},aa.$$arity=0);b.alias(h,"divide","/");b.defn(h,"$eql?",ta=function(c){var d,e;return a(d=a(e=b.const_get_relative(k,"Complex")["$==="](c))?this.real.$class()["$=="](this.imag.$class()):e)?this["$=="](c):d},ta.$$arity=1);b.defn(h,"$fdiv",
M=function(c){a(b.const_get_relative(k,"Numeric")["$==="](c))||this.$raise(b.const_get_relative(k,"TypeError"),""+c.$class()+" can't be coerced into Complex");return r(this,c)},M.$$arity=1);b.defn(h,"$hash",Q=function(){return"Complex:"+this.real+":"+this.imag},Q.$$arity=0);b.alias(h,"imaginary","imag");b.defn(h,"$inspect",W=function(){return"("+this.$to_s()+")"},W.$$arity=0);b.alias(h,"magnitude","abs");b.udef(h,"$negative?");b.defn(h,"$numerator",N=function(){var a=p,a=this.$denominator();return this.$Complex(q(this.real.$numerator(),
r(a,this.real.$denominator())),q(this.imag.$numerator(),r(a,this.imag.$denominator())))},N.$$arity=0);b.alias(h,"phase","arg");b.defn(h,"$polar",P=function(){return[this.$abs(),this.$arg()]},P.$$arity=0);b.udef(h,"$positive?");b.alias(h,"quo","/");b.defn(h,"$rationalize",ba=function(c){1<arguments.length&&this.$raise(b.const_get_relative(k,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");a(this.imag["$!="](0))&&this.$raise(b.const_get_relative(k,"RangeError"),"can't' convert "+
this+" into Rational");return this.$real().$rationalize(c)},ba.$$arity=-1);b.defn(h,"$real?",O=function(){return!1},O.$$arity=0);b.defn(h,"$rect",H=function(){return[this.real,this.imag]},H.$$arity=0);b.alias(h,"rectangular","rect");b.defn(h,"$to_f",L=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(k,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},L.$$arity=0);b.defn(h,"$to_i",y=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(k,"RangeError"),
"can't convert "+this+" into Integer");return this.real.$to_i()},y.$$arity=0);b.defn(h,"$to_r",la=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(k,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},la.$$arity=0);b.defn(h,"$to_s",ha=function(){var c,d,e,h=p,h=this.real.$inspect(),h=a(a(c=a(d=a(e=b.const_get_relative(k,"Number")["$==="](this.imag))?this.imag["$nan?"]():e)?d:this.imag["$positive?"]())?c:this.imag["$zero?"]())?x(h,"+"):x(h,"-"),h=x(h,this.imag.$abs().$inspect());
a(a(c=b.const_get_relative(k,"Number")["$==="](this.imag))?a(d=this.imag["$nan?"]())?d:this.imag["$infinite?"]():c)&&(h=x(h,"*"));return x(h,"i")},ha.$$arity=0);return b.const_set(k[0],"I",h.$new(0,1))})(y[0],b.const_get_relative(y,"Numeric"),y);return function(w,m){var v=h(w,"Kernel"),f=[v].concat(m),e;b.defn(v,"$Complex",e=function(e,h){null==h&&(h=p);return a(h)?b.const_get_relative(f,"Complex").$new(e,h):b.const_get_relative(f,"Complex").$new(e,0)},e.$$arity=-2)}(y[0],y)},Opal.modules["corelib/rational"]=
function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var y=b.top,p=[],B=b.nil,a=b.klass,h=b.truthy,w=b.module;b.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));
y.$require("corelib/numeric");(function(w,$super,f){function e(){}w=e=a(w,$super,"Rational",e);var k=w.$$proto,g=[w].concat(f),c,d,D,u,l,n,p,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,y;k.num=k.den=B;b.defs(w,"$reduce",c=function(a,c){var d=B;a=a.$to_i();c=c.$to_i();if(c["$=="](0))this.$raise(b.const_get_relative(g,"ZeroDivisionError"),"divided by 0");else if(h(q(c,0)))a=a["$-@"](),c=c["$-@"]();else if(c["$=="](1))return this.$new(a,c);d=a.$gcd(c);return this.$new(x(a,d),x(c,d))},c.$$arity=2);b.defs(w,
"$convert",d=function(a,c){var d,e;h(h(d=a["$nil?"]())?d:c["$nil?"]())&&this.$raise(b.const_get_relative(g,"TypeError"),"cannot convert nil into Rational");if(h(h(d=b.const_get_relative(g,"Integer")["$==="](a))?b.const_get_relative(g,"Integer")["$==="](c):d))return this.$reduce(a,c);h(h(d=h(e=b.const_get_relative(g,"Float")["$==="](a))?e:b.const_get_relative(g,"String")["$==="](a))?d:b.const_get_relative(g,"Complex")["$==="](a))&&(a=a.$to_r());h(h(d=h(e=b.const_get_relative(g,"Float")["$==="](c))?
e:b.const_get_relative(g,"String")["$==="](c))?d:b.const_get_relative(g,"Complex")["$==="](c))&&(c=c.$to_r());return h(h(d=c["$equal?"](1))?b.const_get_relative(g,"Integer")["$==="](a)["$!"]():d)?b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"Rational"),"to_r"):h(h(d=b.const_get_relative(g,"Numeric")["$==="](a))?b.const_get_relative(g,"Numeric")["$==="](c):d)?x(a,c):this.$reduce(a,c)},d.$$arity=2);w.$attr_reader("numerator","denominator");b.defn(w,"$initialize",D=function(a,
c){this.num=a;return this.den=c},D.$$arity=2);b.defn(w,"$numerator",u=function(){return this.num},u.$$arity=0);b.defn(w,"$denominator",l=function(){return this.den},l.$$arity=0);b.defn(w,"$coerce",n=function(a){var c=B,c=a;return b.const_get_relative(g,"Rational")["$==="](c)?[a,this]:b.const_get_relative(g,"Integer")["$==="](c)?[a.$to_r(),this]:b.const_get_relative(g,"Float")["$==="](c)?[a,this.$to_f()]:B},n.$$arity=1);b.defn(w,"$==",p=function(a){var c=B,c=a;return b.const_get_relative(g,"Rational")["$==="](c)?
this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):b.const_get_relative(g,"Integer")["$==="](c)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):b.const_get_relative(g,"Float")["$==="](c)?this.$to_f()["$=="](a):a["$=="](this)},p.$$arity=1);b.defn(w,"$<=>",da=function(a){var c=B,c=a;return b.const_get_relative(g,"Rational")["$==="](c)?A(r(this.num,a.$denominator()),r(this.den,a.$numerator()))["$<=>"](0):b.const_get_relative(g,"Integer")["$==="](c)?
A(this.num,r(this.den,a))["$<=>"](0):b.const_get_relative(g,"Float")["$==="](c)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},da.$$arity=1);b.defn(w,"$+",G=function(a){var c=B,d=c=B;c=a;b.const_get_relative(g,"Rational")["$==="](c)?(c=m(r(this.num,a.$denominator()),r(this.den,a.$numerator())),d=r(this.den,a.$denominator()),a=this.$Rational(c,d)):a=b.const_get_relative(g,"Integer")["$==="](c)?this.$Rational(m(this.num,r(a,this.den)),this.den):b.const_get_relative(g,"Float")["$==="](c)?m(this.$to_f(),
a):this.$__coerced__("+",a);return a},G.$$arity=1);b.defn(w,"$-",t=function(a){var c=B,d=c=B;c=a;b.const_get_relative(g,"Rational")["$==="](c)?(c=A(r(this.num,a.$denominator()),r(this.den,a.$numerator())),d=r(this.den,a.$denominator()),a=this.$Rational(c,d)):a=b.const_get_relative(g,"Integer")["$==="](c)?this.$Rational(A(this.num,r(a,this.den)),this.den):b.const_get_relative(g,"Float")["$==="](c)?A(this.$to_f(),a):this.$__coerced__("-",a);return a},t.$$arity=1);b.defn(w,"$*",Z=function(a){var c=B,
d=c=B;c=a;b.const_get_relative(g,"Rational")["$==="](c)?(c=r(this.num,a.$numerator()),d=r(this.den,a.$denominator()),a=this.$Rational(c,d)):a=b.const_get_relative(g,"Integer")["$==="](c)?this.$Rational(r(this.num,a),this.den):b.const_get_relative(g,"Float")["$==="](c)?r(this.$to_f(),a):this.$__coerced__("*",a);return a},Z.$$arity=1);b.defn(w,"$/",C=function(a){var c=B,d=c=B;c=a;b.const_get_relative(g,"Rational")["$==="](c)?(c=r(this.num,a.$denominator()),d=r(this.den,a.$numerator()),a=this.$Rational(c,
d)):a=b.const_get_relative(g,"Integer")["$==="](c)?a["$=="](0)?x(this.$to_f(),0):this.$Rational(this.num,r(this.den,a)):b.const_get_relative(g,"Float")["$==="](c)?x(this.$to_f(),a):this.$__coerced__("/",a);return a},C.$$arity=1);b.defn(w,"$**",K=function(a){var c=B,c=a;return b.const_get_relative(g,"Integer")["$==="](c)?h(this["$=="](0)?q(a,0):this["$=="](0))?b.const_get_qualified(b.const_get_relative(g,"Float"),"INFINITY"):h("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):
h(q(a,0))?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):b.const_get_relative(g,"Float")["$==="](c)?this.$to_f()["$**"](a):b.const_get_relative(g,"Rational")["$==="](c)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?h(q(a,0))?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):h(this["$=="](0)?q(a,0):this["$=="](0))?this.$raise(b.const_get_relative(g,
"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](a):this.$__coerced__("**",a)},K.$$arity=1);b.defn(w,"$abs",ia=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},ia.$$arity=0);b.defn(w,"$ceil",aa=function(a){null==a&&(a=0);return a["$=="](0)?x(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},aa.$$arity=-1);b.alias(w,"divide","/");b.defn(w,"$floor",ta=function(a){null==a&&(a=0);return a["$=="](0)?x(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",
a)},ta.$$arity=-1);b.defn(w,"$hash",M=function(){return"Rational:"+this.num+":"+this.den},M.$$arity=0);b.defn(w,"$inspect",Q=function(){return"("+this.$to_s()+")"},Q.$$arity=0);b.alias(w,"quo","/");b.defn(w,"$rationalize",W=function(a){1<arguments.length&&this.$raise(b.const_get_relative(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var c=a.$abs(),d=A(this,c),c=m(this,c),e=0,h=1,f=1,l=0,k,n,u;;){k=d.$ceil();if("number"===typeof k&&"number"===
typeof c?k<=c:k["$<="](c))break;u=k-1;k=u*h+e;n=u*l+f;e=x(1,A(c,u));c=x(1,A(d,u));d=e;e=h;f=l;h=k;l=n}return this.$Rational(k*h+e,k*l+f)},W.$$arity=-1);b.defn(w,"$round",N=function(a){var c=B,b=B,c=B;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;c=m(r(this.num.$abs(),2),this.den);b=r(this.den,2);c=x(c,b).$truncate();return h(q(this.num,0))?c["$-@"]():c},N.$$arity=-1);b.defn(w,"$to_f",P=function(){return x(this.num,
this.den)},P.$$arity=0);b.defn(w,"$to_i",ba=function(){return this.$truncate()},ba.$$arity=0);b.defn(w,"$to_r",O=function(){return this},O.$$arity=0);b.defn(w,"$to_s",H=function(){return""+this.num+"/"+this.den},H.$$arity=0);b.defn(w,"$truncate",L=function(a){null==a&&(a=0);return a["$=="](0)?h(q(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",a)},L.$$arity=-1);return(b.defn(w,"$with_precision",y=function(a,c){var d=B,e=B;h(b.const_get_relative(g,"Integer")["$==="](c))||this.$raise(b.const_get_relative(g,
"TypeError"),"not an Integer");d=10["$**"](c);e=r(this,d);return h(q(c,1))?x(e.$send(a),d).$to_i():this.$Rational(e.$send(a),d)},y.$$arity=2),B)&&"with_precision"})(p[0],b.const_get_relative(p,"Numeric"),p);return function(a,h){var f=w(a,"Kernel"),e=[f].concat(h),k;b.defn(f,"$Rational",k=function(a,c){null==c&&(c=1);return b.const_get_relative(e,"Rational").$convert(a,c)},k.$$arity=-2)}(p[0],p)},Opal.modules["corelib/time"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?
a+b:a["$+"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var m=b.top,y=[],p=b.nil,B=b.slice,a=b.klass,h=b.truthy,w=b.range;b.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
m.$require("corelib/comparable");return function(m,$super,f){function e(){}function k(a,d,e,h,f,l){a=a.$$is_string?parseInt(a,10):b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int");if(d===p)d=1;else if(!d.$$is_number)if(d["$respond_to?"]("to_str"))switch(d=d.$to_str(),d.toLowerCase()){case "jan":d=1;break;case "feb":d=2;break;case "mar":d=3;break;case "apr":d=4;break;case "may":d=5;break;case "jun":d=6;break;case "jul":d=7;break;case "aug":d=8;break;case "sep":d=
9;break;case "oct":d=10;break;case "nov":d=11;break;case "dec":d=12;break;default:d=d.$to_i()}else d=b.const_get_relative(c,"Opal")["$coerce_to!"](d,b.const_get_relative(c,"Integer"),"to_int");(1>d||12<d)&&g.$raise(b.const_get_relative(c,"ArgumentError"),"month out of range: "+d);--d;e=e===p?1:e.$$is_string?parseInt(e,10):b.const_get_relative(c,"Opal")["$coerce_to!"](e,b.const_get_relative(c,"Integer"),"to_int");(1>e||31<e)&&g.$raise(b.const_get_relative(c,"ArgumentError"),"day out of range: "+e);
h=h===p?0:h.$$is_string?parseInt(h,10):b.const_get_relative(c,"Opal")["$coerce_to!"](h,b.const_get_relative(c,"Integer"),"to_int");(0>h||24<h)&&g.$raise(b.const_get_relative(c,"ArgumentError"),"hour out of range: "+h);f=f===p?0:f.$$is_string?parseInt(f,10):b.const_get_relative(c,"Opal")["$coerce_to!"](f,b.const_get_relative(c,"Integer"),"to_int");(0>f||59<f)&&g.$raise(b.const_get_relative(c,"ArgumentError"),"min out of range: "+f);l===p?l=0:l.$$is_number||(l=l.$$is_string?parseInt(l,10):b.const_get_relative(c,
"Opal")["$coerce_to!"](l,b.const_get_relative(c,"Integer"),"to_int"));(0>l||60<l)&&g.$raise(b.const_get_relative(c,"ArgumentError"),"sec out of range: "+l);return[a,d,e,h,f,l]}var g=e=a(m,$super,"Time",e),c=[g].concat(f),d,D,u,l,n,S,da,G,t,Z,C,K,ia,aa,ta,M,Q,W,N,P,ba,O,H,L,y,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R;g.$include(b.const_get_relative(c,"Comparable"));var z="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ca="Sun Mon Tue Wed Thu Fri Sat".split(" "),qa=
"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Aa="January February March April May June July August September October November December".split(" ");b.defs(g,"$at",d=function(a,d){var e;if(b.const_get_relative(c,"Time")["$==="](a))return void 0!==d&&this.$raise(b.const_get_relative(c,"TypeError"),"can't convert Time into an exact number"),e=new Date(a.getTime()),e.is_utc=a.is_utc,e;a.$$is_number||(a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int"));
if(void 0===d)return new Date(1E3*a);d.$$is_number||(d=b.const_get_relative(c,"Opal")["$coerce_to!"](d,b.const_get_relative(c,"Integer"),"to_int"));return new Date(1E3*a+d/1E3)},d.$$arity=-2);b.defs(g,"$new",D=function(a,d,e,h,f,g,l){null==d&&(d=p);null==e&&(e=p);null==h&&(h=p);null==f&&(f=p);null==g&&(g=p);null==l&&(l=p);if(void 0===a)return new Date;l!==p&&this.$raise(b.const_get_relative(c,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");g=k(a,d,e,h,f,g);a=g[0];
d=g[1];e=g[2];h=g[3];f=g[4];g=g[5];d=new Date(a,d,e,h,f,0,1E3*g);100>a&&d.setFullYear(a);return d},D.$$arity=-1);b.defs(g,"$local",u=function(a,c,b,d,e,h,f,g,l,n){null==c&&(c=p);null==b&&(b=p);null==d&&(d=p);null==e&&(e=p);null==h&&(h=p);null==f&&(f=p);null==g&&(g=p);null==l&&(l=p);null==n&&(n=p);var u;10===arguments.length&&(u=B.call(arguments),a=u[5],c=u[4],b=u[3],d=u[2],e=u[1],h=u[0]);u=k(a,c,b,d,e,h);a=u[0];c=u[1];b=u[2];d=u[3];e=u[4];h=u[5];u=new Date(a,c,b,d,e,0,1E3*h);100>a&&u.setFullYear(a);
return u},u.$$arity=-2);b.defs(g,"$gm",l=function(a,c,b,d,e,h,f,g,l,n){null==c&&(c=p);null==b&&(b=p);null==d&&(d=p);null==e&&(e=p);null==h&&(h=p);null==f&&(f=p);null==g&&(g=p);null==l&&(l=p);null==n&&(n=p);var u;10===arguments.length&&(u=B.call(arguments),a=u[5],c=u[4],b=u[3],d=u[2],e=u[1],h=u[0]);u=k(a,c,b,d,e,h);a=u[0];c=u[1];b=u[2];d=u[3];e=u[4];h=u[5];u=new Date(Date.UTC(a,c,b,d,e,0,1E3*h));100>a&&u.setUTCFullYear(a);u.is_utc=!0;return u},l.$$arity=-2);(function(a,c){[a].concat(c);b.alias(a,"mktime",
"local");return b.alias(a,"utc","gm")})(b.get_singleton_class(g),c);b.defs(g,"$now",n=function(){return this.$new()},n.$$arity=0);b.defn(g,"$+",S=function(a){h(b.const_get_relative(c,"Time")["$==="](a))&&this.$raise(b.const_get_relative(c,"TypeError"),"time + time?");a.$$is_number||(a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},S.$$arity=1);b.defn(g,"$-",da=function(a){if(h(b.const_get_relative(c,
"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},da.$$arity=1);b.defn(g,"$<=>",G=function(a){var d=p;if(h(b.const_get_relative(c,"Time")["$==="](a)))return this.$to_f()["$<=>"](a.$to_f());d=a["$<=>"](this);return h(d["$nil?"]())?p:h("number"===typeof d?0<d:d["$>"](0))?-1:h("number"===typeof d?0>d:d["$<"](0))?1:0},G.$$arity=
1);b.defn(g,"$==",t=function(a){var d;return h(d=b.const_get_relative(c,"Time")["$==="](a))?this.$to_f()===a.$to_f():d},t.$$arity=1);b.defn(g,"$asctime",Z=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},Z.$$arity=0);b.alias(g,"ctime","asctime");b.defn(g,"$day",C=function(){return this.is_utc?this.getUTCDate():this.getDate()},C.$$arity=0);b.defn(g,"$yday",K=function(){var a=p,d=p,e=p,a=b.const_get_relative(c,"Time").$new(this.$year()).$to_i(),d=b.const_get_relative(c,"Time").$new(this.$year(),
this.$month(),this.$day()).$to_i(),e=86400;return q(x(A(d,a),e).$round(),1)},K.$$arity=0);b.defn(g,"$isdst",ia=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},ia.$$arity=0);b.alias(g,"dst?","isdst");b.defn(g,"$dup",aa=function(){var a=p,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},aa.$$arity=0);b.defn(g,"$eql?",ta=function(a){var d;
return h(d=a["$is_a?"](b.const_get_relative(c,"Time")))?this["$<=>"](a)["$zero?"]():d},ta.$$arity=1);b.defn(g,"$friday?",M=function(){return 5==this.$wday()},M.$$arity=0);b.defn(g,"$hash",Q=function(){return"Time:"+this.getTime()},Q.$$arity=0);b.defn(g,"$hour",W=function(){return this.is_utc?this.getUTCHours():this.getHours()},W.$$arity=0);b.defn(g,"$inspect",N=function(){return h(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},N.$$arity=0);b.alias(g,
"mday","day");b.defn(g,"$min",P=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},P.$$arity=0);b.defn(g,"$mon",ba=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},ba.$$arity=0);b.defn(g,"$monday?",O=function(){return 1==this.$wday()},O.$$arity=0);b.alias(g,"month","mon");b.defn(g,"$saturday?",H=function(){return 6==this.$wday()},H.$$arity=0);b.defn(g,"$sec",L=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},L.$$arity=0);b.defn(g,"$succ",
y=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},y.$$arity=0);b.defn(g,"$usec",la=function(){return 1E3*this.getMilliseconds()},la.$$arity=0);b.defn(g,"$zone",ha=function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},ha.$$arity=0);b.defn(g,"$getgm",na=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},na.$$arity=0);b.alias(g,"getutc","getgm");b.defn(g,
"$gmtime",J=function(){this.is_utc=!0;return this},J.$$arity=0);b.alias(g,"utc","gmtime");b.defn(g,"$gmt?",fa=function(){return!0===this.is_utc},fa.$$arity=0);b.defn(g,"$gmt_offset",ja=function(){return 60*-this.getTimezoneOffset()},ja.$$arity=0);b.defn(g,"$strftime",Y=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,d,e,h){e="";var f=-1!==b.indexOf("0"),g=-1===b.indexOf("-"),l=-1!==b.indexOf("_"),k=-1!==b.indexOf("^"),n=-1!==b.indexOf("#"),u=(b.match(":")||
[]).length;d=parseInt(d,10);f&&l&&(b.indexOf("0")<b.indexOf("_")?f=!1:l=!1);switch(h){case "Y":e+=c.$year();break;case "C":f=!l;e+=Math.round(c.$year()/100);break;case "y":f=!l;e+=c.$year()%100;break;case "m":f=!l;e+=c.$mon();break;case "B":e+=Aa[c.$mon()-1];break;case "b":case "h":l=!f;e+=qa[c.$mon()-1];break;case "d":f=!l;e+=c.$day();break;case "e":l=!f;e+=c.$day();break;case "j":e+=c.$yday();break;case "H":f=!l;e+=c.$hour();break;case "k":l=!f;e+=c.$hour();break;case "I":f=!l;e+=c.$hour()%12||
12;break;case "l":l=!f;e+=c.$hour()%12||12;break;case "P":e+=12<=c.$hour()?"pm":"am";break;case "p":e+=12<=c.$hour()?"PM":"AM";break;case "M":f=!l;e+=c.$min();break;case "S":f=!l;e+=c.$sec();break;case "L":f=!l;d=isNaN(d)?3:d;e+=c.getMilliseconds();break;case "N":d=isNaN(d)?9:d;e+=c.getMilliseconds().toString().$rjust(3,"0");e=e.$ljust(d,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);h=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>b?"0":"");e+=b;0<u&&(e+=":");e+=10>h?"0":"";e+=h;
1<u&&(e+=":00");break;case "Z":e+=c.$zone();break;case "A":e+=z[c.$wday()];break;case "a":e+=ca[c.$wday()];break;case "u":e+=c.$wday()+1;break;case "w":e+=c.$wday();break;case "V":e+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":e+=c.$cweek_cyear()["$[]"](1);break;case "g":e+=c.$cweek_cyear()["$[]"](1)["$[]"](w(-2,-1,!1));break;case "s":e+=c.$to_i();break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=c.$strftime("%a %b %e %T %Y");break;case "D":case "x":e+=
c.$strftime("%m/%d/%y");break;case "F":e+=c.$strftime("%Y-%m-%d");break;case "v":e+=c.$strftime("%e-%^b-%4Y");break;case "r":e+=c.$strftime("%I:%M:%S %p");break;case "R":e+=c.$strftime("%H:%M");break;case "T":case "X":e+=c.$strftime("%H:%M:%S");break;default:return a}k&&(e=e.toUpperCase());n&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));g&&(f||l)&&(e=e.$rjust(isNaN(d)?2:d,l?" ":"0"));return e})},Y.$$arity=1);b.defn(g,"$sunday?",V=function(){return 0==
this.$wday()},V.$$arity=0);b.defn(g,"$thursday?",ea=function(){return 4==this.$wday()},ea.$$arity=0);b.defn(g,"$to_a",sa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},sa.$$arity=0);b.defn(g,"$to_f",pa=function(){return this.getTime()/1E3},pa.$$arity=0);b.defn(g,"$to_i",ua=function(){return parseInt(this.getTime()/1E3,10)},ua.$$arity=0);b.alias(g,"to_s","inspect");b.defn(g,"$tuesday?",ga=function(){return 2==
this.$wday()},ga.$$arity=0);b.alias(g,"tv_sec","to_i");b.alias(g,"tv_usec","usec");b.alias(g,"utc?","gmt?");b.alias(g,"gmtoff","gmt_offset");b.alias(g,"utc_offset","gmt_offset");b.defn(g,"$wday",ka=function(){return this.is_utc?this.getUTCDay():this.getDay()},ka.$$arity=0);b.defn(g,"$wednesday?",oa=function(){return 3==this.$wday()},oa.$$arity=0);b.defn(g,"$year",ra=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},ra.$$arity=0);return(b.defn(g,"$cweek_cyear",R=function(){var a,
d=p,e=p,f=e=e=d=p,f=p,d=b.const_get_relative(c,"Time").$new(this.$year(),1,1),e=d.$wday(),d=this.$year();h(h(a=r(e,4))?e["$!="](0):a)?e=A(e,1):(e=A(A(e,7),1),e["$=="](-8)&&(e=-1));e=x(q(this.$yday(),e),7).$ceil();if(h(r(e,0)))return b.const_get_relative(c,"Time").$new(A(this.$year(),1),12,31).$cweek_cyear();e["$=="](53)&&(f=b.const_get_relative(c,"Time").$new(this.$year(),12,31),f=f.$wday(),h(h(a=r(f,3))?f["$!="](0):a)&&(e=1,d=q(d,1)));return[e,d]},R.$$arity=0),p)&&"cweek_cyear"}(y[0],Date,y)},Opal.modules["corelib/struct"]=
function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var y=b.top,p=[],B=b.nil,a=b.klass,h=b.truthy,w=b.send,F=b.hash2;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $> $length $class $each_with_index $[] $[]= $- $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $join $each_pair $inspect $inject $flatten $to_a $respond_to? $dig".split(" "));
y.$require("corelib/enumerable");return function(v,$super,e){function k(){}v=k=a(v,$super,"Struct",k);var g=[v].concat(e),c,d,D,u,l,n,p,da,G,t,Z,C,K,ia,aa,ta,M,Q,W;v.$include(b.const_get_relative(g,"Enumerable"));b.defs(v,"$new",c=function(a,d){var e,l,k,n=c.$$p,u=n||B,t=B,t=arguments.length,m=t-1;0>m&&(m=0);k=Array(m);for(m=1;m<t;m++)k[m-1]=arguments[m];n&&(c.$$p=null);if(h(a))try{a=b.const_get_relative(g,"Opal")["$const_name!"](a)}catch(C){if(b.rescue(C,[b.const_get_relative(g,"TypeError"),b.const_get_relative(g,
"NameError")]))try{k.$unshift(a),a=B}finally{b.pop_exception()}else throw C;}w(k,"map",[],(e=function(a){null==a&&(a=B);return b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"String"),"to_str")},e.$$s=this,e.$$arity=1,e));t=w(b.const_get_relative(g,"Class"),"new",[this],(l=function(){var a=l.$$s||this,c;w(k,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=B);return b.$define_struct_attribute(a)},c.$$s=a,c.$$arity=1,c));return function(a,c){[a].concat(c);var d;b.defn(a,
"$new",d=function(a){var c,d=B,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=this.$allocate();d.$$data={};w(d,"initialize",b.to_a(c));return d},d.$$arity=-1);return b.alias(a,"[]","new")}(b.get_singleton_class(a),g)},l.$$s=this,l.$$arity=0,l));h(u)&&w(t,"module_eval",[],u.$to_proc());h(a)&&b.const_get_relative(g,"Struct").$const_set(a,t);return t},c.$$arity=-2);b.defs(v,"$define_struct_attribute",d=function(a){var c,d;this["$=="](b.const_get_relative(g,"Struct"))&&
this.$raise(b.const_get_relative(g,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);w(this,"define_method",[a],(c=function(){return(c.$$s||this).$$data[a]},c.$$s=this,c.$$arity=0,c));return w(this,"define_method",[""+a+"="],(d=function(c){var b=d.$$s||this;null==c&&(c=B);return b.$$data[a]=c},d.$$s=this,d.$$arity=1,d))},d.$$arity=1);b.defs(v,"$members",D=function(){var a;null==this.members&&(this.members=B);this["$=="](b.const_get_relative(g,"Struct"))&&
this.$raise(b.const_get_relative(g,"ArgumentError"),"the Struct class has no members");return this.members=h(a=this.members)?a:[]},D.$$arity=0);b.defs(v,"$inherited",u=function(a){var c,b=B;null==this.members&&(this.members=B);b=this.members;return w(a,"instance_eval",[],(c=function(){return(c.$$s||this).members=b},c.$$s=this,c.$$arity=0,c))},u.$$arity=1);b.defn(v,"$initialize",l=function(a){var c,d,e=arguments.length,l=e-0;0>l&&(l=0);d=Array(l);for(l=0;l<e;l++)d[l-0]=arguments[l];h(q(d.$length(),
this.$class().$members().$length()))&&this.$raise(b.const_get_relative(g,"ArgumentError"),"struct size differs");return w(this.$class().$members(),"each_with_index",[],(c=function(a,e){var h=c.$$s||this,g=B;null==a&&(a=B);null==e&&(e=B);g=[a,d["$[]"](e)];w(h,"[]=",b.to_a(g));return g[x(g.length,1)]},c.$$s=this,c.$$arity=2,c))},l.$$arity=-1);b.defn(v,"$members",n=function(){return this.$class().$members()},n.$$arity=0);b.defn(v,"$hash",p=function(){return b.const_get_relative(g,"Hash").$new(this.$$data).$hash()},
p.$$arity=0);b.defn(v,"$[]",da=function(a){h(b.const_get_relative(g,"Integer")["$==="](a))?(h(A(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(b.const_get_relative(g,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),h(r(a,this.$class().$members().$size()))&&this.$raise(b.const_get_relative(g,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):h(b.const_get_relative(g,
"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(b.const_get_relative(g,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(b.const_get_relative(g,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"String"),"to_str");return this.$$data[a]},da.$$arity=1);b.defn(v,"$[]=",G=function(a,c){h(b.const_get_relative(g,"Integer")["$==="](a))?(h(A(a,this.$class().$members().$size()["$-@"]()))&&
this.$raise(b.const_get_relative(g,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),h(r(a,this.$class().$members().$size()))&&this.$raise(b.const_get_relative(g,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):h(b.const_get_relative(g,"String")["$==="](a))?h(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(b.const_get_relative(g,"NameError").$new("no member '"+
a+"' in struct",a)):this.$raise(b.const_get_relative(g,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"String"),"to_str");return this.$$data[a]=c},G.$$arity=2);b.defn(v,"$==",t=function(a){function c(a,h){var l,k,n;d[a.$__id__()]=!0;e[h.$__id__()]=!0;for(l in a.$$data)if(k=a.$$data[l],n=h.$$data[l],b.const_get_relative(g,"Struct")["$==="](k)){if(!(d.hasOwnProperty(k.$__id__())&&e.hasOwnProperty(n.$__id__())||
c(k,n)))return!1}else if(!k["$=="](n))return!1;return!0}if(!h(a["$instance_of?"](this.$class())))return!1;var d={},e={};return c(this,a)},t.$$arity=1);b.defn(v,"$eql?",Z=function(a){function c(a,h){var l,k,n;d[a.$__id__()]=!0;e[h.$__id__()]=!0;for(l in a.$$data)if(k=a.$$data[l],n=h.$$data[l],b.const_get_relative(g,"Struct")["$==="](k)){if(!(d.hasOwnProperty(k.$__id__())&&e.hasOwnProperty(n.$__id__())||c(k,n)))return!1}else if(!k["$eql?"](n))return!1;return!0}if(!h(a["$instance_of?"](this.$class())))return!1;
var d={},e={};return c(this,a)},Z.$$arity=1);b.defn(v,"$each",C=function(){var a,c,d=C.$$p,e=d||B;d&&(C.$$p=null);if(e===B)return w(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));w(this.$class().$members(),"each",[],(c=function(a){var d=c.$$s||this;null==a&&(a=B);return b.yield1(e,d["$[]"](a))},c.$$s=this,c.$$arity=1,c));return this},C.$$arity=0);b.defn(v,"$each_pair",K=function(){var a,c,d=K.$$p,e=d||B;d&&(K.$$p=null);if(e===B)return w(this,"enum_for",
["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));w(this.$class().$members(),"each",[],(c=function(a){var d=c.$$s||this;null==a&&(a=B);return b.yield1(e,[a,d["$[]"](a)])},c.$$s=this,c.$$arity=1,c));return this},K.$$arity=0);b.defn(v,"$length",ia=function(){return this.$class().$members().$length()},ia.$$arity=0);b.alias(v,"size","length");b.defn(v,"$to_a",aa=function(){var a;return w(this.$class().$members(),"map",[],(a=function(c){var b=a.$$s||this;null==c&&(c=B);
return b["$[]"](c)},a.$$s=this,a.$$arity=1,a))},aa.$$arity=0);b.alias(v,"values","to_a");b.defn(v,"$inspect",ta=function(){var a,c,d=B,d="#<struct ";h(h(a=b.const_get_relative(g,"Struct")["$==="](this))?this.$class().$name():a)&&(d=m(d,""+this.$class()+" "));d=m(d,w(this.$each_pair(),"map",[],(c=function(a,c){null==a&&(a=B);null==c&&(c=B);return""+a+"="+c.$inspect()},c.$$s=this,c.$$arity=2,c)).$join(", "));return d=m(d,">")},ta.$$arity=0);b.alias(v,"to_s","inspect");b.defn(v,"$to_h",M=function(){var a;
return w(this.$class().$members(),"inject",[F([],{})],(a=function(c,d){var e=a.$$s||this,h=B;null==c&&(c=B);null==d&&(d=B);h=[d,e["$[]"](d)];w(c,"[]=",b.to_a(h));h[x(h.length,1)];return c},a.$$s=this,a.$$arity=2,a))},M.$$arity=0);b.defn(v,"$values_at",Q=function(a){var c,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var h=0;h<e;h++)d[h-0]=arguments[h];d=w(d,"map",[],(c=function(a){null==a&&(a=B);return a.$$is_range?a.$to_a():a},c.$$s=this,c.$$arity=1,c)).$flatten();c=[];e=0;for(h=d.length;e<
h;e++)d[e].$$is_number||this.$raise(b.const_get_relative(g,"TypeError"),"no implicit conversion of "+d[e].$class()+" into Integer"),c.push(this["$[]"](d[e]));return c},Q.$$arity=-1);return(b.defn(v,"$dig",W=function(a,c){var d,e=B,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var l=1;l<e;l++)d[l-1]=arguments[l];e=h(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||B:B;if(e===B||0===d.length)return e;h(e["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(g,"TypeError"),""+e.$class()+
" does not have #dig method");return w(e,"dig",b.to_a(d))},W.$$arity=-2),B)&&"dig"}(p[0],null,p)},Opal.modules["corelib/io"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var x=[],A=b.nil,r=b.klass,m=b.module,y=b.send,p=b.gvars,B=b.truthy,a=A;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(a,$super,h){function f(){}a=f=r(a,$super,"IO",f);var e=a.$$proto;
h=[a].concat(h);var k,g,c,d;e.tty=e.closed=A;b.const_set(h[0],"SEEK_SET",0);b.const_set(h[0],"SEEK_CUR",1);b.const_set(h[0],"SEEK_END",2);b.defn(a,"$tty?",k=function(){return this.tty},k.$$arity=0);b.defn(a,"$closed?",g=function(){return this.closed},g.$$arity=0);a.$attr_accessor("write_proc");b.defn(a,"$write",c=function(a){this.write_proc(a);return a.$size()},c.$$arity=1);a.$attr_accessor("sync","tty");b.defn(a,"$flush",d=function(){return A},d.$$arity=0);(function(a,c){var d=m(a,"Writable");[d].concat(c);
var e,h,f;b.defn(d,"$<<",e=function(a){this.$write(a);return this},e.$$arity=1);b.defn(d,"$print",h=function(a){var c,b;null==p[","]&&(p[","]=A);var d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];this.$write(y(b,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=A);return b.$String(a)},c.$$s=this,c.$$arity=1,c)).$join(p[","]));return A},h.$$arity=-1);b.defn(d,"$puts",f=function(a){var c,b,d=A;null==p["/"]&&(p["/"]=A);d=arguments.length;b=d-0;0>b&&(b=0);b=
Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=p["/"];B(b["$empty?"]())?this.$write(p["/"]):this.$write(y(b,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=A);return b.$String(a).$chomp()},c.$$s=this,c.$$arity=1,c)).$concat([A]).$join(d));return A},f.$$arity=-1)})(h[0],h);return function(a,c){var d=m(a,"Readable"),e=[d].concat(c),h,f,g,k;b.defn(d,"$readbyte",h=function(){return this.$getbyte()},h.$$arity=0);b.defn(d,"$readchar",f=function(){return this.$getc()},f.$$arity=0);b.defn(d,"$readline",
g=function(a){null==p["/"]&&(p["/"]=A);return this.$raise(b.const_get_relative(e,"NotImplementedError"))},g.$$arity=-1);b.defn(d,"$readpartial",k=function(a,c){return this.$raise(b.const_get_relative(e,"NotImplementedError"))},k.$$arity=-2)}(h[0],h)})(x[0],null,x);b.const_set(x[0],"STDERR",p.stderr=b.const_get_relative(x,"IO").$new());b.const_set(x[0],"STDIN",p.stdin=b.const_get_relative(x,"IO").$new());b.const_set(x[0],"STDOUT",p.stdout=b.const_get_relative(x,"IO").$new());var h=b.global.console,
a=["object"===typeof process&&"object"===typeof process.stdout?function(a){process.stdout.write(a)}:function(a){h.log(a)}];y(b.const_get_relative(x,"STDOUT"),"write_proc=",b.to_a(a));a[q(a.length,1)];a=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:function(a){h.warn(a)}];y(b.const_get_relative(x,"STDERR"),"write_proc=",b.to_a(a));a[q(a.length,1)];b.const_get_relative(x,"STDOUT").$extend(b.const_get_qualified(b.const_get_relative(x,"IO"),"Writable"));
return b.const_get_relative(x,"STDERR").$extend(b.const_get_qualified(b.const_get_relative(x,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(b){var q,x,A=b.top,r=[];b.add_stubs(["$include"]);b.defs(A,"$to_s",q=function(){return"main"},q.$$arity=0);return b.defs(A,"$include",x=function(m){return b.const_get_relative(r,"Object").$include(m)},x.$$arity=1)},Opal.modules["corelib/dir"]=function(b){var q=[],x=b.nil,A=b.klass,r=b.truthy;b.add_stubs(["$[]"]);return function(m,$super,p){function q(){}
m=q=A(m,$super,"Dir",q);p=[m].concat(p);return function(a,h){var w=[a].concat(h),m,v,f;b.defn(a,"$chdir",m=function(a){var h=m.$$p,f=h||x,c=x;h&&(m.$$p=null);var d;a:{try{c=b.current_dir;b.current_dir=a;d=b.yieldX(f,[]);break a}finally{b.current_dir=c}d=void 0}return d},m.$$arity=1);b.defn(a,"$pwd",v=function(){return b.current_dir||"."},v.$$arity=0);b.alias(a,"getwd","pwd");return(b.defn(a,"$home",f=function(){var a;return r(a=b.const_get_relative(w,"ENV")["$[]"]("HOME"))?a:"."},f.$$arity=0),x)&&
"home"}(b.get_singleton_class(m),p)}(q[0],null,q)},Opal.modules["corelib/file"]=function(b){function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var A=[],r=b.nil,m=b.klass,y=b.send,p=b.truthy,B=b.range;b.add_stubs("$join $compact $split $== $first $home $[]= $- $pwd $each $pop $<< $respond_to? $coerce_to! $+ $basename $empty? $rindex $[] $nil? $length $gsub $find $=~ $map $each_with_index $flatten $reject $end_with? $start_with? $sub".split(" "));
return function(a,$super,w){function F(){}a=F=m(a,$super,"File",F);w=[a].concat(w);b.const_set(w[0],"Separator",b.const_set(w[0],"SEPARATOR","/"));b.const_set(w[0],"ALT_SEPARATOR",r);b.const_set(w[0],"PATH_SEPARATOR",":");b.const_set(w[0],"FNM_SYSCASE",0);return function(a,f){function e(a){p(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"String"),"to_str")}function k(){return b.const_get_relative(g,"ALT_SEPARATOR")===
r?b.escape_regexp(b.const_get_relative(g,"SEPARATOR")):b.escape_regexp(x(b.const_get_relative(g,"SEPARATOR"),b.const_get_relative(g,"ALT_SEPARATOR")))}var g=[a].concat(f),c,d,w,u,l,n,m,F;b.defn(a,"$expand_path",c=function(a,c){var d,e=r,f=r,l=r;null==c&&(c=r);a=[c,a].$compact().$join(b.const_get_relative(g,"SEPARATOR"));e=a.$split(b.const_get_relative(g,"SEPARATOR"));f=[];e.$first()["$=="]("~")&&(l=[0,b.const_get_relative(g,"Dir").$home()],y(e,"[]=",b.to_a(l)),l[q(l.length,1)]);e.$first()["$=="](".")&&
(l=[0,b.const_get_relative(g,"Dir").$pwd()],y(e,"[]=",b.to_a(l)),l[q(l.length,1)]);y(e,"each",[],(d=function(a){null==a&&(a=r);return a["$=="]("..")?f.$pop():f["$<<"](a)},d.$$s=this,d.$$arity=1,d));return f.$join(b.const_get_relative(g,"SEPARATOR"))},c.$$arity=-2);b.alias(a,"realpath","expand_path");b.defn(a,"$dirname",d=function(a){var c=r,c=k();a=e(a);var b=a.match(new RegExp("^["+c+"]"));a=a.replace(new RegExp("["+c+"]+$"),"");a=a.replace(new RegExp("[^"+c+"]+$"),"");a=a.replace(new RegExp("["+
c+"]+$"),"");return""===a?b?"/":".":a},d.$$arity=1);b.defn(a,"$basename",w=function(a,c){var d=r;null==c&&(c=r);d=k();a=e(a);if(0==a.length)return a;c=c!==r?b.const_get_relative(g,"Opal")["$coerce_to!"](c,b.const_get_relative(g,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+d+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+d+"])?([^"+d+"]+)$"),"$1");".*"===c?a=a.replace(/\.[^\.]+$/,""):null!==c&&(c=b.escape_regexp(c),a=a.replace(new RegExp(""+c+"$"),""));return a},w.$$arity=-2);b.defn(a,"$extname",
u=function(a){var c,d=r,f=r;a=e(a);d=this.$basename(a);if(p(d["$empty?"]()))return"";f=d["$[]"](B(1,-1,!1)).$rindex(".");return p(p(c=f["$nil?"]())?c:x(f,1)["$=="](q(d.$length(),1)))?"":d["$[]"](b.Range.$new(x(f,1),-1,!1))},u.$$arity=1);b.defn(a,"$exist?",l=function(a){return null!=b.modules[a]},l.$$arity=1);b.alias(a,"exists?","exist?");b.defn(a,"$directory?",n=function(a){var c,d=r,d=r,d=[],e;for(e in b.modules)d.push(e);a=a.$gsub(new RegExp("(^."+b.const_get_relative(g,"SEPARATOR")+"+|"+b.const_get_relative(g,
"SEPARATOR")+"+$)"));return d=y(d,"find",[],(c=function(c){null==c&&(c=r);return c["$=~"](new RegExp("^"+a))},c.$$s=this,c.$$arity=1,c))},n.$$arity=1);b.defn(a,"$join",m=function(a){var c,d,e,f,l=r,k=arguments.length,n=k-0;0>n&&(n=0);f=Array(n);for(n=0;n<k;n++)f[n-0]=arguments[n];if(f.$length()["$=="](0))return"";l="";f=y(f.$flatten().$each_with_index(),"map",[],(c=function(a,c){null==a&&(a=r);null==c&&(c=r);return p(c["$=="](0)?a["$empty?"]():c["$=="](0))?b.const_get_relative(g,"SEPARATOR"):p(f.$length()["$=="](x(c,
1))?a["$empty?"]():f.$length()["$=="](x(c,1)))?b.const_get_relative(g,"SEPARATOR"):a},c.$$s=this,c.$$arity=2,c));f=y(f,"reject",[],(d=function(a){null==a&&(a=r);return a["$empty?"]()},d.$$s=this,d.$$arity=1,d));y(f,"each_with_index",[],(e=function(a,c){var d,e=r;null==a&&(a=r);null==c&&(c=r);e=f["$[]"](x(c,1));if(p(e["$nil?"]()))return l=""+l+a;p(p(d=a["$end_with?"](b.const_get_relative(g,"SEPARATOR")))?e["$start_with?"](b.const_get_relative(g,"SEPARATOR")):d)&&(a=a.$sub(new RegExp(""+b.const_get_relative(g,
"SEPARATOR")+"+$"),""));return p(p(d=a["$end_with?"](b.const_get_relative(g,"SEPARATOR")))?d:e["$start_with?"](b.const_get_relative(g,"SEPARATOR")))?l=""+l+a:l=""+l+a+b.const_get_relative(g,"SEPARATOR")},e.$$s=this,e.$$arity=2,e));return l},m.$$arity=-1);return(b.defn(a,"$split",F=function(a){return a.$split(b.const_get_relative(g,"SEPARATOR"))},F.$$arity=1),r)&&"split"}(b.get_singleton_class(a),w)}(A[0],b.const_get_relative(A,"IO"),A)},Opal.modules["corelib/process"]=function(b){var q=[],x=b.nil,
A=b.klass,r=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(m,$super,p){function q(){}m=q=A(m,$super,"Process",q);var a=[m].concat(p),h,w,F,v;p=x;m.__clocks__=[];b.defs(m,"$__register_clock__",h=function(a,b){null==this.__clocks__&&(this.__clocks__=x);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](b)},h.$$arity=2);m.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});p=!1;if(b.global.performance)p=
function(){return performance.now()};else if(b.global.process&&process.hrtime){var f=process.hrtime();p=function(){var a=process.hrtime(f);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}r(p)&&m.$__register_clock__("CLOCK_MONOTONIC",p);b.defs(m,"$pid",w=function(){return 0},w.$$arity=0);b.defs(m,"$times",F=function(){var e=x,e=b.const_get_relative(a,"Time").$now().$to_f();return b.const_get_qualified(b.const_get_relative(a,"Benchmark"),"Tms").$new(e,e,e,e,e)},F.$$arity=0);return b.defs(m,"$clock_gettime",v=function(e,
h){var f,c=x;null==this.__clocks__&&(this.__clocks__=x);null==h&&(h="float_second");r(f=c=this.__clocks__["$[]"](e))?f:this.$raise(b.const_get_qualified(b.const_get_relative(a,"Errno"),"EINVAL"),"clock_gettime("+e+") "+this.__clocks__["$[]"](e));f=c();switch(h){case "float_second":return f/1E3;case "float_millisecond":return f/1;case "float_microsecond":return 1E3*f;case "second":return f/1E3|0;case "millisecond":return f/1|0;case "microsecond":return 1E3*f|0;case "nanosecond":return 1E6*f|0;default:this.$raise(b.const_get_relative(a,
"ArgumentError"),"unexpected unit: "+h)}},v.$$arity=-2)})(q[0],null,q);(function(m,$super,p){function r(){}m=r=A(m,$super,"Signal",r);[m].concat(p);var a;return b.defs(m,"$trap",a=function(a){return x},a.$$arity=-1)})(q[0],null,q);return function(m,$super,p){function r(){}m=r=A(m,$super,"GC",r);[m].concat(p);var a;return b.defs(m,"$start",a=function(){return x},a.$$arity=0)}(q[0],null,q)},Opal.modules["corelib/random/seedrandom"]=function(b){var q=[],x=b.klass;return function(b,$super,m){function q(){}
[q=x(b,$super,"Random",q)].concat(m);!function(b,m){function a(a,g,k){var q=[];g=1==g?{entropy:!0}:g||{};a=v(F(g.entropy?[a,e(b)]:null==a?f():a,3),q);var C=new h(q),q=function(){for(var a=C.g(d),b=u,e=0;a<l;)a=(a+e)*c,b*=c,e=C.g(1);for(;a>=n;)a/=2,b/=2,e>>>=1;return(a+e)/b};return q.int32=function(){return 0|C.g(4)},q.quick=function(){return C.g(4)/4294967296},q["double"]=q,v(e(C.S),b),(g.pass||k||function(a,c,b,d){return d&&(d.S&&w(d,C),a.state=function(){return w(C,{})}),b?(m[D]=a,c):a})(q,a,"global"in
g?g.global:this==m,g.state)}function h(a){var b,d=a.length,e=this,h=0,f=e.i=e.j=0,g=e.S=[];for(d||(a=[d++]);h<c;)g[h]=h++;for(h=0;h<c;h++)g[h]=g[f=q&f+a[h%d]+(b=g[h])],g[f]=b;(e.g=function(a){for(var b,d=0,h=e.i,f=e.j,g=e.S;a--;)b=g[h=q&h+1],d=d*c+g[q&(g[h]=g[f=q&f+b])+(g[f]=b)];return e.i=h,e.j=f,d})(c)}function w(a,c){return c.i=a.i,c.j=a.j,c.S=a.S.slice(),c}function F(a,c){var b,d=[],e=typeof a;if(c&&"object"==e)for(b in a)if(a.hasOwnProperty(b))try{d.push(F(a[b],c-1))}catch(h){}return d.length?
d:"string"==e?a:a+"\x00"}function v(a,c){for(var b,d=a+"",h=0;h<d.length;)c[q&h]=q&(b^=19*c[q&h])+d.charCodeAt(h++);return e(c)}function f(){try{if(k)return e(k.randomBytes(c));var a=new Uint8Array(c);return(g.crypto||g.msCrypto).getRandomValues(a),e(a)}catch(d){return a=g.navigator,[+new Date,g,a&&a.plugins,g.screen,e(b)]}}function e(a){return String.fromCharCode.apply(0,a)}var k,g=this,c=256,d=6,D="random",u=m.pow(c,d),l=m.pow(2,52),n=2*l,q=c-1;if(m["seed"+D]=a,v(m.random(),b),"object"==typeof module&&
module.exports){module.exports=a;try{k=require("crypto")}catch(da){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return a})}([],Math)}(q[0],null,q)},Opal.modules["corelib/random"]=function(b){var q=b.top,x=[],A=b.nil,r=b.klass,m=b.truthy,y=b.send;b.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $new $=== $== $state $encode $join $map $times $chr $raise".split(" "));q.$require("corelib/random/seedrandom.js");return function(p,$super,a){function h(){}
p=h=r(p,$super,"Random",h);var w=[p].concat(a),F,v,f,e,k,g,c,d;p.$attr_reader("seed","state");b.defn(p,"$initialize",F=function(a){null==a&&(a=b.const_get_relative(w,"Random").$new_seed());this.state=a=b.const_get_relative(w,"Opal")["$coerce_to!"](a,b.const_get_relative(w,"Integer"),"to_int");return this.$reseed(a)},F.$$arity=-1);b.defn(p,"$reseed",v=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},v.$$arity=1);var D=new Math.seedrandom("opal",{entropy:!0});b.defs(p,"$new_seed",f=
function(){return Math.abs(D.int32())},f.$$arity=0);b.defs(p,"$rand",e=function(a){return b.const_get_relative(w,"DEFAULT").$rand(a)},e.$$arity=-1);b.defs(p,"$srand",k=function(a){var c=A;null==a&&(a=b.const_get_relative(w,"Random").$new_seed());a=b.const_get_relative(w,"Opal")["$coerce_to!"](a,b.const_get_relative(w,"Integer"),"to_int");c=b.const_get_relative(w,"DEFAULT").$seed();b.const_get_relative(w,"DEFAULT").$reseed(a);return c},k.$$arity=-1);b.const_set(w[0],"DEFAULT",p.$new(p.$new_seed()));
b.defn(p,"$==",g=function(a){return m(b.const_get_relative(w,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},g.$$arity=1);b.defn(p,"$bytes",c=function(a){var c;a=b.const_get_relative(w,"Opal")["$coerce_to!"](a,b.const_get_relative(w,"Integer"),"to_int");return y(a.$times(),"map",[],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode(b.const_get_qualified(b.const_get_relative(w,"Encoding"),
"ASCII_8BIT"))},c.$$arity=1);return(b.defn(p,"$rand",d=function(a){function c(){e.state++;return e.$rng.quick()}function d(){var c=a.begin,b=a.end;if(c===A||b===A)return A;var h=b-c;if(0>h)return A;if(0===h)return c;0!==b%1||0!==c%1||a.excl||h++;return e.$rand(h)+c}var e=this;if(null==a)return c();if(a.$$is_range)return d();if(a.$$is_number)return 0>=a&&e.$raise(b.const_get_relative(w,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(c()*a):c()*a;a=b.const_get_relative(w,"Opal")["$coerce_to!"](a,
b.const_get_relative(w,"Integer"),"to_int");0>=a&&e.$raise(b.const_get_relative(w,"ArgumentError"),"invalid argument - "+a);return Math.floor(c()*a)},d.$$arity=-1),A)&&"rand"}(x[0],null,x)},Opal.modules["corelib/unsupported"]=function(b){function q(h){switch(b.config.unsupported_features_severity){case "error":b.const_get_relative(m,"Kernel").$raise(b.const_get_relative(m,"NotImplementedError"),h);break;case "warning":a[h]||(a[h]=!0,r.$warn(h))}}var x,A,r=b.top,m=[],y=b.nil,p=b.klass,B=b.module;b.add_stubs(["$raise",
"$warn","$%"]);var a={};(function(a,$super,m){function v(){}a=v=p(a,$super,"String",v);var f=[a].concat(m),e,k,g,c,d,D,u,l,n,r,q,G,t,Z,C,K,ia,aa;b.defn(a,"$<<",e=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},e.$$arity=-1);b.defn(a,"$capitalize!",k=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},
k.$$arity=-1);b.defn(a,"$chomp!",g=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},g.$$arity=-1);b.defn(a,"$chop!",c=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},c.$$arity=-1);b.defn(a,"$downcase!",d=function(a){return this.$raise(b.const_get_relative(f,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},d.$$arity=-1);b.defn(a,"$gsub!",D=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},D.$$arity=-1);b.defn(a,"$lstrip!",u=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},
u.$$arity=-1);b.defn(a,"$next!",l=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},l.$$arity=-1);b.defn(a,"$reverse!",n=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},n.$$arity=-1);b.defn(a,"$slice!",r=function(a){return this.$raise(b.const_get_relative(f,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},r.$$arity=-1);b.defn(a,"$squeeze!",q=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},q.$$arity=-1);b.defn(a,"$strip!",G=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
G.$$arity=-1);b.defn(a,"$sub!",t=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},t.$$arity=-1);b.defn(a,"$succ!",Z=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},Z.$$arity=-1);b.defn(a,"$swapcase!",C=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},C.$$arity=-1);b.defn(a,"$tr!",K=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},K.$$arity=-1);b.defn(a,"$tr_s!",ia=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},
ia.$$arity=-1);return(b.defn(a,"$upcase!",aa=function(a){return this.$raise(b.const_get_relative(f,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},aa.$$arity=-1),y)&&"upcase!"})(m[0],null,m);(function(a,w){var m=B(a,"Kernel");[m].concat(w);var v,f;b.defn(m,"$freeze",v=function(){q("Object freezing is not supported by Opal");return this},v.$$arity=0);b.defn(m,"$frozen?",f=function(){q("Object freezing is not supported by Opal");
return!1},f.$$arity=0)})(m[0],m);(function(a,w){var m=B(a,"Kernel");[m].concat(w);var v,f,e;b.defn(m,"$taint",v=function(){q("Object tainting is not supported by Opal");return this},v.$$arity=0);b.defn(m,"$untaint",f=function(){q("Object tainting is not supported by Opal");return this},f.$$arity=0);b.defn(m,"$tainted?",e=function(){q("Object tainting is not supported by Opal");return!1},e.$$arity=0)})(m[0],m);(function(a,$super,m){function v(){}a=v=p(a,$super,"Module",v);[a].concat(m);var f,e,k,g;
b.defn(a,"$public",f=function(a){var b,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var h=0;h<e;h++)b[h-0]=arguments[h];0===b.length&&(this.$$module_function=!1);return y},f.$$arity=-1);b.alias(a,"private","public");b.alias(a,"protected","public");b.alias(a,"nesting","public");b.defn(a,"$private_class_method",e=function(a){return this},e.$$arity=-1);b.alias(a,"public_class_method","private_class_method");b.defn(a,"$private_method_defined?",k=function(a){return!1},k.$$arity=1);b.defn(a,"$private_constant",
g=function(a){return y},g.$$arity=-1);b.alias(a,"protected_method_defined?","private_method_defined?");b.alias(a,"public_instance_methods","instance_methods");return b.alias(a,"public_method_defined?","method_defined?")})(m[0],null,m);(function(a,w){var m=B(a,"Kernel");[m].concat(w);var v;b.defn(m,"$private_methods",v=function(a){return[]},v.$$arity=-1);b.alias(m,"private_instance_methods","private_methods")})(m[0],m);(function(a,w){var m=B(a,"Kernel"),v=[m].concat(w),f;b.defn(m,"$eval",f=function(a){return this.$raise(b.const_get_relative(v,
"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.const_get_relative(v,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},f.$$arity=-1)})(m[0],m);b.defs(r,"$public",x=function(a){return y},x.$$arity=-1);return b.defs(r,"$private",A=function(a){return y},A.$$arity=-1)},Opal.modules.opal=function(b){var q=b.top;b.add_stubs(["$require"]);q.$require("opal/base");q.$require("opal/mini");q.$require("corelib/string/inheritance");
q.$require("corelib/string/encoding");q.$require("corelib/math");q.$require("corelib/complex");q.$require("corelib/rational");q.$require("corelib/time");q.$require("corelib/struct");q.$require("corelib/io");q.$require("corelib/main");q.$require("corelib/dir");q.$require("corelib/file");q.$require("corelib/process");q.$require("corelib/random");return q.$require("corelib/unsupported")},Opal.require("opal"));
(function(b,q){"object"===typeof module&&module.exports?module.exports=q:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return q(b.config())}):b.Asciidoctor=q})(this,function(b){Opal.modules.set=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function w(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var v=[],f=a.nil,e=a.klass,
k=a.truthy,g=a.send,c=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(c,$super,u){function l(){}c=l=e(c,$super,"Set",l);var n=c.$$proto,v=[c].concat(u),p,r,t,q,C,K,ia,aa,y,M,Q,W,N,P,ba,O,H,L,B,la,A,x,J,fa,
ja,Y,V,ea;n.hash=f;c.$include(a.const_get_relative(v,"Enumerable"));a.defs(c,"$[]",p=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$new(c)},p.$$arity=-1);a.defn(c,"$initialize",r=function(c){var b,d=r.$$p,e=d||f;null==c&&(c=f);d&&(r.$$p=null);this.hash=a.const_get_relative(v,"Hash").$new();if(k(c["$nil?"]()))return f;k(a.const_get_relative(v,"Enumerable")["$==="](c))||this.$raise(a.const_get_relative(v,"ArgumentError"),"value must be enumerable");
return k(e)?g(c,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=f);return c.$add(e.$call(a))},b.$$s=this,b.$$arity=1,b)):this.$merge(c)},r.$$arity=-1);a.defn(c,"$dup",t=function(){var a=f,a=this.$class().$new();return a.$merge(this)},t.$$arity=0);a.defn(c,"$-",q=function(c){k(c["$respond_to?"]("each"))||this.$raise(a.const_get_relative(v,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(c)},q.$$arity=1);a.alias(c,"difference","-");a.defn(c,"$inspect",C=function(){return"#<Set: {"+
this.$to_a().$join(",")+"}>"},C.$$arity=0);a.defn(c,"$==",K=function(c){var b,d;return k(this["$equal?"](c))?!0:k(c["$instance_of?"](this.$class()))?this.hash["$=="](c.$instance_variable_get("@hash")):k(k(b=c["$is_a?"](a.const_get_relative(v,"Set")))?this.$size()["$=="](c.$size()):b)?g(c,"all?",[],(d=function(a){var c=d.$$s||this;null==c.hash&&(c.hash=f);null==a&&(a=f);return c.hash["$include?"](a)},d.$$s=this,d.$$arity=1,d)):!1},K.$$arity=1);a.defn(c,"$add",ia=function(c){var d=f,d=[c,!0];g(this.hash,
"[]=",a.to_a(d));d[b(d.length,1)];return this},ia.$$arity=1);a.alias(c,"<<","add");a.defn(c,"$classify",aa=function(){var c,d,e=aa.$$p,l=e||f,k=f;e&&(aa.$$p=null);if(l===f)return this.$enum_for("classify");k=g(a.const_get_relative(v,"Hash"),"new",[],(c=function(d,e){var l=c.$$s||this,k=f;null==d&&(d=f);null==e&&(e=f);k=[e,l.$class().$new()];g(d,"[]=",a.to_a(k));return k[b(k.length,1)]},c.$$s=this,c.$$arity=2,c));g(this,"each",[],(d=function(c){null==c&&(c=f);return k["$[]"](a.yield1(l,c)).$add(c)},
d.$$s=this,d.$$arity=1,d));return k},aa.$$arity=0);a.defn(c,"$collect!",y=function(){var c,b=y.$$p,d=b||f,e=f;b&&(y.$$p=null);if(d===f)return this.$enum_for("collect!");e=this.$class().$new();g(this,"each",[],(c=function(c){null==c&&(c=f);return e["$<<"](a.yield1(d,c))},c.$$s=this,c.$$arity=1,c));return this.$replace(e)},y.$$arity=0);a.alias(c,"map!","collect!");a.defn(c,"$delete",M=function(a){this.hash.$delete(a);return this},M.$$arity=1);a.defn(c,"$delete?",Q=function(a){return k(this["$include?"](a))?
(this.$delete(a),this):f},Q.$$arity=1);a.defn(c,"$delete_if",W=function(){try{var c,b,d,e=W.$$p,h=e||f;e&&(W.$$p=null);k(c=h!==f)?c:a.ret(this.$enum_for("delete_if"));g(g(this,"select",[],(b=function(c){null==c&&(c=f);return a.yield1(h,c)},b.$$s=this,b.$$arity=1,b)),"each",[],(d=function(a){var c=d.$$s||this;null==c.hash&&(c.hash=f);null==a&&(a=f);return c.hash.$delete(a)},d.$$s=this,d.$$arity=1,d));return this}catch(l){if(l===a.returner)return l.$v;throw l;}},W.$$arity=0);a.defn(c,"$add?",N=function(a){return k(this["$include?"](a))?
f:this.$add(a)},N.$$arity=1);a.defn(c,"$each",P=function(){var a=P.$$p,c=a||f;a&&(P.$$p=null);if(c===f)return this.$enum_for("each");g(this.hash,"each_key",[],c.$to_proc());return this},P.$$arity=0);a.defn(c,"$empty?",ba=function(){return this.hash["$empty?"]()},ba.$$arity=0);a.defn(c,"$eql?",O=function(a){var c;return this.hash["$eql?"](g(a,"instance_eval",[],(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=f);return a.hash},c.$$s=this,c.$$arity=0,c)))},O.$$arity=1);a.defn(c,"$clear",H=function(){this.hash.$clear();
return this},H.$$arity=0);a.defn(c,"$include?",L=function(a){return this.hash["$include?"](a)},L.$$arity=1);a.alias(c,"member?","include?");a.defn(c,"$merge",B=function(a){var c;g(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=f);return b.$add(a)},c.$$s=this,c.$$arity=1,c));return this},B.$$arity=1);a.defn(c,"$replace",la=function(a){this.$clear();this.$merge(a);return this},la.$$arity=1);a.defn(c,"$size",A=function(){return this.hash.$size()},A.$$arity=0);a.alias(c,"length","size");a.defn(c,
"$subtract",x=function(a){var c;g(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=f);return b.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},x.$$arity=1);a.defn(c,"$|",J=function(c){k(c["$respond_to?"]("each"))||this.$raise(a.const_get_relative(v,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(c)},J.$$arity=1);a.defn(c,"$superset?",fa=function(c){var b,d;k(b=c["$is_a?"](a.const_get_relative(v,"Set")))?b:this.$raise(a.const_get_relative(v,"ArgumentError"),"value must be a set");
return k(w(this.$size(),c.$size()))?!1:g(c,"all?",[],(d=function(a){var c=d.$$s||this;null==a&&(a=f);return c["$include?"](a)},d.$$s=this,d.$$arity=1,d))},fa.$$arity=1);a.alias(c,">=","superset?");a.defn(c,"$proper_superset?",ja=function(c){var b,d;k(b=c["$is_a?"](a.const_get_relative(v,"Set")))?b:this.$raise(a.const_get_relative(v,"ArgumentError"),"value must be a set");return k(m(this.$size(),c.$size()))?!1:g(c,"all?",[],(d=function(a){var c=d.$$s||this;null==a&&(a=f);return c["$include?"](a)},
d.$$s=this,d.$$arity=1,d))},ja.$$arity=1);a.alias(c,">","proper_superset?");a.defn(c,"$subset?",Y=function(c){var b,d;k(b=c["$is_a?"](a.const_get_relative(v,"Set")))?b:this.$raise(a.const_get_relative(v,"ArgumentError"),"value must be a set");return k(w(c.$size(),this.$size()))?!1:g(this,"all?",[],(d=function(a){null==a&&(a=f);return c["$include?"](a)},d.$$s=this,d.$$arity=1,d))},Y.$$arity=1);a.alias(c,"<=","subset?");a.defn(c,"$proper_subset?",V=function(c){var b,d;k(b=c["$is_a?"](a.const_get_relative(v,
"Set")))?b:this.$raise(a.const_get_relative(v,"ArgumentError"),"value must be a set");return k(m(c.$size(),this.$size()))?!1:g(this,"all?",[],(d=function(a){null==a&&(a=f);return c["$include?"](a)},d.$$s=this,d.$$arity=1,d))},V.$$arity=1);a.alias(c,"<","proper_subset?");a.alias(c,"+","|");a.alias(c,"union","|");return(a.defn(c,"$to_a",ea=function(){return this.hash.$keys()},ea.$$arity=0),f)&&"to_a"})(v[0],null,v);return function(b,e){var h=c(b,"Enumerable"),l=[h].concat(e),k;a.defn(h,"$to_set",k=
function(c,b){var d,e=k.$$p,h=e||f;null==c&&(c=a.const_get_relative(l,"Set"));var u=arguments.length;d=u-1;0>d&&(d=0);d=Array(d);for(var w=1;w<u;w++)d[w-1]=arguments[w];e&&(k.$$p=null);return g(c,"new",[this].concat(a.to_a(d)),h.$to_proc())},k.$$arity=-1)}(v[0],v)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],w=a.nil,m=a.module,v=a.send,f=a.klass,e=a.truthy,k=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $== $read $size $to_enum $chomp $each_line $readlines $split $===".split(" "));
(function(b,c){var d=m(b,"Kernel"),e=[d].concat(c),h;a.defn(d,"$open",h=function(c,b){var d,f=h.$$p,g=f||w,k=w,k=arguments.length;d=k-1;0>d&&(d=0);d=Array(d);for(var m=1;m<k;m++)d[m-1]=arguments[m];f&&(h.$$p=null);k=v(a.const_get_relative(e,"File"),"new",[c].concat(a.to_a(d)));return g!==w?a.yield1(g,k):k},h.$$arity=-2)})(b[0],b);(function(b,$super,d){function h(){}b=h=f(b,$super,"File",h);var u=b.$$proto,l=[b].concat(d),n,m,v,p,t,F,C,r;u.eof=u.path=w;b.$attr_reader("eof");b.$attr_reader("lineno");
b.$attr_reader("path");a.defn(b,"$initialize",n=function(b,d){var e=w;null==d&&(d="r");this.path=b;this.contents=w;this.eof=!1;this.lineno=0;d=d.$delete("b");e=/:(.*)/;this.flags=d=d.$gsub(e,"");return a.const_get_relative(l,"JAVASCRIPT_IO_MODULE")["$=="]("node")?this.fd=require("fs").openSync(b,d):w},n.$$arity=-2);a.defn(b,"$read",m=function(){var b=w;if(e(this.eof))return"";b=a.const_get_relative(l,"File").$read(this.path);this.eof=!0;this.lineno=b.$size();return b},m.$$arity=0);a.defn(b,"$each_line",
v=function(b){var d=v.$$p,h=d||w,f=w;null==k["/"]&&(k["/"]=w);null==b&&(b=k["/"]);d&&(v.$$p=null);if(e(this.eof))return h!==w?this:[].$to_enum();if(h!==w){f=a.const_get_relative(l,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var d=f.$chomp(),f=f.length!=d.length,d=d.split(b),g=0,n=d.length;g<n;g++)this.lineno+=1,g<n-1||f?a.yield1(h,d[g]+b):a.yield1(h,d[g]);this.eof=!0;return this}return this.$read().$each_line()},v.$$arity=-1);a.defn(b,"$readlines",p=function(){return a.const_get_relative(l,
"File").$readlines(this.path)},p.$$arity=0);a.defs(b,"$readlines",t=function(b,d){var e=w;null==k["/"]&&(k["/"]=w);null==d&&(d=k["/"]);e=a.const_get_relative(l,"File").$read(b);return e.$split(d)},t.$$arity=-2);a.defs(b,"$file?",F=function(a){return!0},F.$$arity=1);a.defs(b,"$readable?",C=function(a){return!0},C.$$arity=1);return a.defs(b,"$read",r=function(b){var d=w;return function(){d=a.const_get_relative(l,"JAVASCRIPT_IO_MODULE");if("node"["$==="](d))return require("fs").readFileSync(b,"utf8");
if("phantomjs"["$==="](d))return require("fs").read(b);if("java_nio"["$==="](d)){var e=Java.type("java.nio.file.Paths"),h=[];Java.type("java.nio.file.Files").readAllLines(e.get(b),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){h.push(a)});return h.join("\n")}if("xmlhttprequest"["$==="](d)){var h="",f=-1;try{e=new XMLHttpRequest,e.open("GET",b,!1),e.addEventListener("load",function(){f=this.status;if(0==f||200==f)h=this.responseText}),e.overrideMimeType("text/plain"),e.send()}catch(g){f=
0}if(404==f||0==f&&""==h)throw a.const_get_relative(l,"IOError").$new("No such file or directory: "+b);return h}return"spidermonkey"["$==="](d)?read(b):""}()},r.$$arity=1)})(b[0],null,b);return function(b,$super,d){function e(){}b=e=f(b,$super,"IO",e);var h=[b].concat(d),l;return a.defs(b,"$read",l=function(b){return a.const_get_relative(h,"File").$read(b)},l.$$arity=1)}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],w=a.nil,m=a.klass,v=a.send;a.add_stubs(["$[]=",
"$-"]);return function(b,$super,h){function g(){}b=g=m(b,$super,"MatchData",g);var c=b.$$proto;[b].concat(h);var d;c.matches=w;return(a.defn(b,"$[]=",d=function(c,b){var d=w,d=[c,b];v(this.matches,"[]=",a.to_a(d));var h=d,d=d.length,d="number"===typeof d?d-1:d["$-"](1);return h[d]},d.$$arity=2),w)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],w=a.module;return function(b,h){var f=w(b,"Kernel");[f].concat(h);var e;a.defn(f,"$freeze",e=function(){return this},
e.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(a){var b=[],w=a.nil,m=a.module,v=a.klass;return function(b,e){var h=[m(b,"ThreadSafe")].concat(e);(function(a,$super,b){function e(){}[e=v(a,$super,"Cache",e)].concat(b);return w})(h[0],a.const_get_qualified("::","Hash"),h)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],w=a.nil,m=a.klass,v=a.truthy,f=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));
return function(b,$super,h){function c(){}b=c=m(b,$super,"String",c);[b].concat(h);var d,D;v(b["$method_defined?"]("limit_bytesize"))||a.defn(b,"$limit_bytesize",d=function(a){var c=w,c=this.$bytes().$length(),c="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(!v(c))return this.$to_s();c=this.$byteslice(0,a);return c.$to_s()},d.$$arity=1);v(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.defn(b,"$unpack",D=function(a){var c;
return a["$=="]("C3")?f(this["$[]"](0,3).$bytes().$select(),"with_index",[],(c=function(a,c){null==c&&(c=w);return c["$even?"]()},c.$$s=this,c.$$arity=2,c)):this.$_original_unpack(a)},D.$$arity=1),w)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function b(a,h){return"number"===typeof a&&"number"===typeof h?a-h:a["$-"](h)}var m=a.nil,p=a.send,v=a.gvars,f=m;null==v.stdout&&(v.stdout=m);null==v.stderr&&(v.stderr=m);a.add_stubs(["$write_proc=","$-"]);f=[function(a){print(a)}];
p(v.stdout,"write_proc=",a.to_a(f));f[b(f.length,1)];f=[function(a){print(a)}];p(v.stderr,"write_proc=",a.to_a(f));return f[b(f.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(a){function b(a,h){return"number"===typeof a&&"number"===typeof h?a-h:a["$-"](h)}var m=a.nil,p=a.send,v=a.gvars,f=m;null==v.stdout&&(v.stdout=m);null==v.stderr&&(v.stderr=m);a.add_stubs(["$write_proc=","$-"]);f=[function(a){console.log(a)}];p(v.stdout,"write_proc=",a.to_a(f));f[b(f.length,1)];f=[function(a){console.error(a)}];
p(v.stderr,"write_proc=",a.to_a(f));return f[b(f.length,1)]};Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(a){var b=[],m=a.klass,p=a.truthy;a.add_stubs(["$exist?"]);return function(b,$super,e){function h(){}b=h=m(b,$super,"File",h);[b].concat(e);var g;return a.defs(b,"$readable?",g=function(a){return p(this["$exist?"](a))?"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    ":
!1},g.$$arity=1)}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var h=a.top,m=[],p=a.nil;a.add_stubs(["$require","$=="]);var v="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,f="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),e="object"===typeof window,k="object"===typeof Java&&Java.type,g="object"===typeof java,c="object"===typeof window&&"object"===typeof window.phantom,d=
"function"===typeof importScripts,D="object"===typeof JSRuntime,u,l,n,r;a.load("pathname");a.load("base64");"object"===typeof b&&"object"===typeof b.runtime&&(r=b.runtime,u=r.platform,l=r.engine,n=r.framework,r=r.ioModule);"undefined"===typeof u&&(v?(u=u||"node",l=l||"v8",f&&(n=n||"electron")):k?(u=plaform||"java",l=l||"nashorn"):g?(u=u||"java",l=l||"rhino"):D?(u=u||"standalone",n=n||"spidermonkey"):e&&(u=u||"browser",c&&(n=n||"phantomjs")),d&&(n=n||"webworker"));if("undefined"===typeof u)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");
"undefined"===typeof n&&(n="");"undefined"===typeof l&&(l="");if("undefined"!==typeof r){if("spidermonkey"!=r&&"phantomjs"!=r&&"node"!=r&&"java_nio"!=r&&"xmlhttprequest"!=r)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");}else if("spidermonkey"===n)r="spidermonkey";else if("phantomjs"===n)r="phantomjs";else if("node"===u)r="node";else if("nashorn"===l)r="java_nio";else if("browser"===u||"undefined"!==typeof XmlHTTPRequest)r=
"xmlhttprequest";else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(m[0],"JAVASCRIPT_IO_MODULE",r);a.const_set(m[0],"JAVASCRIPT_PLATFORM",u);a.const_set(m[0],"JAVASCRIPT_ENGINE",l);a.const_set(m[0],"JAVASCRIPT_FRAMEWORK",n);h.$require("asciidoctor/js/opal_ext/file");h.$require("asciidoctor/js/opal_ext/match_data");h.$require("asciidoctor/js/opal_ext/kernel");h.$require("asciidoctor/js/opal_ext/thread_safe");
h.$require("asciidoctor/js/opal_ext/string");a.const_get_relative(m,"JAVASCRIPT_ENGINE")["$=="]("nashorn")&&h.$require("asciidoctor/js/opal_ext/nashorn/io");a.const_get_relative(m,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&h.$require("asciidoctor/js/opal_ext/electron/io");return a.const_get_relative(m,"JAVASCRIPT_PLATFORM")["$=="]("node")?(h.$require("asciidoctor/js/opal_ext/node/file"),a.load("nodejs")):p};Opal.modules["asciidoctor/js/rx"]=function(a){var b=[],m=a.module,b=[m(b[0],"Asciidoctor")].concat(b);
a.const_set(b[0],"P_L","A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ad\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc");
a.const_set(b[0],"P_Nl","\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef");a.const_set(b[0],"P_Nd","0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19");
a.const_set(b[0],"P_Pc","_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f");a.const_set(b[0],"CC_ALPHA",""+a.const_get_relative(b,"P_L")+a.const_get_relative(b,"P_Nl"));a.const_set(b[0],"CG_ALPHA","["+a.const_get_relative(b,"CC_ALPHA")+"]");a.const_set(b[0],"CC_ALNUM",""+a.const_get_relative(b,"CC_ALPHA")+a.const_get_relative(b,"P_Nd"));a.const_set(b[0],"CG_ALNUM","["+a.const_get_relative(b,"CC_ALNUM")+"]");a.const_set(b[0],"CC_WORD",""+a.const_get_relative(b,"CC_ALNUM")+a.const_get_relative(b,
"P_Pc"));a.const_set(b[0],"CG_WORD","["+a.const_get_relative(b,"CC_WORD")+"]");a.const_set(b[0],"CG_BLANK","[ \\t]");a.const_set(b[0],"CC_EOL","(?=\\n|$)");a.const_set(b[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]");a.const_set(b[0],"CC_ALL","[\\s\\S]")};Opal.modules.strscan=function(a){var b=[],m=a.nil,p=a.klass,v=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,h){function g(){}b=g=p(b,$super,"StringScanner",g);var c=b.$$proto;
[b].concat(h);var d,D,u,l,n,r,q,G,t,Z,C,K,ia,y,B,M,Q,W,N,P,ba,O,H,L,A;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=m;b.$attr_reader("pos");b.$attr_reader("matched");a.defn(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=m;this.working=a;return this.match=[]},d.$$arity=1);b.$attr_reader("string");a.defn(b,"$beginning_of_line?",D=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},D.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.defn(b,"$scan",u=
function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):m},u.$$arity=1);a.defn(b,"$scan_until",l=function(a){a=this.$anchor(a);for(var c=this.pos,b=this.working,d;;)if(d=a.exec(b),c+=1,b=b.substr(1),null==d){if(0===b.length)return this.matched=
m}else return this.matched=this.string.substr(this.pos,c-this.pos-1+d[0].length),this.prev_pos=c-1,this.pos=c,this.working=b.substr(d[0].length),this.matched},l.$$arity=1);a.defn(b,"$[]",n=function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?m:c[a]},n.$$arity=1);a.defn(b,"$check",r=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:this.matched=a[0]},r.$$arity=1);a.defn(b,"$check_until",q=function(a){var c=this.prev_pos,b=this.pos;a=this.$scan_until(a);
a!==m&&(this.matched=a.substr(-1),this.working=this.string.substr(b));this.prev_pos=c;this.pos=b;return a},q.$$arity=1);a.defn(b,"$peek",G=function(a){return this.working.substring(0,a)},G.$$arity=1);a.defn(b,"$eos?",t=function(){return 0===this.working.length},t.$$arity=0);a.defn(b,"$exist?",Z=function(a){a=a.exec(this.working);return null==a?m:0==a.index?0:a.index+1},Z.$$arity=1);a.defn(b,"$skip",C=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=m;a=a[0];var c=
a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c},C.$$arity=1);a.defn(b,"$skip_until",K=function(a){a=this.$scan_until(a);if(a===m)return m;this.matched=a.substr(-1);return a.length},K.$$arity=1);a.defn(b,"$get_byte",ia=function(){var a=m;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=m;return a},ia.$$arity=0);a.alias(b,"getch",
"get_byte");a.defn(b,"$match?",y=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return m;this.prev_pos=this.pos;return a[0].length},y.$$arity=1);a.defn(b,"$pos=",B=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},B.$$arity=1);a.defn(b,"$matched_size",M=function(){return this.matched===m?m:this.matched.length},M.$$arity=0);a.defn(b,"$post_match",Q=function(){return this.matched===m?m:this.string.substr(this.pos)},Q.$$arity=0);a.defn(b,
"$pre_match",W=function(){return this.matched===m?m:this.string.substr(0,this.prev_pos)},W.$$arity=0);a.defn(b,"$reset",N=function(){this.working=this.string;this.matched=m;return this.pos=0},N.$$arity=0);a.defn(b,"$rest",P=function(){return this.working},P.$$arity=0);a.defn(b,"$rest?",ba=function(){return 0!==this.working.length},ba.$$arity=0);a.defn(b,"$rest_size",O=function(){return this.$rest().$size()},O.$$arity=0);a.defn(b,"$terminate",H=function(){var c=m;this.match=m;c=[this.string.$length()];
v(this,"pos=",a.to_a(c));var b=c,c=c.length,c="number"===typeof c?c-1:c["$-"](1);return b[c]},H.$$arity=0);a.defn(b,"$unscan",L=function(){this.pos=this.prev_pos;this.match=this.prev_pos=m;return this},L.$$arity=0);b.$private();return(a.defn(b,"$anchor",A=function(a){var c=a.toString().match(/\/([^\/]+)$/),c=c?c[1]:void 0;return new RegExp("^(?:"+a.source+")",c)},A.$$arity=1),m)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");
b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules["asciidoctor/converter/base"]=function(a){var b=[],m=a.nil,p=a.module,v=a.klass,f=a.hash2,e=a.truthy;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(b,h){var c=[p(b,"Asciidoctor")].concat(h);(function(a,c){[p(a,"Converter")].concat(c);m})(c[0],c);(function(c,$super,b){function e(){}c=e=v(c,$super,"Base",e);b=[c].concat(b);return c.$include(a.const_get_relative(b,"Converter"))})(a.const_get_relative(c,
"Converter"),null,c);(function(c,$super,b){function h(){}c=h=v(c,$super,"BuiltIn",h);[c].concat(b);var g,k,p,r;a.defn(c,"$initialize",g=function(a,c){null==c&&f([],{});return m},g.$$arity=-2);a.defn(c,"$convert",k=function(a,c,b){var d;null==c&&(c=m);null==b&&(b=f([],{}));c=e(d=c)?d:a.$node_name();return e(b["$empty?"]())?this.$send(c,a):this.$send(c,a,b)},k.$$arity=-2);a.alias(c,"handles?","respond_to?");a.defn(c,"$content",p=function(a){return a.$content()},p.$$arity=1);a.alias(c,"pass","content");
return(a.defn(c,"$skip",r=function(a){return m},r.$$arity=1),m)&&"skip"})(a.const_get_relative(c,"Converter"),null,c)}(b[0],b)};Opal.modules["asciidoctor/converter/factory"]=function(a){var b=[],m=a.nil,p=a.module,v=a.klass,f=a.truthy,e=a.hash2,k=a.send;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $key?".split(" "));return function(b,c){var d=[p(b,"Asciidoctor")].concat(c);(function(c,b){var d=
[p(c,"Converter")].concat(b);(function(c,$super,b){function d(){}c=d=v(c,$super,"Factory",d);var h=c.$$proto,g=[c].concat(b),l,u,p,D,r;h.converters=h.star_converter=m;c.__default__=m;(function(c,b){[c].concat(b);var d,h,g,l,k,n;a.defn(c,"$default",d=function(c){var b;null==this.__default__&&(this.__default__=m);null==c&&(c=!0);if(!f(c))return f(b=this.__default__)?b:this.$new();var d;if(f(b=this.__default__))d=b;else a:{try{f(a.const_get_qualified("::","ThreadSafe","skip_raise")?"constant":m)||this.$require("thread_safe".$to_s());
d=this.$new(a.const_get_qualified(a.const_get_qualified("::","ThreadSafe"),"Cache").$new());break a}catch(e){if(a.rescue(e,[a.const_get_qualified("::","LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");d=this.$new();break a}finally{a.pop_exception()}else throw e;}d=void 0}return this.__default__=d},d.$$arity=-1);a.defn(c,"$register",h=function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,
c)},h.$$arity=-2);a.defn(c,"$resolve",g=function(a){return this.$default().$resolve(a)},g.$$arity=1);a.defn(c,"$create",l=function(a,c){null==c&&(c=e([],{}));return this.$default().$create(a,c)},l.$$arity=-2);a.defn(c,"$converters",k=function(){return this.$default().$converters()},k.$$arity=0);return(a.defn(c,"$unregister_all",n=function(){return this.$default().$unregister_all()},n.$$arity=0),m)&&"unregister_all"})(a.get_singleton_class(c),g);c.$attr_reader("converters");a.defn(c,"$initialize",
l=function(a){var c;null==a&&(a=m);this.converters=f(c=a)?c:e([],{});return this.star_converter=m},l.$$arity=-1);a.defn(c,"$register",u=function(c,b){var d;null==b&&(b=["*"]);k(b,"each",[],(d=function(b){var e=d.$$s||this,h=m;null==e.converters&&(e.converters=m);null==b&&(b=m);h=[b,c];k(e.converters,"[]=",a.to_a(h));var f=h,h=h.length,h="number"===typeof h?h-1:h["$-"](1);f[h];return b["$=="]("*")?e.star_converter=c:m},d.$$s=this,d.$$arity=1,d));return m},u.$$arity=-2);a.defn(c,"$resolve",p=function(a){var c,
b;return f(c=this.converters)?f(b=this.converters["$[]"](a))?b:this.star_converter:c},p.$$arity=1);a.defn(c,"$unregister_all",D=function(){this.converters.$clear();return this.star_converter=m},D.$$arity=0);return(a.defn(c,"$create",r=function(c,b){var d,h,l,k,n,u,t,v,p,C,D,r,F=this,q=m,G=q=m,K=m;null==b&&(b=e([],{}));if(f(q=F.$resolve(c)))return f(a.const_get_qualified("::","Class")["$==="](q))?q.$new(c,b):q;q=function(){G=c;return"html5"["$==="](G)?(f((h=a.const_get_qualified("::","Asciidoctor",
"skip_raise"))&&(d=a.const_get_qualified(h,"Converter","skip_raise"))&&a.const_get_qualified(d,"Html5Converter","skip_raise")?"constant":m)||F.$require("asciidoctor/converter/html5".$to_s()),a.const_get_relative(g,"Html5Converter").$new(c,b)):"docbook5"["$==="](G)?(f((k=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(l=a.const_get_qualified(k,"Converter","skip_raise"))&&a.const_get_qualified(l,"DocBook5Converter","skip_raise")?"constant":m)||F.$require("asciidoctor/converter/docbook5".$to_s()),
a.const_get_relative(g,"DocBook5Converter").$new(c,b)):"docbook45"["$==="](G)?(f((u=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(n=a.const_get_qualified(u,"Converter","skip_raise"))&&a.const_get_qualified(n,"DocBook45Converter","skip_raise")?"constant":m)||F.$require("asciidoctor/converter/docbook45".$to_s()),a.const_get_relative(g,"DocBook45Converter").$new(c,b)):"manpage"["$==="](G)?(f((v=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(t=a.const_get_qualified(v,"Converter",
"skip_raise"))&&a.const_get_qualified(t,"ManPageConverter","skip_raise")?"constant":m)||F.$require("asciidoctor/converter/manpage".$to_s()),a.const_get_relative(g,"ManPageConverter").$new(c,b)):m}();if(!f(b["$key?"]("template_dirs")))return q;f((C=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(p=a.const_get_qualified(C,"Converter","skip_raise"))&&a.const_get_qualified(p,"TemplateConverter","skip_raise")?"constant":m)||F.$require("asciidoctor/converter/template".$to_s());f((r=a.const_get_qualified("::",
"Asciidoctor","skip_raise"))&&(D=a.const_get_qualified(r,"Converter","skip_raise"))&&a.const_get_qualified(D,"CompositeConverter","skip_raise")?"constant":m)||F.$require("asciidoctor/converter/composite".$to_s());K=a.const_get_relative(g,"TemplateConverter").$new(c,b["$[]"]("template_dirs"),b);return a.const_get_relative(g,"CompositeConverter").$new(c,K,q)},r.$$arity=-2),m)&&"create"})(d[0],null,d)})(d[0],d)}(b[0],b)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,c){return"number"===
typeof a&&"number"===typeof c?a-c:a["$-"](c)}var m=a.top,p=[],v=a.nil,f=a.module,e=a.send,k=a.truthy,g=a.range,c=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(d,m){var u=[f(d,"Asciidoctor")].concat(m);(function(d,n){var m=f(d,"Converter"),u=[m].concat(n),w,t;(function(c,b){var d=f(c,"Config"),h=[d].concat(b),g;a.defn(d,"$register_for",g=function(c){var b,
d,f,g=v,g=arguments.length,l=g-0;0>l&&(l=0);f=Array(l);for(l=0;l<g;l++)f[l-0]=arguments[l];a.const_get_relative(h,"Factory").$register(this,f);g=function(a,c){[a].concat(c);return a}(a.get_singleton_class(this),h);f["$=="](["*"])?e(g,"send",["define_method","converts?"],(b=function(a){return!0},b.$$s=this,b.$$arity=1,b)):e(g,"send",["define_method","converts?"],(d=function(a){null==a&&(a=v);return f["$include?"](a)},d.$$s=this,d.$$arity=1,d));return v},g.$$arity=-1)})(u[0],u);(function(d,l){var n=
f(d,"BackendInfo"),m=[n].concat(l),u,w,t,p,D,r;a.defn(n,"$backend_info",u=function(){var a;null==this.backend_info&&(this.backend_info=v);return this.backend_info=k(a=this.backend_info)?a:this.$setup_backend_info()},u.$$arity=0);a.defn(n,"$setup_backend_info",w=function(){var b=v,d=v,e=v,h=v;null==this.backend&&(this.backend=v);k(this.backend)||this.$raise(a.const_get_qualified("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class());b=this.backend.$sub(a.const_get_relative(m,
"TrailingDigitsRx"),"");k(d=a.const_get_relative(m,"DEFAULT_EXTENSIONS")["$[]"](b))?e=d["$[]"](g(1,-1,!1)):(b="html",d=".html",h=e="html");return c(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:b,outfilesuffix:d,filetype:e,htmlsyntax:h})},w.$$arity=0);a.defn(n,"$filetype",t=function(c){var d=v;null==c&&(c=v);return k(c)?(d=["filetype",c],e(this.$backend_info(),"[]=",a.to_a(d)),d[b(d.length,1)]):this.$backend_info()["$[]"]("filetype")},t.$$arity=-1);a.defn(n,"$basebackend",p=
function(c){var d=v;null==c&&(c=v);return k(c)?(d=["basebackend",c],e(this.$backend_info(),"[]=",a.to_a(d)),d[b(d.length,1)]):this.$backend_info()["$[]"]("basebackend")},p.$$arity=-1);a.defn(n,"$outfilesuffix",D=function(c){var d=v;null==c&&(c=v);return k(c)?(d=["outfilesuffix",c],e(this.$backend_info(),"[]=",a.to_a(d)),d[b(d.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},D.$$arity=-1);a.defn(n,"$htmlsyntax",r=function(c){var d=v;null==c&&(c=v);return k(c)?(d=["htmlsyntax",c],e(this.$backend_info(),
"[]=",a.to_a(d)),d[b(d.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},r.$$arity=-1)})(u[0],u);(function(c,b){var d=[c].concat(b),e;return(a.defn(c,"$included",e=function(c){return c.$extend(a.const_get_relative(d,"Config"))},e.$$arity=1),v)&&"included"})(a.get_singleton_class(m),u);m.$include(a.const_get_relative(u,"Config"));m.$include(a.const_get_relative(u,"BackendInfo"));a.defn(m,"$initialize",w=function(a,b){null==b&&c([],{});this.backend=a;return this.$setup_backend_info()},w.$$arity=
-2);a.defn(m,"$convert",t=function(b,d,e){null==e&&c([],{});return this.$raise(a.const_get_qualified("::","NotImplementedError"))},t.$$arity=-2);a.alias(m,"convert_with_options","convert")})(u[0],u);(function(c,b){var d=f(c,"Writer"),h=[d].concat(b),g;a.defn(d,"$write",g=function(c,b){var d;k(b["$respond_to?"]("write"))?(b.$write(c.$chomp()),b.$write(a.const_get_relative(h,"EOL"))):e(a.const_get_qualified("::","File"),"open",[b,"w"],(d=function(a){null==a&&(a=v);return a.$write(c)},d.$$s=this,d.$$arity=
1,d));return v},g.$$arity=2)})(u[0],u);(function(c,b){var d=f(c,"VoidWriter"),e=[d].concat(b),h;d.$include(a.const_get_relative(e,"Writer"));a.defn(d,"$write",h=function(a,c){return v},h.$$arity=2)})(u[0],u)})(p[0],p);m.$require("asciidoctor/converter/base");return m.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],m=a.nil,p=a.module,v=a.klass,f=a.send,e=a.truthy,k=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));
return function(b,c){var d=[p(b,"Asciidoctor")].concat(c);(function(c,$super,b){function d(){}c=d=v(c,$super,"CompositeConverter",d);var h=c.$$proto;[c].concat(b);var g,p,t,r;h.converter_map=h.converters=m;c.$attr_reader("converters");a.defn(c,"$initialize",g=function(a,c){var b,d,h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var g=1;g<h;g++)d[g-1]=arguments[g];this.backend=a;f(this.converters=d.$flatten().$compact(),"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=m);return e(a["$respond_to?"]("composed"))?
a.$composed(c):m},b.$$s=this,b.$$arity=1,b));return this.converter_map=k([],{})},g.$$arity=-2);a.defn(c,"$convert",p=function(a,c,b){var d;null==c&&(c=m);null==b&&(b=k([],{}));c=e(d=c)?d:a.$node_name();return this.$converter_for(c).$convert(a,c,b)},p.$$arity=-2);a.alias(c,"convert_with_options","convert");a.defn(c,"$converter_for",t=function(c){var b;b=m;e(b=this.converter_map["$[]"](c))?c=b:(b=[c,this.$find_converter(c)],f(this.converter_map,"[]=",a.to_a(b)),c=b,b=b.length,b="number"===typeof b?
b-1:b["$-"](1),c=c[b]);return c},t.$$arity=1);return(a.defn(c,"$find_converter",r=function(c){try{var b;f(this.converters,"each",[],(b=function(b){null==b&&(b=m);if(e(b["$handles?"](c)))a.ret(b);else return m},b.$$s=this,b.$$arity=1,b));return this.$raise("Could not find a converter to handle transform: "+c)}catch(d){if(d===a.returner)return d.$v;throw d;}},r.$$arity=1),m)&&"find_converter"})(a.const_get_relative(d,"Converter"),a.const_get_qualified(a.const_get_relative(d,"Converter"),"Base"),d)}(b[0],
b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function v(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function f(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function e(a,c){return"number"===typeof a&&"number"===
typeof c?a<c:a["$<"](c)}function k(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var g=[],c=a.nil,d=a.module,D=a.klass,u=a.send,l=a.hash2,n=a.truthy;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $select $rows $colspan $rowspan $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match $length".split(" "));
return function(g,r){var q=[d(g,"Asciidoctor")].concat(r);(function(d,$super,g){function r(){}d=r=D(d,$super,"Html5Converter",r);var q=d.$$proto,G=[d].concat(g),y,M,Q,W,N,P,B,O,H,L,A,x,S,da,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea,Fa,Ga,Ha;g=c;q.xml_mode=q.void_element_slash=q.stylesheets=c;g=[[c,c,c]];u(a.const_set(G[0],"QUOTE_TAGS",l("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>",
"</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(g));g[b(g.length,1)];a.const_set(G[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);a.const_set(G[0],"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(G[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(d,"$initialize",
y=function(b,d){null==d&&(d=l([],{}));this.xml_mode=d["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=n(this.xml_mode)?"/":c;return this.stylesheets=a.const_get_relative(G,"Stylesheets").$instance()},y.$$arity=-2);a.defn(d,"$document",M=function(b){var d,e,h,f,g,k=c,z=c,t=c,Ba=c,D=c,X=c,wa=c,r=wa=wa=c,C=X=r=X=r=wa=c,z=z=wa=wa=r=c,k=[],z=this.void_element_slash,t="<br"+z+">";n((Ba=b.$attr("asset-uri-scheme","https"))["$empty?"]())||(Ba=""+Ba+":");D=""+Ba+"//cdnjs.cloudflare.com/ajax/libs";
X=n(d=m(b.$safe(),a.const_get_qualified(a.const_get_relative(G,"SafeMode"),"SECURE")))?d:b["$attr?"]("linkcss");k["$<<"]("<!DOCTYPE html>");wa=n(b["$attr?"]("nolang"))?c:' lang="'+b.$attr("lang","en")+'"';k["$<<"]("<html"+(n(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':c)+wa+">");k["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+z+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+z+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
z+'>\n<meta name="generator" content="Asciidoctor '+b.$attr("asciidoctor-version")+'"'+z+">");if(n(b["$attr?"]("app-name")))k["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+'"'+z+">");if(n(b["$attr?"]("description")))k["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+z+">");if(n(b["$attr?"]("keywords")))k["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+z+">");if(n(b["$attr?"]("authors")))k["$<<"]('<meta name="author" content="'+b.$attr("authors")+
'"'+z+">");if(n(b["$attr?"]("copyright")))k["$<<"]('<meta name="copyright" content="'+b.$attr("copyright")+'"'+z+">");k["$<<"]("<title>"+b.$doctitle(l(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if(n(a.const_get_relative(G,"DEFAULT_STYLESHEET_KEYS")["$include?"](b.$attr("stylesheet")))){if(n(wa=b.$attr("webfonts")))k["$<<"]('<link rel="stylesheet" href="'+Ba+"//fonts.googleapis.com/css?family="+(n(wa["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":
wa)+'"'+z+">");if(n(X))k["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(a.const_get_relative(G,"DEFAULT_STYLESHEET_NAME"),b.$attr("stylesdir",""),!1)+'"'+z+">");else k["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(n(b["$attr?"]("stylesheet")))if(n(X))k["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+z+">");else k["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),b.$attr("stylesdir",
"")),l(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if(n(b["$attr?"]("icons","font")))if(n(b["$attr?"]("iconfont-remote")))k["$<<"]('<link rel="stylesheet" href="'+b.$attr("iconfont-cdn",""+D+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+z+">");else wa=""+b.$attr("iconfont-name","font-awesome")+".css",k["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(wa,b.$attr("stylesdir",""),!1)+'"'+z+">");r=wa=b.$attr("source-highlighter");if("coderay"["$==="](r)){if(b.$attr("coderay-css",
"class")["$=="]("class"))if(n(X))k["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),b.$attr("stylesdir",""),!1)+'"'+z+">");else k["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](r)&&b.$attr("pygments-css","class")["$=="]("class"))if(r=b.$attr("pygments-style"),n(X))k["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(r),b.$attr("stylesdir",""),!1)+'"'+z+">");
else k["$<<"](this.stylesheets.$embed_pygments_stylesheet(r));if(!n((X=b.$docinfo())["$empty?"]()))k["$<<"](X);k["$<<"]("</head>");r=[];if(n(b.$id()))r["$<<"]('id="'+b.$id()+'"');if(n(n(d=n(e=n(h=X=b["$sections?"]())?b["$attr?"]("toc-class"):h)?b["$attr?"]("toc"):e)?b["$attr?"]("toc-placement","auto"):d))r["$<<"]('class="'+b.$doctype()+" "+b.$attr("toc-class")+" toc-"+b.$attr("toc-position","header")+'"');else r["$<<"]('class="'+b.$doctype()+'"');if(n(b["$attr?"]("max-width")))r["$<<"]('style="max-width: '+
b.$attr("max-width")+';"');k["$<<"]("<body "+p(r," ")+">");if(!n(b.$noheader())){k["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){k["$<<"]("<h1>"+b.$doctitle()+" Manual Page</h1>");if(n(n(d=n(e=X)?b["$attr?"]("toc"):e)?b["$attr?"]("toc-placement","auto"):d))k["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");k["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+
b.$attr("manname")+" - "+b.$attr("manpurpose")+"</p>\n</div>")}else{if(n(b["$has_header?"]())){if(!n(b.$notitle()))k["$<<"]("<h1>"+b.$header().$title()+"</h1>");C=[];if(n(b["$attr?"]("author"))){C["$<<"]('<span id="author" class="author">'+b.$attr("author")+"</span>"+t);if(n(b["$attr?"]("email")))C["$<<"]('<span id="email" class="email">'+b.$sub_macros(b.$attr("email"))+"</span>"+t);n(v(r=b.$attr("authorcount").$to_i(),1))&&u(a.Range.$new(2,r,!1),"each",[],(f=function(a){null==a&&(a=c);C["$<<"]('<span id="author'+
a+'" class="author">'+b.$attr("author_"+a)+"</span>"+t);return n(b["$attr?"]("email_"+a))?C["$<<"]('<span id="email'+a+'" class="email">'+b.$sub_macros(b.$attr("email_"+a))+"</span>"+t):c},f.$$s=this,f.$$arity=1,f))}if(n(b["$attr?"]("revnumber")))C["$<<"]('<span id="revnumber">'+(n(d=b.$attr("version-label"))?d:"").$downcase()+" "+b.$attr("revnumber")+(n(b["$attr?"]("revdate"))?",":"")+"</span>");if(n(b["$attr?"]("revdate")))C["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if(n(b["$attr?"]("revremark")))C["$<<"](""+
t+'<span id="revremark">'+b.$attr("revremark")+"</span>");n(C["$empty?"]())||(k["$<<"]('<div class="details">'),k.$concat(C),k["$<<"]("</div>"))}if(n(n(d=n(e=X)?b["$attr?"]("toc"):e)?b["$attr?"]("toc-placement","auto"):d))k["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}k["$<<"]("</div>")}k["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");n(n(d=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():
d)&&(k["$<<"]('<div id="footnotes">\n<hr'+z+">"),u(b.$footnotes(),"each",[],(g=function(a){null==a&&(a=c);return k["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),k["$<<"]("</div>"));if(!n(b.$nofooter())){k["$<<"]('<div id="footer">');k["$<<"]('<div id="footer-text">');if(n(b["$attr?"]("revnumber")))k["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+t);if(n(n(d=b["$attr?"]("last-update-label"))?
b["$attr?"]("reproducible")["$!"]():d))k["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));k["$<<"]("</div>");k["$<<"]("</div>")}if(!n((X=b.$docinfo("footer"))["$empty?"]()))k["$<<"](X);r=wa;"highlightjs"["$==="](r)||"highlight.js"["$==="](r)?(wa=b.$attr("highlightjsdir",""+D+"/highlight.js/8.9.1"),k["$<<"]('<link rel="stylesheet" href="'+wa+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+z+">"),k["$<<"]('<script src="'+wa+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](r)&&(wa=b.$attr("prettifydir",""+D+"/prettify/r298"),k["$<<"]('<link rel="stylesheet" href="'+wa+"/"+b.$attr("prettify-theme","prettify")+'.min.css"'+z+">"),k["$<<"]('<script src="'+wa+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));n(b["$attr?"]("stem"))&&(z=b.$attr("eqnums","none"),n(z["$empty?"]())&&(z="AMS"),z=' equationNumbers: { autoNumber: "'+z+'" } ',k["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+
a.const_get_relative(G,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+a.const_get_relative(G,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+a.const_get_relative(G,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+z+'}\n});\n\x3c/script>\n<script src="'+D+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));
k["$<<"]("</body>");k["$<<"]("</html>");return p(k,a.const_get_relative(G,"EOL"))},M.$$arity=1);a.defn(d,"$embedded",Q=function(b){var d,e,h,f,g=c,l=c,k=c,g=[];b.$doctype()["$=="]("manpage")?(n(b.$notitle())||(l=n(b.$id())?' id="'+b.$id()+'"':c,g["$<<"]("<h1"+l+">"+b.$doctitle()+" Manual Page</h1>")),g["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+b.$attr("manname")+" - "+b.$attr("manpurpose")+"</p>\n</div>")):n(n(d=b["$has_header?"]())?b.$notitle()["$!"]():d)&&(l=
n(b.$id())?' id="'+b.$id()+'"':c,g["$<<"]("<h1"+l+">"+b.$header().$title()+"</h1>"));if(n(n(d=n(e=n(h=b["$sections?"]())?b["$attr?"]("toc"):h)?(k=b.$attr("toc-placement"))["$!="]("macro"):e)?k["$!="]("preamble"):d))g["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");g["$<<"](b.$content());n(n(d=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():d)&&(g["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),u(b.$footnotes(),
"each",[],(f=function(a){null==a&&(a=c);return g["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},f.$$s=this,f.$$arity=1,f)),g["$<<"]("</div>"));return p(g,a.const_get_relative(G,"EOL"))},Q.$$arity=1);a.defn(d,"$outline",W=function(b,d){var h,g,k=c,m=c,z=c,w=c,v=c,t=c;null==d&&(d=l([],{}));if(!n(b["$sections?"]()))return c;k=n(h=d["$[]"]("sectnumlevels"))?h:b.$document().$attr("sectnumlevels",3).$to_i();
m=n(h=d["$[]"]("toclevels"))?h:b.$document().$attr("toclevels",2).$to_i();z=[];w=b.$sections();v=(t=w["$[]"](0)).$level();n((h=v["$=="](0))?t.$special():v["$=="](0))&&(v=1);z["$<<"]('<ul class="sectlevel'+v+'">');u(w,"each",[],(g=function(a){var b=g.$$s||this,d,h,u=c,U=c;null==a&&(a=c);u=n(n(d=n(h=a.$numbered())?a.$caption()["$!"]():h)?f(a.$level(),k):d)?""+a.$sectnum()+" ":c;return n(n(d=e(a.$level(),m))?U=b.$outline(a,l(["toclevels","secnumlevels"],{toclevels:m,secnumlevels:k})):d)?(z["$<<"]('<li><a href="#'+
a.$id()+'">'+u+a.$captioned_title()+"</a>"),z["$<<"](U),z["$<<"]("</li>")):z["$<<"]('<li><a href="#'+a.$id()+'">'+u+a.$captioned_title()+"</a></li>")},g.$$s=this,g.$$arity=1,g));z["$<<"]("</ul>");return p(z,a.const_get_relative(G,"EOL"))},W.$$arity=-2);a.defn(d,"$section",N=function(a){var b,d,e=c,h=c,g=c,l=c,m=c,u=c,z=c,w=c,X=z=c,w=c,e=a.$level();n((b=e["$=="](0))?a.$special():e["$=="](0))&&(e=1);h="h"+k(e,1);g=l=m=u=c;n(a.$id())&&(g=' id="'+(z=a.$id())+'"',n((w=a.$document())["$attr?"]("sectanchors"))&&
(l='<a class="anchor" href="#'+z+'"></a>'),n(w["$attr?"]("sectlinks"))&&(m='<a class="link" href="#'+z+'">',u="</a>"));if(e["$=="](0))return"<h1"+g+' class="sect0">'+l+m+a.$title()+u+"</h1>\n"+a.$content();z=n(X=a.$role())?' class="sect'+e+" "+X+'"':' class="sect'+e+'"';w=n(n(b=n(d=a.$numbered())?a.$caption()["$!"]():d)?f(e,a.$document().$attr("sectnumlevels",3).$to_i()):b)?""+a.$sectnum()+" ":c;return"<div"+z+">\n<"+h+g+">"+l+m+w+a.$captioned_title()+u+"</"+h+">\n"+(e["$=="](1)?'<div class="sectionbody">\n'+
a.$content()+"\n</div>":a.$content())+"\n</div>"},N.$$arity=1);a.defn(d,"$admonition",P=function(a){var b,d=c,e=c,h=c,f=c,g=c,d=n(a.$id())?' id="'+a.$id()+'"':c,e=a.$attr("name"),h=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":c,f=n(a.$document()["$attr?"]("icons"))?n(n(b=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+e+'" title="'+a.$caption()+'"></i>':'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":
'<div class="title">'+a.$caption()+"</div>";return"<div"+d+' class="admonitionblock '+e+(n(b=g=a.$role())?" "+g:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+f+'\n</td>\n<td class="content">\n'+h+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},P.$$arity=1);a.defn(d,"$audio",B=function(a){var b=c,d=c,e=c,h=e=c,b=this.xml_mode,d=n(a.$id())?' id="'+a.$id()+'"':c,e=["audioblock",a.$role()].$compact(),e=' class="'+p(e," ")+'"',h=n(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":c;
return"<div"+d+e+">\n"+h+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+(n(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",b):c)+(n(a["$option?"]("nocontrols"))?c:this.$append_boolean_attribute("controls",b))+(n(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",b):c)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},B.$$arity=1);a.defn(d,"$colist",O=function(b){var d,e,h=c,f=c,g=c,l=g=c,h=[],f=n(b.$id())?' id="'+
b.$id()+'"':c,g=["colist",b.$style(),b.$role()].$compact(),g=' class="'+p(g," ")+'"';h["$<<"]("<div"+f+g+">");if(n(b["$title?"]()))h["$<<"]('<div class="title">'+b.$title()+"</div>");n(b.$document()["$attr?"]("icons"))?(h["$<<"]("<table>"),l=b.$document()["$attr?"]("icons","font"),u(b.$items(),"each_with_index",[],(d=function(a,e){var f=d.$$s||this,g=c,g=c;null==f.void_element_slash&&(f.void_element_slash=c);null==a&&(a=c);null==e&&(e=c);g=k(e,1);g=n(l)?'<i class="conum" data-value="'+g+'"></i><b>'+
g+"</b>":'<img src="'+b.$icon_uri("callouts/"+g)+'" alt="'+g+'"'+f.void_element_slash+">";return h["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+a.$text()+"</td>\n</tr>")},d.$$s=this,d.$$arity=2,d)),h["$<<"]("</table>")):(h["$<<"]("<ol>"),u(b.$items(),"each",[],(e=function(a){null==a&&(a=c);return h["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},e.$$s=this,e.$$arity=1,e)),h["$<<"]("</ol>"));h["$<<"]("</div>");return p(h,a.const_get_relative(G,"EOL"))},O.$$arity=1);a.defn(d,"$dlist",H=function(b){var d,e,h,f,
g=c,l=c,k=c,m=k=k=c,z=l=c,g=[],l=n(b.$id())?' id="'+b.$id()+'"':c,k=b.$style(),k=("qanda"["$==="](k)?["qlist","qanda",b.$role()]:"horizontal"["$==="](k)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),k=' class="'+p(k," ")+'"';g["$<<"]("<div"+l+k+">");if(n(b["$title?"]()))g["$<<"]('<div class="title">'+b.$title()+"</div>");k=b.$style();"qanda"["$==="](k)?(g["$<<"]("<ol>"),u(b.$items(),"each",[],(d=function(b,e){var h=d.$$s||this,f;null==b&&(b=c);null==e&&(e=c);g["$<<"]("<li>");u([].concat(a.to_a(b)),
"each",[],(f=function(a){null==a&&(a=c);return g["$<<"]("<p><em>"+a.$text()+"</em></p>")},f.$$s=h,f.$$arity=1,f));if(n(e)){if(n(e["$text?"]()))g["$<<"]("<p>"+e.$text()+"</p>");if(n(e["$blocks?"]()))g["$<<"](e.$content())}return g["$<<"]("</li>")},d.$$s=this,d.$$arity=2,d)),g["$<<"]("</ol>")):"horizontal"["$==="](k)?(m=this.void_element_slash,g["$<<"]("<table>"),n(n(e=b["$attr?"]("labelwidth"))?e:b["$attr?"]("itemwidth"))&&(g["$<<"]("<colgroup>"),l=n(b["$attr?"]("labelwidth"))?' style="width: '+b.$attr("labelwidth").$chomp("%")+
'%;"':c,g["$<<"]("<col"+l+m+">"),l=n(b["$attr?"]("itemwidth"))?' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':c,g["$<<"]("<col"+l+m+">"),g["$<<"]("</colgroup>")),u(b.$items(),"each",[],(h=function(d,e){var f=h.$$s||this,l,k=c,z=c;null==d&&(d=c);null==e&&(e=c);g["$<<"]("<tr>");g["$<<"]('<td class="hdlist1'+(n(b["$option?"]("strong"))?" strong":c)+'">');k=[].concat(a.to_a(d));z=k["$[]"](-1);u(k,"each",[],(l=function(a){null==a&&(a=c);g["$<<"](a.$text());return n(a["$!="](z))?g["$<<"]("<br"+
m+">"):c},l.$$s=f,l.$$arity=1,l));g["$<<"]("</td>");g["$<<"]('<td class="hdlist2">');if(n(e)){if(n(e["$text?"]()))g["$<<"]("<p>"+e.$text()+"</p>");if(n(e["$blocks?"]()))g["$<<"](e.$content())}g["$<<"]("</td>");return g["$<<"]("</tr>")},h.$$s=this,h.$$arity=2,h)),g["$<<"]("</table>")):(g["$<<"]("<dl>"),z=n(b.$style())?c:' class="hdlist1"',u(b.$items(),"each",[],(f=function(b,d){var e=f.$$s||this,h;null==b&&(b=c);null==d&&(d=c);u([].concat(a.to_a(b)),"each",[],(h=function(a){null==a&&(a=c);return g["$<<"]("<dt"+
z+">"+a.$text()+"</dt>")},h.$$s=e,h.$$arity=1,h));if(n(d)){g["$<<"]("<dd>");if(n(d["$text?"]()))g["$<<"]("<p>"+d.$text()+"</p>");if(n(d["$blocks?"]()))g["$<<"](d.$content());return g["$<<"]("</dd>")}return c},f.$$s=this,f.$$arity=2,f)),g["$<<"]("</dl>"));g["$<<"]("</div>");return p(g,a.const_get_relative(G,"EOL"))},H.$$arity=1);a.defn(d,"$example",L=function(a){var b=c,d=c,e=c,b=n(a.$id())?' id="'+a.$id()+'"':c,d=n(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":c;return"<div"+
b+' class="'+(n(e=a.$role())?p(["exampleblock",e]," "):"exampleblock")+'">\n'+d+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},L.$$arity=1);a.defn(d,"$floating_title",A=function(a){var b=c,d=c,e=c,b="h"+k(a.$level(),1),d=n(a.$id())?' id="'+a.$id()+'"':c,e=[a.$style(),a.$role()].$compact();return"<"+b+d+' class="'+p(e," ")+'">'+a.$title()+"</"+b+">"},A.$$arity=1);a.defn(d,"$image",x=function(b){var d,h,f,g=c,l=c,k=c,m=c,u=c,z=c,w=c,X=c,w=k=k=l=l=g=c,g=b.$attr("target"),l=n(b["$attr?"]("width"))?
' width="'+b.$attr("width")+'"':c,k=n(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':c;n(n(d=n(h=n(f=b["$attr?"]("format","svg",!1))?f:g["$include?"](".svg"))?e(b.$document().$safe(),a.const_get_qualified(a.const_get_relative(G,"SafeMode"),"SECURE")):h)?n(h=m=b["$option?"]("inline"))?h:u=b["$option?"]("interactive"):d)&&(n(m)?z=n(d=this.$read_svg_contents(b,g))?d:'<span class="alt">'+b.$attr("alt")+"</span>":n(u)&&(w=n(b["$attr?"]("fallback"))?'<img src="'+b.$image_uri(b.$attr("fallback"))+
'" alt="'+b.$attr("alt")+'"'+l+k+this.void_element_slash+">":'<span class="alt">'+b.$attr("alt")+"</span>",z='<object type="image/svg+xml" data="'+b.$image_uri(g)+'"'+l+k+">"+w+"</object>"));z=n(d=z)?d:'<img src="'+b.$image_uri(g)+'" alt="'+b.$attr("alt")+'"'+l+k+this.void_element_slash+">";n(X=b.$attr("link"))&&(z='<a class="image" href="'+X+'">'+z+"</a>");g=n(b.$id())?' id="'+b.$id()+'"':c;l=["imageblock",b.$role()].$compact();l=' class="'+p(l," ")+'"';k=[];if(n(b["$attr?"]("align")))k["$<<"]("text-align: "+
b.$attr("align"));if(n(b["$attr?"]("float")))k["$<<"]("float: "+b.$attr("float"));k=n(k["$empty?"]())?c:' style="'+p(k,";")+'"';w=n(b["$title?"]())?'\n<div class="title">'+b.$captioned_title()+"</div>":c;return"<div"+g+l+k+'>\n<div class="content">\n'+z+"\n</div>"+w+"\n</div>"},x.$$arity=1);a.defn(d,"$listing",S=function(a){var b,d=c,e=c,h=c,f=c,g=f=d=h=d=c,l=c,d=n(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(h=n(e=a.$attr("language",c,!1))?
' data-lang="'+e+'"':c,f=a.$document().$attr("source-highlighter"),"coderay"["$==="](f)?d=' class="CodeRay highlight'+(n(d)?" nowrap":c)+'"':"pygments"["$==="](f)?d=' class="pygments highlight'+(n(d)?" nowrap":c)+'"':"highlightjs"["$==="](f)||"highlight.js"["$==="](f)?(d=' class="highlightjs highlight'+(n(d)?" nowrap":c)+'"',n(e)&&(h=' class="language-'+e+'"'+h)):"prettify"["$==="](f)?(d=' class="prettyprint highlight'+(n(d)?" nowrap":c)+(n(a["$attr?"]("linenums"))?" linenums":c)+'"',n(e)&&(h=' class="language-'+
e+'"'+h)):"html-pipeline"["$==="](f)?(d=n(e)?' lang="'+e+'"':c,h=c):(d=' class="highlight'+(n(d)?" nowrap":c)+'"',n(e)&&(h=' class="language-'+e+'"'+h)),h="<pre"+d+"><code"+h+">",d="</code></pre>"):(h="<pre"+(n(d)?' class="nowrap"':c)+">",d="</pre>");f=n(a.$id())?' id="'+a.$id()+'"':c;g=n(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":c;return"<div"+f+' class="listingblock'+(n(b=l=a.$role())?" "+l:b)+'">\n'+g+'<div class="content">\n'+h+a.$content()+d+"\n</div>\n</div>"},S.$$arity=
1);a.defn(d,"$literal",da=function(a){var b,d=c,e=c,h=c,f=c,d=n(a.$id())?' id="'+a.$id()+'"':c,e=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":c,h=n(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(n(b=f=a.$role())?" "+f:b)+'">\n'+e+'<div class="content">\n<pre'+(n(h)?' class="nowrap"':c)+">"+a.$content()+"</pre>\n</div>\n</div>"},da.$$arity=1);a.defn(d,"$stem",J=function(b){var d,e,h=c,f=c,g=c,l=c,k=c,m=c,h=n(b.$id())?
' id="'+b.$id()+'"':c,f=n(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":c;e=a.const_get_relative(G,"BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());d=a.to_ary(e);g=null==d[0]?c:d[0];l=null==d[1]?c:d[1];e;n(n(d=(k=b.$content())["$start_with?"](g))?k["$end_with?"](l):d)||(k=""+g+k+l);return"<div"+h+' class="'+(n(m=b.$role())?p(["stemblock",m]," "):"stemblock")+'">\n'+f+'<div class="content">\n'+k+"\n</div>\n</div>"},J.$$arity=1);a.defn(d,"$olist",fa=function(b){var d,e=c,h=c,f=c,
g=h=f=c,l=f=c,e=[],h=n(b.$id())?' id="'+b.$id()+'"':c,f=["olist",b.$style(),b.$role()].$compact(),f=' class="'+p(f," ")+'"';e["$<<"]("<div"+h+f+">");if(n(b["$title?"]()))e["$<<"]('<div class="title">'+b.$title()+"</div>");h=n(g=b.$list_marker_keyword())?' type="'+g+'"':c;f=n(b["$attr?"]("start"))?' start="'+b.$attr("start")+'"':c;l=n(b["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):c;e["$<<"]('<ol class="'+b.$style()+'"'+h+f+l+">");u(b.$items(),"each",[],(d=function(a){null==
a&&(a=c);e["$<<"]("<li>");e["$<<"]("<p>"+a.$text()+"</p>");if(n(a["$blocks?"]()))e["$<<"](a.$content());return e["$<<"]("</li>")},d.$$s=this,d.$$arity=1,d));e["$<<"]("</ol>");e["$<<"]("</div>");return p(e,a.const_get_relative(G,"EOL"))},fa.$$arity=1);a.defn(d,"$open",ja=function(a){var b,d,e,h=c,f=c,g=c,l=c;if((h=a.$style())["$=="]("abstract")){if(n((b=a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),
"";f=n(a.$id())?' id="'+a.$id()+'"':c;g=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":c;return"<div"+f+' class="quoteblock abstract'+(n(b=l=a.$role())?" "+l:b)+'">\n'+g+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(n((b=h["$=="]("partintro"))?n(d=n(e=v(a.$level(),0))?e:a.$parent().$context()["$!="]("section"))?d:a.$document().$doctype()["$!="]("book"):h["$=="]("partintro")))return this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),
"";f=n(a.$id())?' id="'+a.$id()+'"':c;g=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":c;return"<div"+f+' class="openblock'+(n(n(b=h)?h["$!="]("open"):b)?" "+h:"")+(n(b=l=a.$role())?" "+l:b)+'">\n'+g+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},ja.$$arity=1);a.defn(d,"$page_break",Y=function(a){return'<div style="page-break-after: always;"></div>'},Y.$$arity=1);a.defn(d,"$paragraph",V=function(a){var b=c,b=c,b=n(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',
b=n(a.$id())?'id="'+a.$id()+'" '+b:b;return n(a["$title?"]())?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"},V.$$arity=1);a.defn(d,"$preamble",ea=function(a){var b,d,e=c,h=c,h=n(n(b=n(d=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():d)?e["$attr?"]("toc"):b)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+
"\n</div>":c;return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+h+"\n</div>"},ea.$$arity=1);a.defn(d,"$quote",sa=function(a){var b,d=c,e=c,h=e=c,f=c,g=c,l=c,l=f=c,d=n(a.$id())?' id="'+a.$id()+'"':c,e=["quoteblock",a.$role()].$compact(),e=' class="'+p(e," ")+'"',h=n(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":c,f=n(a["$attr?"]("attribution"))?a.$attr("attribution"):c,g=n(a["$attr?"]("citetitle"))?a.$attr("citetitle"):c;n(n(b=f)?b:g)?(l=n(g)?"<cite>"+g+
"</cite>":c,f=n(f)?"&#8212; "+f+(n(g)?"<br"+this.void_element_slash+">\n":c):c,l='\n<div class="attribution">\n'+f+l+"\n</div>"):l=c;return"<div"+d+e+">"+h+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+l+"\n</div>"},sa.$$arity=1);a.defn(d,"$thematic_break",pa=function(a){return"<hr"+this.void_element_slash+">"},pa.$$arity=1);a.defn(d,"$sidebar",ua=function(a){var b=c,d=c,e=c,b=n(a.$id())?' id="'+a.$id()+'"':c,d=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":c;return"<div"+b+' class="'+
(n(e=a.$role())?p(["sidebarblock",e]," "):"sidebarblock")+'">\n<div class="content">\n'+d+a.$content()+"\n</div>\n</div>"},ua.$$arity=1);a.defn(d,"$table",ga=function(b){var d,e,h,f,g,l=c,k=c,m=c,z=c,w=c,X=z=m=c,t=c,l=[],k=n(b.$id())?' id="'+b.$id()+'"':c,m=["tableblock","frame-"+b.$attr("frame","all"),"grid-"+b.$attr("grid","all")],z=[];if(!n(n(d=b["$option?"]("autowidth"))?b["$attr?"]("width",c,!1)["$!"]():d))if(n(b["$attr?"]("tablepcwidth",100)))m["$<<"]("spread");else z["$<<"]("width: "+b.$attr("tablepcwidth")+
"%;");if(n(w=b.$role()))m["$<<"](w);m=' class="'+p(m," ")+'"';if(n(b["$attr?"]("float")))z["$<<"]("float: "+b.$attr("float")+";");z=n(z["$empty?"]())?c:' style="'+p(z," ")+'"';l["$<<"]("<table"+k+m+z+">");if(n(b["$title?"]()))l["$<<"]('<caption class="title">'+b.$captioned_title()+"</caption>");n(v(b.$attr("rowcount"),0))&&(X=this.void_element_slash,l["$<<"]("<colgroup>"),n(b["$option?"]("autowidth"))?(t="<col"+X+">",u(b.$columns().$size(),"times",[],(e=function(){return l["$<<"](t)},e.$$s=this,e.$$arity=
0,e))):u(b.$columns(),"each",[],(h=function(a){null==a&&(a=c);return l["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+X+">")},h.$$s=this,h.$$arity=1,h)),l["$<<"]("</colgroup>"),u(u(["head","foot","body"],"select",[],(f=function(a){null==a&&(a=c);return b.$rows()["$[]"](a)["$empty?"]()["$!"]()},f.$$s=this,f.$$arity=1,f)),"each",[],(g=function(a){var d=g.$$s||this,e;null==a&&(a=c);l["$<<"]("<t"+a+">");u(b.$rows()["$[]"](a),"each",[],(e=function(d){var h=e.$$s||this,f;null==d&&(d=c);l["$<<"]("<tr>");
u(d,"each",[],(f=function(d){var e=f.$$s||this,h,g,k=c,m=c,z=m=c,w=c,p=c,X=c;null==d&&(d=c);a["$=="]("head")?k=d.$text():(m=d.$style(),"asciidoc"["$==="](m)?k="<div>"+d.$content()+"</div>":"verse"["$==="](m)?k='<div class="verse">'+d.$text()+"</div>":"literal"["$==="](m)?k='<div class="literal"><pre>'+d.$text()+"</pre></div>":(k="",u(d.$content(),"each",[],(h=function(a){null==a&&(a=c);return k=""+k+'<p class="tableblock">'+a+"</p>"},h.$$s=e,h.$$arity=1,h))));m=n(n(g=a["$=="]("head"))?g:d.$style()["$=="]("header"))?
"th":"td";z=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+'"';w=n(d.$colspan())?' colspan="'+d.$colspan()+'"':c;p=n(d.$rowspan())?' rowspan="'+d.$rowspan()+'"':c;X=n(b.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+b.$document().$attr("cellbgcolor")+';"':c;return l["$<<"]("<"+m+z+w+p+X+">"+k+"</"+m+">")},f.$$s=h,f.$$arity=1,f));return l["$<<"]("</tr>")},e.$$s=d,e.$$arity=1,e));return l["$<<"]("</t"+a+">")},g.$$s=this,g.$$arity=1,g)));l["$<<"]("</table>");
return p(l,a.const_get_relative(G,"EOL"))},ga.$$arity=1);a.defn(d,"$toc",ka=function(a){var b,d,e=c,h=c,f=c,g=c,k=c,m=c;if(!n(n(b=n(d=(e=a.$document())["$attr?"]("toc-placement","macro"))?e["$sections?"]():d)?e["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";n(a.$id())?(h=' id="'+a.$id()+'"',f=' id="'+a.$id()+'title"'):(h=' id="toc"',f=' id="toctitle"');g=n(a["$title?"]())?a.$title():e.$attr("toc-title");k=n(a["$attr?"]("levels"))?a.$attr("levels").$to_i():c;m=n(a["$role?"]())?a.$role():e.$attr("toc-class",
"toc");return"<div"+h+' class="'+m+'">\n<div'+f+' class="title">'+g+"</div>\n"+this.$outline(e,l(["toclevels"],{toclevels:k}))+"\n</div>"},ka.$$arity=1);a.defn(d,"$ulist",oa=function(b){var d,e=c,h=c,f=c,g=c,l=c,k=c,m=c,e=[],h=n(b.$id())?' id="'+b.$id()+'"':c,f=["ulist",b.$style(),b.$role()].$compact(),l=g=c;n(k=b["$option?"]("checklist"))?(f.$insert(1,"checklist"),m=' class="checklist"',n(b["$option?"]("interactive"))?n(this.xml_mode)?(g='<input type="checkbox" data-item-complete="1" checked="checked"/> ',
l='<input type="checkbox" data-item-complete="0"/> '):(g='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):n(b.$document()["$attr?"]("icons","font"))?(g='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(g="&#10003; ",l="&#10063; ")):m=n(b.$style())?' class="'+b.$style()+'"':c;e["$<<"]("<div"+h+' class="'+p(f," ")+'">');if(n(b["$title?"]()))e["$<<"]('<div class="title">'+b.$title()+"</div>");e["$<<"]("<ul"+m+">");
u(b.$items(),"each",[],(d=function(a){var b;null==a&&(a=c);e["$<<"]("<li>");if(n(n(b=k)?a["$attr?"]("checkbox"):b))e["$<<"]("<p>"+(n(a["$attr?"]("checked"))?g:l)+a.$text()+"</p>");else e["$<<"]("<p>"+a.$text()+"</p>");if(n(a["$blocks?"]()))e["$<<"](a.$content());return e["$<<"]("</li>")},d.$$s=this,d.$$arity=1,d));e["$<<"]("</ul>");e["$<<"]("</div>");return p(e,a.const_get_relative(G,"EOL"))},oa.$$arity=1);a.defn(d,"$verse",ra=function(a){var b,d=c,e=c,h=e=c,f=c,g=c,l=c,l=f=c,d=n(a.$id())?' id="'+
a.$id()+'"':c,e=["verseblock",a.$role()].$compact(),e=' class="'+p(e," ")+'"',h=n(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":c,f=n(a["$attr?"]("attribution"))?a.$attr("attribution"):c,g=n(a["$attr?"]("citetitle"))?a.$attr("citetitle"):c;n(n(b=f)?b:g)?(l=n(g)?"<cite>"+g+"</cite>":c,f=n(f)?"&#8212; "+f+(n(g)?"<br"+this.void_element_slash+">\n":c):c,l='\n<div class="attribution">\n'+f+l+"\n</div>"):l=c;return"<div"+d+e+">"+h+'\n<pre class="content">'+a.$content()+"</pre>"+l+"\n</div>"},
ra.$$arity=1);a.defn(d,"$video",R=function(b){var d,e,h=this,f=c,g=c,l=c,k=c,m=c,u=c,z=c,w=c,v=c,t=c,r=c,D=c,C=c,E=c,q=c,M=c,G=c,R=c,O=c,ca=c,N=c,Q=c,H=c,qa=c,y=c,P=c,K=c,W=c,B=c,L=c,ia=c,f=h.xml_mode,g=n(b.$id())?' id="'+b.$id()+'"':c,l=["videoblock",b.$role()].$compact(),k=' class="'+p(l," ")+'"',m=n(b["$title?"]())?'\n<div class="title">'+b.$captioned_title()+"</div>":c,u=n(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':c,z=n(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':c;return function(){w=
b.$attr("poster");if("vimeo"["$==="](w))return n((v=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":"),t=n(b["$attr?"]("start",c,!1))?"#at="+b.$attr("start"):c,r="?",D=n(b["$option?"]("autoplay"))?""+r+"autoplay=1":c,n(D)&&(r="&amp;"),C=n(b["$option?"]("loop"))?""+r+"loop=1":c,"<div"+g+k+">"+m+'\n<div class="content">\n<iframe'+u+z+' src="'+v+"//player.vimeo.com/video/"+b.$attr("target")+t+D+C+'" frameborder="0"'+(n(b["$option?"]("nofullscreen"))?c:h.$append_boolean_attribute("allowfullscreen",
f))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](w))return n((v=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":"),E=n(b["$option?"]("related"))?1:0,q=n(b["$attr?"]("start",c,!1))?"&amp;start="+b.$attr("start"):c,M=n(b["$attr?"]("end",c,!1))?"&amp;end="+b.$attr("end"):c,D=n(b["$option?"]("autoplay"))?"&amp;autoplay=1":c,C=n(b["$option?"]("loop"))?"&amp;loop=1":c,G=n(b["$option?"]("nocontrols"))?"&amp;controls=0":c,n(b["$option?"]("nofullscreen"))?(R="&amp;fs=0",O=c):
(R=c,O=h.$append_boolean_attribute("allowfullscreen",f)),ca=n(b["$option?"]("modest"))?"&amp;modestbranding=1":c,N=n(b["$attr?"]("theme",c,!1))?"&amp;theme="+b.$attr("theme"):c,Q=n(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):c,e=b.$attr("target").$split("/",2),d=a.to_ary(e),H=null==d[0]?c:d[0],qa=null==d[1]?c:d[1],e,n(qa=n(d=qa)?d:b.$attr("list",c,!1))?y="&amp;list="+qa:(e=H.$split(",",2),d=a.to_ary(e),H=null==d[0]?c:d[0],P=null==d[1]?c:d[1],e,y=n(P=n(d=P)?d:b.$attr("playlist",c,!1))?"&amp;playlist="+
P:n(C)?"&amp;playlist="+H:c),"<div"+g+k+">"+m+'\n<div class="content">\n<iframe'+u+z+' src="'+v+"//www.youtube.com/embed/"+H+"?rel="+E+q+M+D+C+G+y+R+ca+N+Q+'" frameborder="0"'+O+"></iframe>\n</div>\n</div>";K=n((""+(W=b.$attr("poster")))["$empty?"]())?c:' poster="'+b.$media_uri(W)+'"';B=b.$attr("start",c,!1);L=b.$attr("end",c,!1);ia=n(n(d=B)?d:L)?"#t="+B+(n(L)?",":c)+L:c;return"<div"+g+k+">"+m+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+ia+'"'+u+z+K+(n(b["$option?"]("autoplay"))?
h.$append_boolean_attribute("autoplay",f):c)+(n(b["$option?"]("nocontrols"))?c:h.$append_boolean_attribute("controls",f))+(n(b["$option?"]("loop"))?h.$append_boolean_attribute("loop",f):c)+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},R.$$arity=1);a.defn(d,"$inline_anchor",z=function(a){var b,d,e=this,h=c,f=c,g=c,l=c,k=c,m=c,h=a.$target();return function(){f=a.$type();if("xref"["$==="](f))return g=n(b=a.$attributes()["$[]"]("refid"))?b:h,l=n(b=a.$text())?b:n(d=a.$document().$references()["$[]"]("ids")["$[]"](g))?
d:"["+g+"]",'<a href="'+h+'">'+l+"</a>";if("ref"["$==="](f))return'<a id="'+h+'"></a>';if("link"["$==="](f)){k=[];if(n(a.$id()))k["$<<"](' id="'+a.$id()+'"');if(n(m=a.$role()))k["$<<"](' class="'+m+'"');if(n(a["$attr?"]("title",c,!1)))k["$<<"](' title="'+a.$attr("title")+'"');if(n(a["$attr?"]("window",c,!1)))k["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+h+'"'+k.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](f)?'<a id="'+h+'"></a>['+h+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+
a.$type().$inspect())}()},z.$$arity=1);a.defn(d,"$inline_break",ca=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},ca.$$arity=1);a.defn(d,"$inline_button",qa=function(a){return'<b class="button">'+a.$text()+"</b>"},qa.$$arity=1);a.defn(d,"$inline_callout",Aa=function(a){var b=c;return n(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":n(a.$document()["$attr?"]("icons"))?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+
b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+a.$text()+")</b>"},Aa.$$arity=1);a.defn(d,"$inline_footnote",xa=function(a){var b=c,d=c;if(n(b=a.$attr("index"))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>";d=n(a.$id())?' id="_footnote_'+a.$id()+'"':c;return'<sup class="footnote"'+d+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+
b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c},xa.$$arity=1);a.defn(d,"$inline_image",ya=function(b){var d,h,f,g,k,m,z=c,w=c,p=c,v=p=c,X=c,t=c,r=c,D=c,C=d=c,z=c;n((d=(z=b.$type())["$=="]("icon"))?b.$document()["$attr?"]("icons","font"):(z=b.$type())["$=="]("icon"))?(w="fa fa-"+b.$target(),u(l(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(h=function(a,d){null==a&&
(a=c);null==d&&(d=c);return n(b["$attr?"](a))?w=""+w+" "+d+b.$attr(a):c},h.$$s=this,h.$$arity=2,h)),p=n(b["$attr?"]("title"))?' title="'+b.$attr("title")+'"':c,p='<i class="'+w+'"'+p+"></i>"):n((d=z["$=="]("icon"))?b.$document()["$attr?"]("icons")["$!"]():z["$=="]("icon"))?p="["+b.$attr("alt")+"]":(v=b.$target(),X=u(["width","height","title"],"map",[],(f=function(a){null==a&&(a=c);return n(b["$attr?"](a))?" "+a+'="'+b.$attr(a)+'"':c},f.$$s=this,f.$$arity=1,f)).$join(),n(n(d=n(g=n(k=z["$!="]("icon"))?
n(m=b["$attr?"]("format","svg",!1))?m:v["$include?"](".svg"):k)?e(b.$document().$safe(),a.const_get_qualified(a.const_get_relative(G,"SafeMode"),"SECURE")):g)?n(g=t=b["$option?"]("inline"))?g:r=b["$option?"]("interactive"):d)&&(n(t)?p=n(d=this.$read_svg_contents(b,v))?d:'<span class="alt">'+b.$attr("alt")+"</span>":n(r)&&(D=n(b["$attr?"]("fallback"))?'<img src="'+b.$image_uri(b.$attr("fallback"))+'" alt="'+b.$attr("alt")+'"'+X+this.void_element_slash+">":'<span class="alt">'+b.$attr("alt")+"</span>",
p='<object type="image/svg+xml" data="'+b.$image_uri(v)+'"'+X+">"+D+"</object>")),p=n(d=p)?d:'<img src="'+(z["$=="]("icon")?b.$icon_uri(v):b.$image_uri(v))+'" alt="'+b.$attr("alt")+'"'+X+this.void_element_slash+">");n(b["$attr?"]("link"))&&(d=n(b["$attr?"]("window"))?' target="'+b.$attr("window")+'"':c,p='<a class="image" href="'+b.$attr("link")+'"'+d+">"+p+"</a>");w=n(C=b.$role())?""+z+" "+C:z;z=n(b["$attr?"]("float"))?' style="float: '+b.$attr("float")+'"':c;return'<span class="'+w+'"'+z+">"+p+
"</span>"},ya.$$arity=1);a.defn(d,"$inline_indexterm",za=function(a){return a.$type()["$=="]("visible")?a.$text():""},za.$$arity=1);a.defn(d,"$inline_kbd",Ca=function(a){var b,d=c,d=c;if((d=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+d["$[]"](0)+"</kbd>";d=u(d,"map",[],(b=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},b.$$s=this,b.$$arity=1,b)).$join().$chop();return'<span class="keyseq">'+d+"</span>"},Ca.$$arity=1);a.defn(d,"$inline_menu",Ea=function(a){var b,d=c,e=c,h=e=c,d=a.$attr("menu");
return n((e=a.$attr("submenus"))["$empty?"]()["$!"]())?(e=u(e,"map",[],(b=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},b.$$s=this,b.$$arity=1,b)).$join().$chop(),'<span class="menuseq"><span class="menu">'+d+"</span>&#160;&#9656; "+e+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"):n(h=a.$attr("menuitem"))?'<span class="menuseq"><span class="menu">'+d+'</span>&#160;&#9656; <span class="menuitem">'+h+"</span></span>":'<span class="menu">'+d+"</span>"},
Ea.$$arity=1);a.defn(d,"$inline_quoted",Fa=function(b){var d,e,h=c,f=c,g=d=c;e=c;e=a.const_get_relative(G,"QUOTE_TAGS")["$[]"](b.$type());d=a.to_ary(e);h=null==d[0]?c:d[0];f=null==d[1]?c:d[1];d=null==d[2]?c:d[2];e;e=n(g=b.$role())?n(d)?""+h.$chop()+' class="'+g+'">'+b.$text()+f:'<span class="'+g+'">'+h+b.$text()+f+"</span>":""+h+b.$text()+f;return n(b.$id())?'<a id="'+b.$id()+'"></a>'+e:e},Fa.$$arity=1);a.defn(d,"$append_boolean_attribute",Ga=function(a,b){return n(b)?" "+a+'="'+a+'"':" "+a},Ga.$$arity=
2);return(a.defn(d,"$read_svg_contents",Ha=function(b,d){var e,h=c,f=c,g=c;n(h=b.$read_contents(d,l(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(n(h["$start_with?"]("<svg"))||(h=h.$sub(a.const_get_relative(G,"SvgPreambleRx"),"")),f=g=c,u(["width","height"],"each",[],(e=function(d){null==d&&(d=c);return n(b["$attr?"](d))?(n(g)||(g=(f=h.$match(a.const_get_relative(G,"SvgStartTagRx"))["$[]"](0)).$gsub(a.const_get_relative(G,"DimensionAttributeRx"),
"")),g=""+g.$chop()+" "+d+'="'+b.$attr(d)+'px">'):c},e.$$s=this,e.$$arity=1,e)),n(g)&&(h=""+g+h["$[]"](a.Range.$new(f.$length(),-1,!1))));return h},Ha.$$arity=2),c)&&"read_svg_contents"})(a.const_get_relative(q,"Converter"),a.const_get_qualified(a.const_get_relative(q,"Converter"),"BuiltIn"),q)}(g[0],g)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:
a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var v=[],f=a.nil,e=a.module,k=a.klass,g=a.truthy,c=a.hash2,d=a.send,r=a.range,u=a.hash;a.add_stubs("$[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $=== $has_more_lines? $next_block $dup $<< $each $define_method $send $insert $call $attr_accessor $[] $option $to_set $flatten $resolve_regexp $== $attr $method $register $+ $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $! $any? $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $split $upcase $chr $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(l,n){var v=[e(l,"Asciidoctor")].concat(n);(function(l,n){var v=e(l,"Extensions"),q=[v].concat(n);(function(e,$super,l){function m(){}e=m=k(e,$super,"Processor",m);var n=e.$$proto,u=[e].concat(l),w,p,v,t,r,D,q,F;n.config=f;(function(e,l){var k=[e].concat(l),m,n,u;a.defn(e,"$config",m=function(){var a;null==this.config&&(this.config=f);return this.config=g(a=this.config)?a:c([],{})},m.$$arity=0);a.defn(e,"$option",n=function(c,e){var g=f,g=[c,e];d(this.$config(),"[]=",a.to_a(g));return g[b(g.length,
1)]},n.$$arity=2);a.defn(e,"$use_dsl",u=function(){return g(this.$name()["$nil_or_empty?"]())?g((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):f:g((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):f},u.$$arity=0);a.alias(e,"extend_dsl","use_dsl");return a.alias(e,"include_dsl","use_dsl")})(a.get_singleton_class(e),u);e.$attr_reader("config");a.defn(e,"$initialize",w=function(a){null==a&&(a=c([],{}));return this.config=
this.$class().$config().$merge(a)},w.$$arity=-1);a.defn(e,"$update_config",p=function(a){return this.config.$update(a)},p.$$arity=1);a.defn(e,"$process",v=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(a.const_get_qualified("::","NotImplementedError"))},v.$$arity=-1);a.defn(e,"$create_block",t=function(b,d,e,h,f){null==f&&(f=c([],{}));return a.const_get_relative(u,"Block").$new(b,d,c(["source","attributes"],{source:e,attributes:h}).$merge(f))},
t.$$arity=-5);a.defn(e,"$create_image_block",r=function(a,b,d){null==d&&(d=c([],{}));return this.$create_block(a,"image",f,b,d)},r.$$arity=-3);a.defn(e,"$create_inline",D=function(b,d,e,h){null==h&&(h=c([],{}));return a.const_get_relative(u,"Inline").$new(b,d,e,h)},D.$$arity=-4);a.defn(e,"$parse_content",q=function(b,d,e){var h=f,l=f;null==e&&(e=f);for(h=g(a.const_get_relative(u,"Reader")["$==="](d))?d:a.const_get_relative(u,"Reader").$new(d);g(h["$has_more_lines?"]());)if(l=a.const_get_relative(u,
"Parser").$next_block(h,b,g(e)?e.$dup():c([],{})),g(l))b["$<<"](l);return b},q.$$arity=-3);return d([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(F=function(b,c,e){var h=F.$$s||this,g;null==b&&(b=f);null==
c&&(c=f);null==e&&(e=f);return d(h,"define_method",[b],(g=function(b){var h=g.$$s||this,f,l=arguments.length;f=l-0;0>f&&(f=0);f=Array(f);for(var k=0;k<l;k++)f[k-0]=arguments[k];return d(h,"send",[c].concat(a.to_a(f.$dup().$insert(1,e))))},g.$$s=h,g.$$arity=-1,g))},F.$$s=e,F.$$arity=3,F))})(q[0],null,q);(function(c,l){var k=e(c,"ProcessorDsl");[k].concat(l);var m,n,u;a.defn(k,"$option",m=function(c,e){var g=f,g=[c,e];d(this.$config(),"[]=",a.to_a(g));return g[b(g.length,1)]},m.$$arity=2);a.defn(k,
"$process",n=function(b){var c,e=n.$$p,h=e||f;null==this.process_block&&(this.process_block=f);var l=arguments.length;c=l-0;0>c&&(c=0);c=Array(c);for(var k=0;k<l;k++)c[k-0]=arguments[k];e&&(n.$$p=null);return h!==f?this.process_block=h:g(this.process_block)?d(this.process_block,"call",a.to_a(c)):this.$raise(a.const_get_qualified("::","NotImplementedError"))},n.$$arity=-1);a.defn(k,"$process_block_given?",u=function(){var a;return(a=this.process_block,null!=a&&a!==f)?"instance-variable":f},u.$$arity=
0)})(q[0],q);(function(b,$super,c){function d(){}b=d=k(b,$super,"Preprocessor",d);[b].concat(c);var e;return(a.defn(b,"$process",e=function(b,c){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},e.$$arity=2),f)&&"process"})(q[0],a.const_get_relative(q,"Processor"),q);a.const_set(a.const_get_relative(q,"Preprocessor"),"DSL",a.const_get_relative(q,"ProcessorDsl"));(function(b,$super,c){function d(){}b=d=k(b,$super,"Treeprocessor",d);[b].concat(c);var e;return(a.defn(b,"$process",
e=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},e.$$arity=1),f)&&"process"})(q[0],a.const_get_relative(q,"Processor"),q);a.const_set(a.const_get_relative(q,"Treeprocessor"),"DSL",a.const_get_relative(q,"ProcessorDsl"));(function(b,$super,c){function d(){}b=d=k(b,$super,"Postprocessor",d);[b].concat(c);var e;return(a.defn(b,"$process",e=function(b,c){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},e.$$arity=2),f)&&"process"})(q[0],a.const_get_relative(q,
"Processor"),q);a.const_set(a.const_get_relative(q,"Postprocessor"),"DSL",a.const_get_relative(q,"ProcessorDsl"));(function(b,$super,c){function d(){}b=d=k(b,$super,"IncludeProcessor",d);[b].concat(c);var e,h;a.defn(b,"$process",e=function(b,c,d,e){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},e.$$arity=4);return(a.defn(b,"$handles?",h=function(a){return!0},h.$$arity=1),f)&&"handles?"})(q[0],a.const_get_relative(q,"Processor"),q);a.const_set(a.const_get_relative(q,"IncludeProcessor"),
"DSL",a.const_get_relative(q,"ProcessorDsl"));(function(e,$super,l){function m(){}e=m=k(e,$super,"DocinfoProcessor",m);var n=e.$$proto;[e].concat(l);var u,w;n.config=f;e.$attr_accessor("location");a.defn(e,"$initialize",u=function(e){var l,k=u.$$p,m=f;null==e&&(e=c([],{}));k&&(u.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",u,!1),[e],null);return g(l=this.config["$[]"]("location"))?l:(m=["location","head"],d(this.config,"[]=",a.to_a(m)),m[b(m.length,1)])},u.$$arity=-1);return(a.defn(e,
"$process",w=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},w.$$arity=1),f)&&"process"})(q[0],a.const_get_relative(q,"Processor"),q);(function(b,c){var d=e(b,"DocinfoProcessorDsl"),h=[d].concat(c),f;d.$include(a.const_get_relative(h,"ProcessorDsl"));a.defn(d,"$at_location",f=function(a){return this.$option("location",a)},f.$$arity=1)})(q[0],q);a.const_set(a.const_get_relative(q,"DocinfoProcessor"),"DSL",a.const_get_relative(q,"DocinfoProcessorDsl"));(function(e,
$super,l){function m(){}e=m=k(e,$super,"BlockProcessor",m);var n=e.$$proto;[e].concat(l);var u,w;n.config=f;e.$attr_accessor("name");a.defn(e,"$initialize",u=function(e,l){var k,m=u.$$p,n=f,w=f;null==e&&(e=f);null==l&&(l=c([],{}));m&&(u.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",u,!1),[l],null);this.name=g(k=e)?k:this.config["$[]"]("name");n=this.config["$[]"]("contexts");a.const_get_qualified("::","NilClass")["$==="](n)?g(k=this.config["$[]"]("contexts"))?k:(w=["contexts",["open",
"paragraph"].$to_set()],d(this.config,"[]=",a.to_a(w)),w[b(w.length,1)]):(w=a.const_get_qualified("::","Symbol")["$==="](n)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],d(this.config,"[]=",a.to_a(w)),w[b(w.length,1)]);return g(k=this.config["$[]"]("content_model"))?k:(w=["content_model","compound"],d(this.config,"[]=",a.to_a(w)),w[b(w.length,1)])},u.$$arity=-1);return(a.defn(e,"$process",w=function(b,c,d){return this.$raise(a.const_get_qualified("::",
"NotImplementedError"))},w.$$arity=3),f)&&"process"})(q[0],a.const_get_relative(q,"Processor"),q);(function(b,c){var d=e(b,"BlockProcessorDsl"),h=[d].concat(c),f,l,k,m,n;d.$include(a.const_get_relative(h,"ProcessorDsl"));a.defn(d,"$named",f=function(b){return g(a.const_get_relative(h,"Processor")["$==="](this))?this.name=b:this.$option("name",b)},f.$$arity=1);a.alias(d,"match_name","named");a.alias(d,"bind_to","named");a.defn(d,"$contexts",l=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=
Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten())},l.$$arity=-1);a.alias(d,"on_contexts","contexts");a.alias(d,"on_context","contexts");a.defn(d,"$content_model",k=function(a){return this.$option("content_model",a)},k.$$arity=1);a.alias(d,"parse_content_as","content_model");a.defn(d,"$positional_attributes",m=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},
m.$$arity=-1);a.alias(d,"pos_attrs","positional_attributes");a.alias(d,"name_attributes","positional_attributes");a.alias(d,"name_positional_attributes","positional_attributes");a.defn(d,"$default_attrs",n=function(a){return this.$option("default_attrs",a)},n.$$arity=1);a.alias(d,"seed_attributes_with","default_attrs")})(q[0],q);a.const_set(a.const_get_relative(q,"BlockProcessor"),"DSL",a.const_get_relative(q,"BlockProcessorDsl"));(function(e,$super,l){function m(){}e=m=k(e,$super,"MacroProcessor",
m);var n=e.$$proto;[e].concat(l);var u,w;n.config=f;e.$attr_accessor("name");a.defn(e,"$initialize",u=function(e,l){var k,m=u.$$p,n=f;null==e&&(e=f);null==l&&(l=c([],{}));m&&(u.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",u,!1),[l],null);this.name=g(k=e)?k:this.config["$[]"]("name");return g(k=this.config["$[]"]("content_model"))?k:(n=["content_model","attributes"],d(this.config,"[]=",a.to_a(n)),n[b(n.length,1)])},u.$$arity=-1);return(a.defn(e,"$process",w=function(b,c,d){return this.$raise(a.const_get_qualified("::",
"NotImplementedError"))},w.$$arity=3),f)&&"process"})(q[0],a.const_get_relative(q,"Processor"),q);(function(b,c){var d=e(b,"MacroProcessorDsl"),h=[d].concat(c),f,l,k,m;d.$include(a.const_get_relative(h,"ProcessorDsl"));a.defn(d,"$named",f=function(b){return g(a.const_get_relative(h,"Processor")["$==="](this))?this.name=b:this.$option("name",b)},f.$$arity=1);a.alias(d,"match_name","named");a.alias(d,"bind_to","named");a.defn(d,"$content_model",l=function(a){return this.$option("content_model",a)},
l.$$arity=1);a.alias(d,"parse_content_as","content_model");a.defn(d,"$positional_attributes",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},k.$$arity=-1);a.alias(d,"pos_attrs","positional_attributes");a.alias(d,"name_attributes","positional_attributes");a.alias(d,"name_positional_attributes","positional_attributes");a.defn(d,"$default_attrs",m=function(a){return this.$option("default_attrs",
a)},m.$$arity=1);a.alias(d,"seed_attributes_with","default_attrs")})(q[0],q);(function(a,$super,b){function c(){}[c=k(a,$super,"BlockMacroProcessor",c)].concat(b);return f})(q[0],a.const_get_relative(q,"MacroProcessor"),q);a.const_set(a.const_get_relative(q,"BlockMacroProcessor"),"DSL",a.const_get_relative(q,"MacroProcessorDsl"));(function(c,$super,e){function l(){}c=l=k(c,$super,"InlineMacroProcessor",l);var m=c.$$proto;[c].concat(e);var n,u;m.config=m.name=f;a.defn(c,"$regexp",n=function(){var c,
e=f;return g(c=this.config["$[]"]("regexp"))?c:(e=["regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format"))],d(this.config,"[]=",a.to_a(e)),e[b(e.length,1)])},n.$$arity=0);return(a.defn(c,"$resolve_regexp",u=function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},u.$$arity=2),f)&&"resolve_regexp"})(q[0],a.const_get_relative(q,"MacroProcessor"),q);(function(b,c){var d=e(b,"InlineMacroProcessorDsl"),
h=[d].concat(c),f,g;d.$include(a.const_get_relative(h,"MacroProcessorDsl"));a.defn(d,"$using_format",f=function(a){return this.$option("format",a)},f.$$arity=1);a.defn(d,"$match",g=function(a){return this.$option("regexp",a)},g.$$arity=1)})(q[0],q);a.const_set(a.const_get_relative(q,"InlineMacroProcessor"),"DSL",a.const_get_relative(q,"InlineMacroProcessorDsl"));(function(b,$super,c){function d(){}b=d=k(b,$super,"Extension",d);[b].concat(c);var e;b.$attr("kind");b.$attr("config");b.$attr("instance");
return(a.defn(b,"$initialize",e=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},e.$$arity=3),f)&&"initialize"})(q[0],null,q);(function(b,$super,c){function e(){}b=e=k(b,$super,"ProcessorExtension",e);[b].concat(c);var h;b.$attr("process_method");return(a.defn(b,"$initialize",h=function(b,c,e){var l,k=h.$$p;null==e&&(e=f);k&&(h.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",h,!1),[b,c,c.$config()],null);return this.process_method=g(l=e)?l:c.$method("process")},h.$$arity=
-3),f)&&"initialize"})(q[0],a.const_get_relative(q,"Extension"),q);(function(b,$super,c){function d(){}b=d=k(b,$super,"Group",d);c=[b].concat(c);var e;(function(b,c){var d=[b].concat(c),e;return(a.defn(b,"$register",e=function(b){null==b&&(b=f);return a.const_get_relative(d,"Extensions").$register(b,this)},e.$$arity=-1),f)&&"register"})(a.get_singleton_class(b),c);return(a.defn(b,"$activate",e=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},e.$$arity=1),f)&&"activate"})(q[0],
null,q);(function(e,$super,l){function n(){}e=n=k(e,$super,"Registry",n);var u=e.$$proto,v=[e].concat(l),t,q,G,y,B,O,H,L,A,x,S,da,J,fa,Z,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca;u.groups=u.preprocessor_extensions=u.treeprocessor_extensions=u.postprocessor_extensions=u.include_processor_extensions=u.docinfo_processor_extensions=u.block_extensions=u.block_macro_extensions=u.inline_macro_extensions=f;e.$attr_reader("document");e.$attr_reader("groups");a.defn(e,"$initialize",t=function(a){null==
a&&(a=c([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=f},t.$$arity=-1);a.defn(e,"$activate",q=function(b){var c;this.document=b;d(m(a.const_get_relative(v,"Extensions").$groups().$values(),this.groups.$values()),"each",[],(c=function(b){var e=c.$$s||this,h=f;null==b&&
(b=f);h=b;a.const_get_qualified("::","Proc")["$==="](h)?(h=b.$arity(),b=0["$==="](h)||-1["$==="](h)?d(e,"instance_exec",[],b.$to_proc()):1["$==="](h)?b.$call(e):f):b=a.const_get_qualified("::","Class")["$==="](h)?b.$new().$activate(e):b.$activate(e);return b},c.$$s=this,c.$$arity=1,c));return this},q.$$arity=1);a.defn(e,"$preprocessor",G=function(a){var b,c=G.$$p,e=c||f,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(G.$$p=null);return d(this,"add_document_processor",
["preprocessor",b],e.$to_proc())},G.$$arity=-1);a.defn(e,"$preprocessors?",y=function(){return this.preprocessor_extensions["$!"]()["$!"]()},y.$$arity=0);a.defn(e,"$preprocessors",B=function(){return this.preprocessor_extensions},B.$$arity=0);a.defn(e,"$treeprocessor",O=function(a){var b,c=O.$$p,e=c||f,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(O.$$p=null);return d(this,"add_document_processor",["treeprocessor",b],e.$to_proc())},O.$$arity=-1);a.defn(e,
"$treeprocessors?",H=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},H.$$arity=0);a.defn(e,"$treeprocessors",L=function(){return this.treeprocessor_extensions},L.$$arity=0);a.defn(e,"$postprocessor",A=function(a){var b,c=A.$$p,e=c||f,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(A.$$p=null);return d(this,"add_document_processor",["postprocessor",b],e.$to_proc())},A.$$arity=-1);a.defn(e,"$postprocessors?",x=function(){return this.postprocessor_extensions["$!"]()["$!"]()},
x.$$arity=0);a.defn(e,"$postprocessors",S=function(){return this.postprocessor_extensions},S.$$arity=0);a.defn(e,"$include_processor",da=function(a){var b,c=da.$$p,e=c||f,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(da.$$p=null);return d(this,"add_document_processor",["include_processor",b],e.$to_proc())},da.$$arity=-1);a.defn(e,"$include_processors?",J=function(){return this.include_processor_extensions["$!"]()["$!"]()},J.$$arity=0);a.defn(e,"$include_processors",
fa=function(){return this.include_processor_extensions},fa.$$arity=0);a.defn(e,"$docinfo_processor",Z=function(a){var b,c=Z.$$p,e=c||f,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(Z.$$p=null);return d(this,"add_document_processor",["docinfo_processor",b],e.$to_proc())},Z.$$arity=-1);a.defn(e,"$docinfo_processors?",Y=function(a){var b;null==a&&(a=f);return g(this.docinfo_processor_extensions)?g(a)?d(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==
b&&(b=f);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):!0:!1},Y.$$arity=-1);a.defn(e,"$docinfo_processors",V=function(a){var b;null==a&&(a=f);return g(this.docinfo_processor_extensions)?g(a)?d(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=f);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:f},V.$$arity=-1);a.defn(e,"$block",ea=function(a){var b,c=ea.$$p,e=c||f,h=arguments.length;b=
h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(ea.$$p=null);return d(this,"add_syntax_processor",["block",b],e.$to_proc())},ea.$$arity=-1);a.defn(e,"$blocks?",sa=function(){return this.block_extensions["$!"]()["$!"]()},sa.$$arity=0);a.defn(e,"$registered_for_block?",pa=function(a,b){var c=f;return g(c=this.block_extensions["$[]"](a.$to_sym()))?g(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},pa.$$arity=2);a.defn(e,"$find_block_extension",ua=function(a){return this.block_extensions["$[]"](a.$to_sym())},
ua.$$arity=1);a.defn(e,"$block_macro",ga=function(a){var b,c=ga.$$p,e=c||f,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(ga.$$p=null);return d(this,"add_syntax_processor",["block_macro",b],e.$to_proc())},ga.$$arity=-1);a.defn(e,"$block_macros?",ka=function(){return this.block_macro_extensions["$!"]()["$!"]()},ka.$$arity=0);a.defn(e,"$registered_for_block_macro?",oa=function(a){var b=f;return g(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},oa.$$arity=
1);a.defn(e,"$find_block_macro_extension",ra=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},ra.$$arity=1);a.defn(e,"$inline_macro",R=function(a){var b,c=R.$$p,e=c||f,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];c&&(R.$$p=null);return d(this,"add_syntax_processor",["inline_macro",b],e.$to_proc())},R.$$arity=-1);a.defn(e,"$inline_macros?",z=function(){return this.inline_macro_extensions["$!"]()["$!"]()},z.$$arity=0);a.defn(e,"$registered_for_inline_macro?",
ca=function(a){var b=f;return g(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},ca.$$arity=1);a.defn(e,"$find_inline_macro_extension",qa=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},qa.$$arity=1);a.defn(e,"$inline_macros",Aa=function(){return this.inline_macro_extensions.$values()},Aa.$$arity=0);e.$private();a.defn(e,"$add_document_processor",xa=function(b,c){var e,h,l,k=this,m=xa.$$p,n=m||f,u=f,z=f,w=f,t=f,q=z=f,Ba=f,Da=f,X=f;m&&(xa.$$p=null);u=b.$to_s().$tr("_",
" ");z=d(u.$split(" "),"map",[],(e=function(a){null==a&&(a=f);return""+a.$chr().$upcase()+a["$[]"](r(1,-1,!1))},e.$$s=k,e.$$arity=1,e)).$join().$to_sym();w=a.const_get_relative(v,"Extensions").$const_get(z);t=g(a.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":f)?a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(z):f;z=g(h=k.$instance_variable_get(("@"+b+"_extensions").$to_sym()))?h:k.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);
q=function(){if(n!==f)return Ba=k.$resolve_args(c,1),Da=w.$new(Ba),g(w.$constants().$grep("DSL"))&&Da.$extend(w.$const_get("DSL")),d(Da,"instance_exec",[],n.$to_proc()),Da.$freeze(),g(Da["$process_block_given?"]())||k.$raise(a.const_get_qualified("::","ArgumentError").$new("No block specified to process "+u+" extension at "+n.$source_location())),a.const_get_relative(v,"ProcessorExtension").$new(b,Da);l=k.$resolve_args(c,2);h=a.to_ary(l);Da=null==h[0]?f:h[0];Ba=null==h[1]?f:h[1];l;return g(g(h=a.const_get_qualified("::",
"Class")["$==="](Da))?h:g(l=a.const_get_qualified("::","String")["$==="](Da))?Da=a.const_get_relative(v,"Extensions").$class_for_name(Da):l)?(g(g(h=p(Da,w))?h:g(l=t)?p(Da,t):l)||k.$raise(a.const_get_qualified("::","ArgumentError").$new("Invalid type for "+u+" extension: "+Da)),X=Da.$new(Ba),X.$freeze(),a.const_get_relative(v,"ProcessorExtension").$new(b,X)):g(g(h=w["$==="](Da))?h:g(l=t)?t["$==="](Da):l)?(Da.$update_config(Ba),Da.$freeze(),a.const_get_relative(v,"ProcessorExtension").$new(b,Da)):k.$raise(a.const_get_qualified("::",
"ArgumentError").$new("Invalid arguments specified for registering "+u+" extension: "+c))}();return q.$config()["$[]"]("position")["$=="](">>")?z.$unshift(q):z["$<<"](q)},xa.$$arity=2);a.defn(e,"$add_syntax_processor",ya=function(e,l){var k,m,n=ya.$$p,u=n||f,z=f,w=f,t=w=f,q=f,C=w=f,G=f,R=f,t=t=f;n&&(ya.$$p=null);z=e.$to_s().$tr("_"," ");w=d(z.$split(" "),"map",[],(k=function(a){null==a&&(a=f);return""+a.$chr().$upcase()+a["$[]"](r(1,-1,!1))},k.$$s=this,k.$$arity=1,k)).$join();w=(""+w+"Processor").$to_sym();
t=a.const_get_relative(v,"Extensions").$const_get(w);q=g(a.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":f)?a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(w):f;w=g(m=this.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?m:this.$instance_variable_set(("@"+e+"_extensions").$to_sym(),c([],{}));if(u!==f)return k=this.$resolve_args(l,2),m=a.to_ary(k),C=null==m[0]?f:m[0],G=null==m[1]?f:m[1],k,R=t.$new(this.$as_symbol(C),G),g(t.$constants().$grep("DSL"))&&
R.$extend(t.$const_get("DSL")),u.$arity()["$=="](1)?a.yield1(u,R):d(R,"instance_exec",[],u.$to_proc()),g(C=this.$as_symbol(R.$name()))||this.$raise(a.const_get_qualified("::","ArgumentError").$new("No name specified for "+z+" extension at "+u.$source_location())),g(R["$process_block_given?"]())||this.$raise(a.const_get_qualified("::","NoMethodError").$new("No block specified to process "+z+" extension at "+u.$source_location())),R.$freeze(),t=[C,a.const_get_relative(v,"ProcessorExtension").$new(e,
R)],d(w,"[]=",a.to_a(t)),t[b(t.length,1)];k=this.$resolve_args(l,3);m=a.to_ary(k);R=null==m[0]?f:m[0];C=null==m[1]?f:m[1];G=null==m[2]?f:m[2];k;return g(g(m=a.const_get_qualified("::","Class")["$==="](R))?m:g(k=a.const_get_qualified("::","String")["$==="](R))?R=a.const_get_relative(v,"Extensions").$class_for_name(R):k)?(g(g(m=p(R,t))?m:g(k=q)?p(R,q):k)||this.$raise(a.const_get_qualified("::","ArgumentError").$new("Class specified for "+z+" extension does not inherit from "+t+": "+R)),t=R.$new(this.$as_symbol(C),
G),g(C=this.$as_symbol(t.$name()))||this.$raise(a.const_get_qualified("::","ArgumentError").$new("No name specified for "+z+" extension: "+R)),R.$freeze(),t=[C,a.const_get_relative(v,"ProcessorExtension").$new(e,t)],d(w,"[]=",a.to_a(t)),t[b(t.length,1)]):g(g(m=t["$==="](R))?m:g(k=q)?q["$==="](R):k)?(R.$update_config(G),g(C)?(t=[this.$as_symbol(C)],d(R,"name=",a.to_a(t)),m=t[b(t.length,1)]):m=this.$as_symbol(R.$name()),g(C=m)||this.$raise(a.const_get_qualified("::","ArgumentError").$new("No name specified for "+
z+" extension: "+R)),R.$freeze(),t=[C,a.const_get_relative(v,"ProcessorExtension").$new(e,R)],d(w,"[]=",a.to_a(t)),t[b(t.length,1)]):this.$raise(a.const_get_qualified("::","ArgumentError").$new("Invalid arguments specified for registering "+z+" extension: "+l))},ya.$$arity=2);a.defn(e,"$resolve_args",za=function(d,e){var l=f,k=f,m=f,l=g(a.const_get_qualified("::","Hash")["$==="](d["$[]"](-1)))?d.$pop():c([],{});if(e["$=="](1))return l;var k=d.$size(),n;n=m=b(b(e,1),k);n="number"===typeof n?0<n:n["$>"](0);
g(n)?d.$fill(f,k,m):g(p(m,0))&&d.$pop(m["$-@"]());d["$<<"](l);return d},za.$$arity=2);return(a.defn(e,"$as_symbol",Ca=function(a){return g(a)?a.$to_sym():f},Ca.$$arity=1),f)&&"as_symbol"})(q[0],null,q);(function(e,l){var k=[e].concat(l),n,t,p,v,r,q,D,F;a.defn(e,"$generate_name",n=function(){return"extgrp"+this.$next_auto_id()},n.$$arity=0);a.defn(e,"$next_auto_id",t=function(){var a;null==this.auto_id&&(this.auto_id=f);this.auto_id=g(a=this.auto_id)?a:-1;return this.auto_id=m(this.auto_id,1)},t.$$arity=
0);a.defn(e,"$groups",p=function(){var a;null==this.groups&&(this.groups=f);return this.groups=g(a=this.groups)?a:c([],{})},p.$$arity=0);a.defn(e,"$build_registry",v=function(b){var c,d=v.$$p,e=d||f;null==b&&(b=f);d&&(v.$$p=null);return e!==f?(b=g(c=b)?c:this.$generate_name(),a.const_get_relative(k,"Registry").$new(u(b,e))):a.const_get_relative(k,"Registry").$new()},v.$$arity=-1);a.defn(e,"$register",r=function(c){var e,l,k=r.$$p,m=k||f,n=f,u=f,w=u=f;l=w=f;n=arguments.length;l=n-0;0>l&&(l=0);l=Array(l);
for(u=0;u<n;u++)l[u-0]=arguments[u];k&&(r.$$p=null);n=l.$length();m!==f?k=m:g((u=l.$pop())["$!"]())?k=this.$raise(a.const_get_qualified("::","ArgumentError").$new("Extension group to register not specified")):(w=u,k=a.const_get_qualified("::","Class")["$==="](w)?u:a.const_get_qualified("::","String")["$==="](w)?this.$class_for_name(u):a.const_get_qualified("::","Symbol")["$==="](w)?this.$class_for_name(u.$to_s()):u);u=k;w=g(e=l.$pop())?e:this.$generate_name();g(l["$empty?"]())||this.$raise(a.const_get_qualified("::",
"ArgumentError").$new("Wrong number of arguments ("+n+" for 1..2)"));l=[w,u];d(this.$groups(),"[]=",a.to_a(l));return l[b(l.length,1)]},r.$$arity=-1);a.defn(e,"$unregister_all",q=function(){return this.groups=c([],{})},q.$$arity=0);a.defn(e,"$resolve_class",D=function(b){return g(a.const_get_qualified("::","Class")["$==="](b))?b:this.$class_for_name(b.$to_s())},D.$$arity=1);return(a.defn(e,"$class_for_name",F=function(b){var c,e=f,e=a.const_get_qualified("::","Object");d(b.$split("::"),"each",[],
(c=function(a){var d=c.$$s||this;null==a&&(a=f);return g(a["$empty?"]())?f:g(e["$const_defined?"](a))?e=e.$const_get(a):d.$raise("Could not resolve class for name: "+b)},c.$$s=this,c.$$arity=1,c));return e},F.$$arity=1),f)&&"class_for_name"})(a.get_singleton_class(v),q)})(v[0],v)}(v[0],v)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");return b.$require("asciidoctor/extensions")};
Opal.modules["asciidoctor/opal_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js");b.$require("asciidoctor/converter");return b.$require("asciidoctor/js/postscript")};Opal.modules["asciidoctor/version"]=function(a){var b=[],m=a.module,b=[m(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","1.5.5")};Opal.modules["asciidoctor/timings"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&
"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var v=[],f=a.nil,e=a.module,k=a.klass,g=a.hash2,c=a.send,d=a.truthy,r=a.gvars;a.add_stubs("$now $[]= $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(u,l){var n=[e(u,"Asciidoctor")].concat(l);(function(e,$super,l){function n(){}e=n=k(e,$super,"Timings",n);var u=e.$$proto;[e].concat(l);var v,q,y,B,A,M,Q,x;u.timers=u.log=f;a.defn(e,
"$initialize",v=function(){this.log=g([],{});return this.timers=g([],{})},v.$$arity=0);a.defn(e,"$start",q=function(d){var e=f,e=[d,a.const_get_qualified("::","Time").$now()];c(this.timers,"[]=",a.to_a(e));return e[b(e.length,1)]},q.$$arity=1);a.defn(e,"$record",y=function(d){var e=f,e=[d,b(a.const_get_qualified("::","Time").$now(),this.timers.$delete(d))];c(this.log,"[]=",a.to_a(e));return e[b(e.length,1)]},y.$$arity=1);a.defn(e,"$read_parse",B=function(){var a,b=f;return d(m(b=p(d(a=this.log["$[]"]("read"))?
a:0,d(a=this.log["$[]"]("parse"))?a:0),0))?b:f},B.$$arity=0);a.defn(e,"$convert",A=function(){var a;return d(a=this.log["$[]"]("convert"))?a:0},A.$$arity=0);a.defn(e,"$read_parse_convert",M=function(){var a,b=f;return d(m(b=p(p(d(a=this.log["$[]"]("read"))?a:0,d(a=this.log["$[]"]("parse"))?a:0),d(a=this.log["$[]"]("convert"))?a:0),0))?b:f},M.$$arity=0);a.defn(e,"$total",Q=function(){var a,b=f;return d(m(b=p(p(p(d(a=this.log["$[]"]("read"))?a:0,d(a=this.log["$[]"]("parse"))?a:0),d(a=this.log["$[]"]("convert"))?
a:0),d(a=this.log["$[]"]("write"))?a:0),0))?b:f},Q.$$arity=0);return(a.defn(e,"$print_report",x=function(a,b){null==r.stdout&&(r.stdout=f);null==a&&(a=r.stdout);null==b&&(b=f);d(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},x.$$arity=-1),
f)&&"print_report"})(n[0],null,n)}(v[0],v)};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var b=[],m=a.nil,p=a.klass,v=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,h){function g(){}b=g=p(b,$super,"NilClass",g);[b].concat(h);return v(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,h){function g(){}b=g=p(b,$super,"String",g);[b].concat(h);return v(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?",
"empty?")})(b[0],null,b);(function(b,$super,h){function g(){}b=g=p(b,$super,"Array",g);[b].concat(h);return v(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,h){function g(){}b=g=p(b,$super,"Hash",g);[b].concat(h);return v(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,h){function g(){}b=g=p(b,$super,"Numeric",g);[b].concat(h);return v(b["$method_defined?"]("nil_or_empty?"))?
m:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/string/limit"]=function(a){var b=[],m=a.nil,p=a.klass,v=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(b,$super,h){function g(){}b=g=p(b,$super,"String",g);[b].concat(h);var c;return v(b["$method_defined?"]("limit"))?m:(a.defn(b,"$limit",c=function(b){var c=m,c=this.$bytesize(),c="number"===typeof b&&"number"===typeof c?b<c:b["$<"](c);
if(!v(c))return this;for(;!v((c=this.$byteslice(0,b)).$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)b="number"===typeof b?b-1:b["$-"](1);return c},c.$$arity=1),m)&&"limit"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,m=[],p=a.nil,v=a.truthy;a.add_stubs(["$require","$!="]);b.$require("asciidoctor/core_ext/nil_or_empty");if(v(a.const_get_relative(m,"RUBY_MIN_VERSION_1_9")))return b.$require("asciidoctor/core_ext/string/limit");
v(a.const_get_relative(m,"RUBY_ENGINE")["$!="]("opal"));return p};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}var m=[],p=a.nil,v=a.module,f=a.truthy,e=a.range,k=a.send,g=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $lines $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $each_line $include? $=~ $gsub $each_byte $sprintf $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));
return function(c,d){var m=[v(c,"Asciidoctor")].concat(d);(function(c,d){var m=v(c,"Helpers"),w=[m].concat(d),r,q,t,D,C,y,B,A,x,M;a.defs(m,"$require_library",r=function(b,c,d){var e=p,h=p;null==c&&(c=!0);null==d&&(d="abort");try{return this.$require(b)}catch(g){if(a.rescue(g,[a.const_get_qualified("::","LoadError")])){e=g;try{if(f(c))return c["$=="](!0)&&(c=b),h=d,"abort"["$==="](h)?this.$fail("asciidoctor: FAILED: required gem '"+c+"' is not installed. Processing aborted."):"warn"["$==="](h)?this.$warn("asciidoctor: WARNING: optional gem '"+
c+"' is not installed. Functionality disabled."):p;h=d;return"abort"["$==="](h)?this.$fail("asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](h)?this.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):p}finally{a.pop_exception()}}else throw g;}},r.$$arity=-2);a.defs(m,"$normalize_lines",q=function(b){return b.$class()["$=="](a.const_get_qualified("::","String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)},
q.$$arity=1);a.defs(m,"$normalize_lines_array",t=function(c){var d,g,l,m,n=p,u=p,v=p,t=p,n=p;if(f(c["$empty?"]()))return[];n=(u=c["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a();if(f(a.const_get_relative(w,"COERCE_ENCODING"))){v=a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8");if((t=n["$[]"](e(0,1,!1)))["$=="](a.const_get_relative(w,"BOM_BYTES_UTF_16LE")))return k(c.$join().$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(v).$lines(),
"map",[],(d=function(a){null==a&&(a=p);return a.$rstrip()},d.$$s=this,d.$$arity=1,d));if(t["$=="](a.const_get_relative(w,"BOM_BYTES_UTF_16BE")))return n=[0,u.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](e(1,-1,!1))],k(c,"[]=",a.to_a(n)),n[b(n.length,1)],k(c,"map",[],(g=function(b){null==b&&(b=p);return""+b.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16BE")).$encode(v).$rstrip()},g.$$s=this,g.$$arity=1,g));n["$[]"](e(0,
2,!1))["$=="](a.const_get_relative(w,"BOM_BYTES_UTF_8"))&&(n=[0,u.$force_encoding(v)["$[]"](e(1,-1,!1))],k(c,"[]=",a.to_a(n)),n[b(n.length,1)]);return k(c,"map",[],(l=function(a){null==a&&(a=p);return a.$encoding()["$=="](v)?a.$rstrip():a.$force_encoding(v).$rstrip()},l.$$s=this,l.$$arity=1,l))}n["$=="](a.const_get_relative(w,"BOM_BYTES_UTF_8"))&&(n=[0,u["$[]"](e(3,-1,!1))],k(c,"[]=",a.to_a(n)),n[b(n.length,1)]);return k(c,"map",[],(m=function(a){null==a&&(a=p);return a.$rstrip()},m.$$s=this,m.$$arity=
1,m))},t.$$arity=1);a.defs(m,"$normalize_lines_from_string",D=function(b){var c,d=p,h=p,g=p;if(f(b["$nil_or_empty?"]()))return[];f(a.const_get_relative(w,"COERCE_ENCODING"))?(d=a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"),h=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(g=h["$[]"](e(0,1,!1)))["$=="](a.const_get_relative(w,"BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(d):g["$=="](a.const_get_relative(w,
"BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](e(1,-1,!1)).$encode(d):h["$[]"](e(0,2,!1))["$=="](a.const_get_relative(w,"BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](d)?b["$[]"](e(1,-1,!1)):b.$force_encoding(d)["$[]"](e(1,-1,!1)):b.$encoding()["$=="](d)||(b=b.$force_encoding(d))):b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](a.const_get_relative(w,"BOM_BYTES_UTF_8"))&&(b=b["$[]"](e(3,-1,!1)));return k(b.$each_line(),"map",[],
(c=function(a){null==a&&(a=p);return a.$rstrip()},c.$$s=this,c.$$arity=1,c))},D.$$arity=1);a.defs(m,"$uriish?",C=function(b){var c;return f(c=b["$include?"](":"))?b["$=~"](a.const_get_relative(w,"UriSniffRx")):c},C.$$arity=1);a.defs(m,"$uri_prefix",y=function(b){var c;return f(f(c=b["$include?"](":"))?b["$=~"](a.const_get_relative(w,"UriSniffRx")):c)?(c=g["~"])===p?p:c["$[]"](0):p},y.$$arity=1);a.const_set(w[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(m,"$encode_uri",B=function(b){var c;
return k(b,"gsub",[a.const_get_relative(w,"REGEXP_ENCODE_URI_CHARS")],(c=function(){var a=c.$$s||this,b,d;return k(((b=g["~"])===p?p:b["$[]"](0)).$each_byte(),"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=p);return b.$sprintf("%%%02X",a)},d.$$s=a,d.$$arity=1,d)).$join()},c.$$s=this,c.$$arity=0,c))},B.$$arity=1);a.defs(m,"$rootname",A=function(b){var c=p;return f((c=a.const_get_qualified("::","File").$extname(b))["$empty?"]())?b:b["$[]"](a.Range.$new(0,c.$length()["$-@"](),!0))},A.$$arity=
1);a.defs(m,"$basename",x=function(b,c){null==c&&(c=!1);return f(c)?a.const_get_qualified("::","File").$basename(b,a.const_get_qualified("::","File").$extname(b)):a.const_get_qualified("::","File").$basename(b)},x.$$arity=-2);a.defs(m,"$mkdir_p",M=function(b){var c,d=p;if(f(a.const_get_qualified("::","File")["$directory?"](b)))return p;d=a.const_get_qualified("::","File").$dirname(b);f(f(c=a.const_get_qualified("::","File")["$directory?"](d=a.const_get_qualified("::","File").$dirname(b))["$!"]())?
d["$!="]("."):c)&&this.$mkdir_p(d);return a.const_get_qualified("::","Dir").$mkdir(b)},M.$$arity=1)})(m[0],m)}(m[0],m)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var f=[],e=a.nil,
k=a.slice,g=a.module,c=a.hash2,d=a.truthy,r=a.send,u=a.gvars,l=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $size $unescape_brackets $resolve_pass_subs $[]= $- $> $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $config $process_method $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $references $id $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(f,q){var y=[g(f,"Asciidoctor")].concat(q);(function(f,n){var q=g(f,"Substitutors"),C=[q].concat(n),y,B,A,x,M,Q,da,N,S,ba,O,H,L,T,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra;a.const_set(C[0],"SPECIAL_CHARS",c(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.const_set(C[0],"SPECIAL_CHARS_PATTERN",new RegExp("["+a.const_get_relative(C,"SPECIAL_CHARS").$keys().$join()+"]"));a.const_set(C[0],"SUBS",c("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],
normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),header:["specialcharacters","attributes"],pass:[]}));a.const_set(C[0],"COMPOSITE_SUBS",c(["none","normal","verbatim","specialchars"],{none:[],normal:a.const_get_relative(C,"SUBS")["$[]"]("normal"),verbatim:a.const_get_relative(C,"SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));
a.const_set(C[0],"SUB_SYMBOLS",c("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(C[0],"SUB_OPTIONS",c(["block","inline"],{block:b(b(a.const_get_relative(C,"COMPOSITE_SUBS").$keys(),a.const_get_relative(C,"SUBS")["$[]"]("normal")),["callouts"]),inline:b(a.const_get_relative(C,"COMPOSITE_SUBS").$keys(),a.const_get_relative(C,"SUBS")["$[]"]("normal"))}));a.const_set(C[0],"SUB_HIGHLIGHT",["coderay",
"pygments"]);a.const_set(C[0],"PASS_START","\u0096");a.const_set(C[0],"PASS_END","\u0097");a.const_set(C[0],"PASS_MATCH",/\u0096(\d+)\u0097/);a.const_set(C[0],"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);q.$attr_reader("passthroughs");a.defn(q,"$apply_subs",y=function(c,f,g){var l,k,n,u=e,p=e,v=e,t=e;null==this.passthroughs&&(this.passthroughs=e);null==f&&(f="normal");null==g&&(g=!1);if(d(f["$!"]()))return c;f["$=="]("normal")?f=a.const_get_relative(C,"SUBS")["$[]"]("normal"):
d(g)&&(d(a.const_get_qualified("::","Symbol")["$==="](f))?f=d(l=a.const_get_relative(C,"COMPOSITE_SUBS")["$[]"](f))?l:[f]:(u=[],r(f,"each",[],(k=function(c){null==c&&(c=e);return d(a.const_get_relative(C,"COMPOSITE_SUBS")["$has_key?"](c))?u=b(u,a.const_get_relative(C,"COMPOSITE_SUBS")["$[]"](c)):u["$<<"](c)},k.$$s=this,k.$$arity=1,k)),f=u));if(d(f["$empty?"]()))return c;p=d(v=a.const_get_qualified("::","Array")["$==="](c))?m(c,a.const_get_relative(C,"EOL")):c;d(t=f["$include?"]("macros"))&&(p=this.$extract_passthroughs(p),
d(this.passthroughs["$empty?"]())&&(t=!1));r(f,"each",[],(n=function(b){var c=n.$$s||this,h=e;null==b&&(b=e);h=b;return"specialcharacters"["$==="](h)?p=c.$sub_specialchars(p):"quotes"["$==="](h)?p=c.$sub_quotes(p):"attributes"["$==="](h)?p=m(c.$sub_attributes(p.$split(a.const_get_relative(C,"EOL"))),a.const_get_relative(C,"EOL")):"replacements"["$==="](h)?p=c.$sub_replacements(p):"macros"["$==="](h)?p=c.$sub_macros(p):"highlight"["$==="](h)?p=c.$highlight_source(p,f["$include?"]("callouts")):"callouts"["$==="](h)?
d(f["$include?"]("highlight"))?e:p=c.$sub_callouts(p):"post_replacements"["$==="](h)?p=c.$sub_post_replacements(p):c.$warn("asciidoctor: WARNING: unknown substitution type "+b)},n.$$s=this,n.$$arity=1,n));d(t)&&(p=this.$restore_passthroughs(p));return d(v)?p.$split(a.const_get_relative(C,"EOL")):p},y.$$arity=-2);a.defn(q,"$apply_normal_subs",B=function(b){return this.$apply_subs(d(a.const_get_qualified("::","Array")["$==="](b))?m(b,a.const_get_relative(C,"EOL")):b)},B.$$arity=1);a.defn(q,"$apply_title_subs",
A=function(b){return this.$apply_subs(b,a.const_get_relative(C,"SUBS")["$[]"]("title"))},A.$$arity=1);a.defn(q,"$apply_header_subs",x=function(b){return this.$apply_subs(b,a.const_get_relative(C,"SUBS")["$[]"]("header"))},x.$$arity=1);a.defn(q,"$extract_passthroughs",M=function(b){var h,f,g,k,n,t=e,q=e,G=e,M=e;null==this.document&&(this.document=e);t=this.document.$compat_mode();d(d(h=d(f=b["$include?"]("++"))?f:b["$include?"]("$$"))?h:b["$include?"]("ss:"))&&(b=r(b,"gsub",[a.const_get_relative(C,
"PassInlineMacroRx")],(g=function(){var b=g.$$s||this,h,f=e,k=e,n=e,z=e,q=z=n=e,G=e,R=e,f=e;null==b.passthroughs&&(b.passthroughs=e);null==u["~"]&&(u["~"]=e);f=u["~"];k=e;if(d((n=f["$[]"](4))["$nil_or_empty?"]())){if(f["$[]"](6)["$=="]("\\"))return f["$[]"](0)["$[]"](l(1,-1,!1));z=[n=b.passthroughs.$size(),c(["text","subs"],{text:b.$unescape_brackets(f["$[]"](8)),subs:d(f["$[]"](7)["$nil_or_empty?"]())?[]:b.$resolve_pass_subs(f["$[]"](7))})]}else{if(d(d(h=t)?n["$=="]("++"):h))return d(f["$[]"](2)["$nil_or_empty?"]())?
""+f["$[]"](1)+f["$[]"](3)+"++"+b.$extract_passthroughs(f["$[]"](5))+"++":""+f["$[]"](1)+"["+f["$[]"](2)+"]"+f["$[]"](3)+"++"+b.$extract_passthroughs(f["$[]"](5))+"++";z=f["$[]"](2);d(a.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&z["$=="]("")&&(z=e);q=f["$[]"](3).$size();G=f["$[]"](5);R=!1;if(d(z)){if(d(v(q,0)))return""+f["$[]"](1)+"["+z+"]"+m("\\",p(q,1))+n+f["$[]"](5)+n+")";f["$[]"](1)["$=="]("\\")?(k="["+z+"]",z=e):(d(n["$=="]("++")?z["$end_with?"]("x-"):n["$=="]("++"))&&(R=!0,z=z["$[]"](l(0,
-2,!0))),z=b.$parse_attributes(z))}else if(d(v(q,0)))return""+f["$[]"](1)+"["+z+"]"+m("\\",p(q,1))+n+f["$[]"](5)+n;f=n["$=="]("+++")?[]:["specialcharacters"];n=b.passthroughs.$size();z=d(z)?d(R)?[n,c(["text","subs","type","attributes"],{text:G,subs:a.const_get_relative(C,"SUBS")["$[]"]("normal"),type:"monospaced",attributes:z})]:[n,c(["text","subs","type","attributes"],{text:G,subs:f,type:"unquoted",attributes:z})]:[n,c(["text","subs"],{text:G,subs:f})]}r(b.passthroughs,"[]=",a.to_a(z));z[p(z.length,
1)];return""+k+a.const_get_relative(C,"PASS_START")+n+a.const_get_relative(C,"PASS_END")},g.$$s=this,g.$$arity=0,g)));f=a.const_get_relative(C,"PassInlineRx")["$[]"](t);h=a.to_ary(f);q=null==h[0]?e:h[0];G=null==h[1]?e:h[1];M=null==h[2]?e:h[2];f;d(d(h=b["$include?"](q))?h:d(f=G)?b["$include?"](G):f)&&(b=r(b,"gsub",[M],(k=function(){var b=k.$$s||this,h,f=e,g=e,m=e,n=e,z=e,w=e,v=e,z=m=f=e;null==b.passthroughs&&(b.passthroughs=e);null==u["~"]&&(u["~"]=e);f=u["~"];g=f["$[]"](1);m=f["$[]"](2);n=d(f["$[]"](3)["$start_with?"]("\\"))?
"\\":e;z=f["$[]"](4);w=f["$[]"](5);d(a.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&m["$=="]("")&&(m=e);d(t)?v=!0:d(v=d(h=m)?m["$end_with?"]("x-"):h)&&(m=m["$[]"](l(0,-2,!0)));if(d(m)){if(d(z["$=="]("`")?v["$!"]():z["$=="]("`")))return""+g+"["+m+"]"+n+"`"+b.$extract_passthroughs(w)+"`";if(d(n))return""+g+"["+m+"]"+f["$[]"](3)["$[]"](l(1,-1,!1));g["$=="]("\\")?(g="["+m+"]",m=e):m=b.$parse_attributes(m)}else{if(d(z["$=="]("`")?v["$!"]():z["$=="]("`")))return""+g+n+"`"+b.$extract_passthroughs(w)+"`";
if(d(n))return""+g+f["$[]"](3)["$[]"](l(1,-1,!1))}f=b.passthroughs.$size();d(t)?m=[f,c(["text","subs","attributes","type"],{text:w,subs:["specialcharacters"],attributes:m,type:"monospaced"})]:d(m)?d(v)?(z=z["$=="]("`")?["specialcharacters"]:a.const_get_relative(C,"SUBS")["$[]"]("normal"),m=[f,c(["text","subs","attributes","type"],{text:w,subs:z,attributes:m,type:"monospaced"})]):m=[f,c(["text","subs","attributes","type"],{text:w,subs:["specialcharacters"],attributes:m,type:"unquoted"})]:m=[f,c(["text",
"subs"],{text:w,subs:["specialcharacters"]})];r(b.passthroughs,"[]=",a.to_a(m));m[p(m.length,1)];return""+g+a.const_get_relative(C,"PASS_START")+f+a.const_get_relative(C,"PASS_END")},k.$$s=this,k.$$arity=0,k)));d(d(h=b["$include?"](":"))?d(f=b["$include?"]("stem:"))?f:b["$include?"]("math:"):h)&&(b=r(b,"gsub",[a.const_get_relative(C,"StemInlineMacroRx")],(n=function(){var b=n.$$s||this,h=e,f=e,g=e,k=e,m=e,h=f=e;null==b.document&&(b.document=e);null==b.passthroughs&&(b.passthroughs=e);null==u["~"]&&
(u["~"]=e);h=u["~"];if(d(h["$[]"](0)["$start_with?"]("\\")))return h["$[]"](0)["$[]"](l(1,-1,!1));(f=h["$[]"](1).$to_sym())["$=="]("stem")&&(f=(d((g=b.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":g).$to_sym());k=b.$unescape_brackets(h["$[]"](3));m=d(h["$[]"](2)["$nil_or_empty?"]())?d(b.document["$basebackend?"]("html"))?["specialcharacters"]:[]:b.$resolve_pass_subs(h["$[]"](2));f=[h=b.passthroughs.$size(),c(["text","subs","type"],{text:k,subs:m,type:f})];r(b.passthroughs,
"[]=",a.to_a(f));f[p(f.length,1)];return""+a.const_get_relative(C,"PASS_START")+h+a.const_get_relative(C,"PASS_END")},n.$$s=this,n.$$arity=0,n)));return b},M.$$arity=1);a.defn(q,"$restore_passthroughs",Q=function(b,h){var f,g,l,k=this;null==k.passthroughs&&(k.passthroughs=e);null==h&&(h=!0);return function(){try{return d(d(f=h)?d(g=k.passthroughs["$empty?"]())?g:b["$include?"](a.const_get_relative(C,"PASS_START"))["$!"]():f)?b:r(b,"gsub",[a.const_get_relative(C,"PASS_MATCH")],(l=function(){var b=
l.$$s||this,h=e,f=e,g=e,k=e;null==b.passthroughs&&(b.passthroughs=e);null==u["~"]&&(u["~"]=e);h=b.passthroughs["$[]"](u["~"]["$[]"](1).$to_i());f=d(g=h["$[]"]("subs"))?b.$apply_subs(h["$[]"]("text"),g):h["$[]"]("text");d(k=h["$[]"]("type"))&&(f=a.const_get_relative(C,"Inline").$new(b,"quoted",f,c(["type","attributes"],{type:k,attributes:h["$[]"]("attributes")})).$convert());return d(f["$include?"](a.const_get_relative(C,"PASS_START")))?b.$restore_passthroughs(f,!1):f},l.$$s=k,l.$$arity=0,l))}finally{d(h)&&
k.passthroughs.$clear()}}()},Q.$$arity=-2);a.defn(q,"$sub_specialchars",da=function(b){var c;return d(a.const_get_relative(C,"SUPPORTS_GSUB_RESULT_HASH"))?b.$gsub(a.const_get_relative(C,"SPECIAL_CHARS_PATTERN"),a.const_get_relative(C,"SPECIAL_CHARS")):r(b,"gsub",[a.const_get_relative(C,"SPECIAL_CHARS_PATTERN")],(c=function(){var b;return a.const_get_relative(C,"SPECIAL_CHARS")["$[]"]((b=u["~"])===e?e:b["$[]"](0))},c.$$s=this,c.$$arity=0,c))},da.$$arity=1);a.alias(q,"sub_specialcharacters","sub_specialchars");
a.const_get_relative(C,"RUBY_ENGINE")["$=="]("opal")?(a.defn(q,"$sub_quotes",N=function(b){var c;null==this.document&&(this.document=e);r(a.const_get_relative(C,"QUOTE_SUBS")["$[]"](this.document.$compat_mode()),"each",[],(c=function(a,d,h){var f=c.$$s||this,g;null==a&&(a=e);null==d&&(d=e);null==h&&(h=e);return b=r(b,"gsub",[h],(g=function(){var b=g.$$s||this;null==u["~"]&&(u["~"]=e);return b.$convert_quoted_text(u["~"],a,d)},g.$$s=f,g.$$arity=0,g))},c.$$s=this,c.$$arity=3,c));return b},N.$$arity=
1),a.defn(q,"$sub_replacements",S=function(b){var c;r(a.const_get_relative(C,"REPLACEMENTS"),"each",[],(c=function(a,d,h){var f=c.$$s||this,g;null==a&&(a=e);null==d&&(d=e);null==h&&(h=e);return b=r(b,"gsub",[a],(g=function(){var a=g.$$s||this;null==u["~"]&&(u["~"]=e);return a.$do_replacement(u["~"],d,h)},g.$$s=f,g.$$arity=0,g))},c.$$s=this,c.$$arity=3,c));return b},S.$$arity=1)):e;a.defn(q,"$do_replacement",ba=function(a,b,c){var h=e,h=e;d((h=a["$[]"](0))["$include?"]("\\"))?a=h.$tr("\\",""):(h=c,
a="none"["$==="](h)?b:"leading"["$==="](h)?""+a["$[]"](1)+b:"bounding"["$==="](h)?""+a["$[]"](1)+b+a["$[]"](2):e);return a},ba.$$arity=3);a.defn(q,"$sub_attributes",O=function(f,g){var l,k=this,n=e,p=e,v=e,t=e;null==k.document&&(k.document=e);null==g&&(g=c([],{}));if(d(f["$nil_or_empty?"]()))return f;d(n=a.const_get_qualified("::","String")["$==="](f))&&(f=[f]);p=k.document.$attributes();v=e;t=[];(function(){var c=a.new_brk();try{return r(f,"each",[],(l=function(c){var f=l.$$s||this,k,m,n,w=e,q=e;
null==c&&(c=e);q=w=!1;d(c["$include?"]("{"))&&(c=function(){var l=a.new_brk();try{return r(c,"gsub",[a.const_get_relative(C,"AttributeReferenceRx")],(k=function(){var c=k.$$s||this,f,m,n,t=e,r=e,D=e,X=e,wa=e,G=e,F=e,R=e,M=e;null==c.document&&(c.document=e);null==u["~"]&&(u["~"]=e);t=u["~"];return d(d(f=t["$[]"](1)["$=="]("\\"))?f:t["$[]"](4)["$=="]("\\"))?"{"+t["$[]"](2)+"}":d(t["$[]"](3)["$nil_or_empty?"]()["$!"]())?(r=b((D=t["$[]"](3)).$length(),1),X=t["$[]"](2)["$[]"](a.Range.$new(r,-1,!1)),function(){wa=
D;if("set"["$==="](wa))return G=X.$split(":"),m=a.const_get_relative(C,"Parser").$store_attribute(G["$[]"](0),d(n=G["$[]"](1))?n:"",c.document),f=a.to_ary(m),F=null==f[1]?e:f[1],m,!d(F)&&p.$fetch("attribute-undefined",a.const_get_relative(C,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(w=!0,a.brk("",l)),q=!0,"";if("counter"["$==="](wa)||"counter2"["$==="](wa))return G=X.$split(":"),R=c.document.$counter(G["$[]"](0),G["$[]"](1)),D["$=="]("counter2")?(q=!0,""):R;c.$warn("asciidoctor: WARNING: illegal attribute directive: "+
t["$[]"](3));return t["$[]"](0)}()):d(p["$key?"](M=t["$[]"](2).$downcase()))?p["$[]"](M):d(a.const_get_relative(C,"INTRINSIC_ATTRIBUTES")["$key?"](M))?a.const_get_relative(C,"INTRINSIC_ATTRIBUTES")["$[]"](M):function(){wa=v=d(f=v)?f:d(m=g["$[]"]("attribute_missing"))?m:p.$fetch("attribute-missing",a.const_get_relative(C,"Compliance").$attribute_missing());if("skip"["$==="](wa))return t["$[]"](0);if("drop-line"["$==="](wa))c.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+
M),w=!0,a.brk("",l);else{if("warn"["$==="](wa))return c.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+M),t["$[]"](0);q=!0;return""}}()},k.$$s=f,k.$$brk=l,k.$$arity=0,k))}catch(m){if(m===l)return m.$v;throw m;}}());return d(d(m=w)?m:d(n=q)?c["$empty?"]():n)?e:t["$<<"](c)},l.$$s=k,l.$$brk=c,l.$$arity=1,l))}catch(m){if(m===c)return m.$v;throw m;}})();return d(n)?m(t,a.const_get_relative(C,"EOL")):t},O.$$arity=-2);a.defn(q,"$sub_macros",H=function(b){var h,f,g,m,n,w,t,v,q,G,
M,y,B=e,H=e,K=e,O=e,A=e,x=e,V=e;null==this.document&&(this.document=e);if(d(b["$nil_or_empty?"]()))return b;B=c([],{});H=["square_bracket",b["$include?"]("[")];r(B,"[]=",a.to_a(H));H[p(H.length,1)];H=["round_bracket",b["$include?"]("(")];r(B,"[]=",a.to_a(H));H[p(H.length,1)];H=["colon",K=b["$include?"](":")];r(B,"[]=",a.to_a(H));H[p(H.length,1)];H=["macroish",d(h=B["$[]"]("square_bracket"))?K:h];r(B,"[]=",a.to_a(H));H[p(H.length,1)];H=["macroish_short_form",d(h=d(f=B["$[]"]("square_bracket"))?K:f)?
b["$include?"](":["):h];r(B,"[]=",a.to_a(H));H[p(H.length,1)];O=this.document.$attributes()["$has_key?"]("linkattrs");A=this.document.$attributes()["$has_key?"]("experimental");x=""+b;d(A)&&(d(d(h=B["$[]"]("macroish_short_form"))?d(f=x["$include?"]("kbd:"))?f:x["$include?"]("btn:"):h)&&(x=r(x,"gsub",[a.const_get_relative(C,"KbdBtnInlineMacroRx")],(g=function(){var b=g.$$s||this,h,f=e,k=e,f=f=e;null==u["~"]&&(u["~"]=e);f=u["~"];return d((k=f["$[]"](0))["$start_with?"]("\\"))?k["$[]"](l(1,-1,!1)):d(k["$start_with?"]("kbd"))?
(f=b.$unescape_bracketed_text(f["$[]"](1)),f=f["$=="]("+")?["+"]:r(f.$split(a.const_get_relative(C,"KbdDelimiterRx")),"inject",[[]],(h=function(a,b){null==a&&(a=e);null==b&&(b=e);if(d(b["$end_with?"]("++")))a["$<<"](b["$[]"](l(0,-3,!1)).$strip()),a["$<<"]("+");else a["$<<"](b.$strip());return a},h.$$s=b,h.$$arity=2,h)),a.const_get_relative(C,"Inline").$new(b,"kbd",e,c(["attributes"],{attributes:c(["keys"],{keys:f})})).$convert()):d(k["$start_with?"]("btn"))?(f=b.$unescape_bracketed_text(f["$[]"](1)),
a.const_get_relative(C,"Inline").$new(b,"button",f).$convert()):e},g.$$s=this,g.$$arity=0,g))),d(d(h=B["$[]"]("macroish"))?x["$include?"]("menu:"):h)&&(x=r(x,"gsub",[a.const_get_relative(C,"MenuInlineMacroRx")],(m=function(){var b=m.$$s||this,h,f=e,g=e,k=f=g=e,k=f=e;null==u["~"]&&(u["~"]=e);f=u["~"];if(d((g=f["$[]"](0))["$start_with?"]("\\")))return g["$[]"](l(1,-1,!1));g=f["$[]"](1);f=f["$[]"](2);d(f["$!"]())?(k=[],f=e):d(k=d(f["$include?"]("&gt;"))?"&gt;":d(f["$include?"](","))?",":e)?(k=r(f.$split(k),
"map",[],(h=function(a){null==a&&(a=e);return a.$strip()},h.$$s=b,h.$$arity=1,h)),f=k.$pop()):(k=[],f=f.$rstrip());return a.const_get_relative(C,"Inline").$new(b,"menu",e,c(["attributes"],{attributes:c(["menu","submenus","menuitem"],{menu:g,submenus:k,menuitem:f})})).$convert()},m.$$s=this,m.$$arity=0,m))),d(d(h=x["$include?"]('"'))?x["$include?"]("&gt;"):h)&&(x=r(x,"gsub",[a.const_get_relative(C,"MenuInlineRx")],(n=function(){var b=n.$$s||this,h,f,g=e,m=g=g=f=e;f=e;null==u["~"]&&(u["~"]=e);g=u["~"];
if(d((f=g["$[]"](0))["$start_with?"]("\\")))return f["$[]"](l(1,-1,!1));g=g["$[]"](1);f=r(g.$split("&gt;"),"map",[],(h=function(a){null==a&&(a=e);return a.$strip()},h.$$s=b,h.$$arity=1,h));h=a.to_ary(f);g=null==h[0]?e:h[0];m=k.call(h,1);f;f=m.$pop();return a.const_get_relative(C,"Inline").$new(b,"menu",e,c(["attributes"],{attributes:c(["menu","submenus","menuitem"],{menu:g,submenus:m,menuitem:f})})).$convert()},n.$$s=this,n.$$arity=0,n))));d(d(h=V=this.document.$extensions())?V["$inline_macros?"]():
h)&&r(V.$inline_macros(),"each",[],(w=function(a){var b=w.$$s||this,h;null==a&&(a=e);return x=r(x,"gsub",[a.$instance().$regexp()],(h=function(){var b=h.$$s||this,f,g=e,k=e,g=e;null==u["~"]&&(u["~"]=e);g=u["~"];if(d(g["$[]"](0)["$start_with?"]("\\")))return g["$[]"](0)["$[]"](l(1,-1,!1));k=g["$[]"](1);g=a.$config()["$[]"]("format")["$=="]("short")?c([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?b.$parse_attributes(g["$[]"](2),d(f=a.$config()["$[]"]("pos_attrs"))?f:[],c(["sub_input",
"unescape_input"],{sub_input:!0,unescape_input:!0})):c(["text"],{text:b.$unescape_bracketed_text(g["$[]"](2))});return a.$process_method()["$[]"](b,k,g)},h.$$s=b,h.$$arity=0,h))},w.$$s=this,w.$$arity=1,w));d(d(h=B["$[]"]("macroish"))?d(f=x["$include?"]("image:"))?f:x["$include?"]("icon:"):h)&&(x=r(x,"gsub",[a.const_get_relative(C,"ImageInlineMacroRx")],(t=function(){var b=t.$$s||this,h,f=e,g=e,k=e,m=e,g=f=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);f=u["~"];if(d(f["$[]"](0)["$start_with?"]("\\")))return f["$[]"](0)["$[]"](l(1,
-1,!1));g=b.$unescape_bracketed_text(f["$[]"](2));d(f["$[]"](0)["$start_with?"]("icon:"))?(k="icon",m=["size"]):(k="image",m=["alt","width","height"]);f=b.$sub_attributes(f["$[]"](1));k["$=="]("icon")||b.document.$register("images",f);g=b.$parse_attributes(g,m);d(h=g["$[]"]("alt"))?h:(H=["alt",a.const_get_relative(C,"Helpers").$basename(f,!0).$tr("_-"," ")],r(g,"[]=",a.to_a(H)),H[p(H.length,1)]);return a.const_get_relative(C,"Inline").$new(b,"image",e,c(["type","target","attributes"],{type:k,target:f,
attributes:g})).$convert()},t.$$s=this,t.$$arity=0,t)));d(d(h=B["$[]"]("macroish_short_form"))?h:B["$[]"]("round_bracket"))&&(x=r(x,"gsub",[a.const_get_relative(C,"IndextermInlineMacroRx")],(v=function(){var b=v.$$s||this,h,f=e,g=e,k=e,m=e,f=f=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);f=u["~"];if(d(f["$[]"](0)["$start_with?"]("\\")))return f["$[]"](0)["$[]"](l(1,-1,!1));d(a.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&f["$[]"](1)["$=="]("")&&(H=[1,e],r(f,"[]=",a.to_a(H)),H[p(H.length,
1)]);g=0;k=e;d(m=f["$[]"](1))||(k=f["$[]"](3),d(d(h=k["$start_with?"]("("))?k["$end_with?"](")"):h)?(k=k["$[]"](l(1,-1,!0)),g=3):g=2);if(d(d(h=m["$=="]("indexterm"))?h:g["$=="](3)))return f=d(m["$!"]())?b.$split_simple_csv(b.$normalize_string(k)):b.$split_simple_csv(b.$normalize_string(f["$[]"](2),!0)),b.document.$register("indexterms",[].concat(a.to_a(f))),a.const_get_relative(C,"Inline").$new(b,"indexterm",e,c(["attributes"],{attributes:c(["terms"],{terms:f})})).$convert();f=d(m["$!"]())?b.$normalize_string(k):
b.$normalize_string(f["$[]"](2),!0);b.document.$register("indexterms",[f]);return a.const_get_relative(C,"Inline").$new(b,"indexterm",f,c(["type"],{type:"visible"})).$convert()},v.$$s=this,v.$$arity=0,v)));d(d(h=K)?x["$include?"]("://"):h)&&(x=r(x,"gsub",[a.const_get_relative(C,"LinkInlineRx")],(q=function(){var b=q.$$s||this,h,f,g,k=e,m=e,n=e,w=e,z=e,t=z=e,k=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);k=u["~"];if(d(k["$[]"](2)["$start_with?"]("\\")))return""+k["$[]"](1)+k["$[]"](2)["$[]"](l(1,
-1,!1))+k["$[]"](3);d(a.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&k["$[]"](3)["$=="]("")&&(H=[3,e],r(k,"[]=",a.to_a(H)),H[p(H.length,1)]);if(d((h=k["$[]"](1)["$=="]("link:"))?k["$[]"](3)["$!"]():k["$[]"](1)["$=="]("link:")))return k["$[]"](0);m=d(k["$[]"](1)["$!="]("link:"))?k["$[]"](1):"";n=k["$[]"](2);w="";d(d(h=k["$[]"](3))?h:n["$!~"](a.const_get_relative(C,"UriTerminator")))||(z=u["~"]["$[]"](0),")"["$==="](z)?(n=n["$[]"](l(0,-2,!1)),w=")"):";"["$==="](z)?d(d(h=m["$start_with?"]("&lt;"))?
n["$end_with?"]("&gt;"):h)?(m=m["$[]"](l(4,-1,!1)),n=n["$[]"](l(0,-5,!1))):d(n["$end_with?"](");"))?(n=n["$[]"](l(0,-3,!1)),w=");"):(n=n["$[]"](l(0,-2,!1)),w=";"):":"["$==="](z)&&(d(n["$end_with?"]("):"))?(n=n["$[]"](l(0,-3,!1)),w="):"):(n=n["$[]"](l(0,-2,!1)),w=":")));b.document.$register("links",n);z=c(["type","target"],{type:"link",target:n});t=e;d(k["$[]"](3)["$nil_or_empty?"]())?k="":(d(d(h=O)?d(f=k["$[]"](3)["$start_with?"]('"'))?f:d(g=k["$[]"](3)["$include?"](","))?k["$[]"](3)["$include?"]("="):
g:h)?(t=b.$parse_attributes(b.$sub_attributes(k["$[]"](3).$gsub("\\]","]")),[]),d(t["$has_key?"]("id"))&&(H=["id",t.$delete("id")],r(z,"[]=",a.to_a(H)),H[p(H.length,1)]),k=d(h=t["$[]"](1))?h:""):k=b.$sub_attributes(k["$[]"](3).$gsub("\\]","]")),d(k["$end_with?"]("^"))&&(k=k.$chop(),d(t)?d(h=t["$[]"]("window"))?h:(H=["window","_blank"],r(t,"[]=",a.to_a(H)),H[p(H.length,1)]):t=c(["window"],{window:"_blank"})));d(k["$empty?"]())&&(k=d(b.document["$attr?"]("hide-uri-scheme"))?n.$sub(a.const_get_relative(C,
"UriSniffRx"),""):n,d(t)?(H=["role",("bare "+t["$[]"]("role")).$chomp(" ")],r(t,"[]=",a.to_a(H)),H[p(H.length,1)]):t=c(["role"],{role:"bare"}));d(t)&&(H=["attributes",t],r(z,"[]=",a.to_a(H)),H[p(H.length,1)]);return""+m+a.const_get_relative(C,"Inline").$new(b,"anchor",k,z).$convert()+w},q.$$s=this,q.$$arity=0,q)));d(d(h=d(f=B["$[]"]("macroish"))?x["$include?"]("link:"):f)?h:x["$include?"]("mailto:"))&&(x=r(x,"gsub",[a.const_get_relative(C,"LinkInlineMacroRx")],(G=function(){var b=G.$$s||this,h,f,
g=e,k=e,m=e,n=e,w=e,t=e,g=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);g=u["~"];if(d(g["$[]"](0)["$start_with?"]("\\")))return g["$[]"](0)["$[]"](l(1,-1,!1));k=g["$[]"](1);m=g["$[]"](0)["$start_with?"]("mailto:");n=d(m)?"mailto:"+k:k;w=c(["type","target"],{type:"link",target:n});t=e;d(d(h=O)?d(f=g["$[]"](2)["$start_with?"]('"'))?f:g["$[]"](2)["$include?"](","):h)?(t=b.$parse_attributes(b.$sub_attributes(g["$[]"](2).$gsub("\\]","]")),[]),d(t["$key?"]("id"))&&(H=["id",t.$delete("id")],
r(w,"[]=",a.to_a(H)),H[p(H.length,1)]),d(m)&&d(t["$key?"](2))&&(n=(H=["target",""+n+"?subject="+a.const_get_relative(C,"Helpers").$encode_uri(t["$[]"](2))],r(w,"[]=",a.to_a(H)),H[p(H.length,1)]),d(t["$key?"](3))&&(n=(H=["target",""+n+"&amp;body="+a.const_get_relative(C,"Helpers").$encode_uri(t["$[]"](3))],r(w,"[]=",a.to_a(H)),H[p(H.length,1)]))),g=t["$[]"](1)):g=b.$sub_attributes(g["$[]"](2).$gsub("\\]","]"));b.document.$register("links",n);d(g["$end_with?"]("^"))&&(g=g.$chop(),d(t)?d(h=t["$[]"]("window"))?
h:(H=["window","_blank"],r(t,"[]=",a.to_a(H)),H[p(H.length,1)]):t=c(["window"],{window:"_blank"}));d(g["$empty?"]())&&(d(m)?g=k:(g=d(b.document["$attr?"]("hide-uri-scheme"))?k.$sub(a.const_get_relative(C,"UriSniffRx"),""):k,d(t)?(H=["role",("bare "+t["$[]"]("role")).$chomp(" ")],r(t,"[]=",a.to_a(H)),H[p(H.length,1)]):t=c(["role"],{role:"bare"})));d(t)&&(H=["attributes",t],r(w,"[]=",a.to_a(H)),H[p(H.length,1)]);return a.const_get_relative(C,"Inline").$new(b,"anchor",g,w).$convert()},G.$$s=this,G.$$arity=
0,G)));d(x["$include?"]("@"))&&(x=r(x,"gsub",[a.const_get_relative(C,"EmailInlineMacroRx")],(M=function(){var b=M.$$s||this,h=e,f=e,h=h=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);h=u["~"];f=h["$[]"](0);if(d(h=h["$[]"](1)))return"\\"["$==="](h)?f["$[]"](l(1,-1,!1)):f;h="mailto:"+f;b.document.$register("links",h);return a.const_get_relative(C,"Inline").$new(b,"anchor",f,c(["type","target"],{type:"link",target:h})).$convert()},M.$$s=this,M.$$arity=0,M)));d(d(h=B["$[]"]("macroish_short_form"))?
x["$include?"]("footnote"):h)&&(x=r(x,"gsub",[a.const_get_relative(C,"FootnoteInlineMacroRx")],(y=function(){var b=y.$$s||this,h,f,g,k=h=e,m=f=h=e,n=e;h=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);h=u["~"];if(d(h["$[]"](0)["$start_with?"]("\\")))return h["$[]"](0)["$[]"](l(1,-1,!1));h["$[]"](1)["$=="]("footnote")?(k=e,h=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(h["$[]"](2),!0))),!1),f=b.document.$counter("footnote-number"),b.document.$register("footnotes",
a.const_get_qualified(a.const_get_relative(C,"Document"),"Footnote").$new(f,k,h)),n=m=e):(f=h["$[]"](2).$split(",",2),h=a.to_ary(f),k=null==h[0]?e:h[0],h=null==h[1]?e:h[1],f,k=k.$strip(),d(h["$nil_or_empty?"]())?(d(h=r(b.document.$references()["$[]"]("footnotes"),"find",[],(g=function(a){null==a&&(a=e);return a.$id()["$=="](k)},g.$$s=b,g.$$arity=1,g)))?(f=h.$index(),h=h.$text()):(f=e,h=k),n=k,k=e,m="xref"):(h=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(h,
!0))),!1),f=b.document.$counter("footnote-number"),b.document.$register("footnotes",a.const_get_qualified(a.const_get_relative(C,"Document"),"Footnote").$new(f,k,h)),m="ref",n=e));return a.const_get_relative(C,"Inline").$new(b,"footnote",h,c(["attributes","id","target","type"],{attributes:c(["index"],{index:f}),id:k,target:n,type:m})).$convert()},y.$$s=this,y.$$arity=0,y)));return this.$sub_inline_xrefs(this.$sub_inline_anchors(x,B),B)},H.$$arity=1);a.defn(q,"$sub_inline_anchors",L=function(b,h){var f,
g,k,m,n;null==h&&(h=e);d(d(f=d(g=h["$!"]())?g:h["$[]"]("square_bracket"))?b["$include?"]("[[["):f)&&(b=r(b,"gsub",[a.const_get_relative(C,"InlineBiblioAnchorRx")],(k=function(){var b=k.$$s||this,h=e,f=h=e;null==u["~"]&&(u["~"]=e);h=u["~"];if(d(h["$[]"](0)["$start_with?"]("\\")))return h["$[]"](0)["$[]"](l(1,-1,!1));h=f=h["$[]"](1);return a.const_get_relative(C,"Inline").$new(b,"anchor",f,c(["type","target"],{type:"bibref",target:h})).$convert()},k.$$s=this,k.$$arity=0,k)));d(d(f=d(g=d(m=h["$!"]())?
m:h["$[]"]("square_bracket"))?b["$include?"]("[["):g)?f:d(g=d(m=h["$!"]())?m:h["$[]"]("macroish"))?b["$include?"]("anchor:"):g)&&(b=r(b,"gsub",[a.const_get_relative(C,"InlineAnchorRx")],(n=function(){var b=n.$$s||this,h,f,g=e,k=e,g=k=e;null==u["~"]&&(u["~"]=e);g=u["~"];if(d(g["$[]"](0)["$start_with?"]("\\")))return g["$[]"](0)["$[]"](l(1,-1,!1));d(a.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&(g["$[]"](1)["$=="]("")&&(k=[1,e],r(g,"[]=",a.to_a(k)),k[p(k.length,1)]),g["$[]"](2)["$=="]("")&&(k=[2,
e],r(g,"[]=",a.to_a(k)),k[p(k.length,1)]),g["$[]"](4)["$=="]("")&&(k=[4,e],r(g,"[]=",a.to_a(k)),k[p(k.length,1)]));k=d(h=g["$[]"](1))?h:g["$[]"](3);g=d(h=d(f=g["$[]"](2))?f:g["$[]"](4))?h:"["+k+"]";return a.const_get_relative(C,"Inline").$new(b,"anchor",g,c(["type","target"],{type:"ref",target:k})).$convert()},n.$$s=this,n.$$arity=0,n)));return b},L.$$arity=-2);a.defn(q,"$sub_inline_xrefs",T=function(b,h){var f,g,k;null==h&&(h=e);d(d(f=d(g=h["$!"]())?g:h["$[]"]("macroish"))?f:b["$include?"]("&lt;&lt;"))&&
(b=r(b,"gsub",[a.const_get_relative(C,"XrefInlineMacroRx")],(k=function(){var b=k.$$s||this,h,f,g,m,n=e,w=e,t=w=e,z=w=n=e,v=e,z=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);n=u["~"];if(d(n["$[]"](0)["$start_with?"]("\\")))return n["$[]"](0)["$[]"](l(1,-1,!1));d(a.const_get_qualified("::","RUBY_ENGINE_OPAL"))&&n["$[]"](1)["$=="]("")&&(w=[1,e],r(n,"[]=",a.to_a(w)),w[p(w.length,1)]);d(n["$[]"](1))?(f=r(n["$[]"](1).$split(",",2),"map",[],(g=function(a){null==a&&(a=e);return a.$strip()},
g.$$s=b,g.$$arity=1,g)),h=a.to_ary(f),w=null==h[0]?e:h[0],t=null==h[1]?e:h[1],f,w=w.$sub(a.const_get_relative(C,"DoubleQuotedRx"),"\\2"),t=d(t["$nil_or_empty?"]())?e:t.$sub(a.const_get_relative(C,"DoubleQuotedMultiRx"),"\\2")):(w=n["$[]"](2),d(n["$[]"](3)["$nil_or_empty?"]())||(t=n["$[]"](3)));d(w["$include?"]("#"))?(f=w.$split("#"),h=a.to_ary(f),n=null==h[0]?e:h[0],w=null==h[1]?e:h[1],f):n=e;d(n)?(n=a.const_get_relative(C,"Helpers").$rootname(n),d(d(h=b.document.$attributes()["$[]"]("docname")["$=="](n))?
h:b.document.$references()["$[]"]("includes")["$include?"](n))?(z=w,n=e,v="#"+w):(z=d(w)?""+n+"#"+w:n,n=""+b.document.$attributes()["$[]"]("relfileprefix")+n+b.document.$attributes().$fetch("outfilesuffix",".html"),v=d(w)?""+n+"#"+w:n)):(d(d(h=d(f=b.document.$references()["$[]"]("ids")["$has_key?"](w)["$!"]())?d(m=w["$include?"](" "))?m:w.$downcase()["$!="](w):f)?z=d(a.const_get_relative(C,"RUBY_MIN_VERSION_1_9"))?b.document.$references()["$[]"]("ids").$key(w):b.document.$references()["$[]"]("ids").$index(w):
h)&&(w=z),z=w,v="#"+w);return a.const_get_relative(C,"Inline").$new(b,"anchor",t,c(["type","target","attributes"],{type:"xref",target:v,attributes:c(["path","fragment","refid"],{path:n,fragment:w,refid:z})})).$convert()},k.$$s=this,k.$$arity=0,k)));return b},T.$$arity=-2);a.defn(q,"$sub_callouts",la=function(b){var h,f=e,f=d(this["$attr?"]("line-comment"))?new RegExp("(?:"+a.const_get_qualified("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+a.const_get_relative(C,"CalloutSourceRxt")):a.const_get_relative(C,
"CalloutSourceRx");return r(b,"gsub",[f],(h=function(){var b=h.$$s||this,d=e;null==b.document&&(b.document=e);null==u["~"]&&(u["~"]=e);d=u["~"];return d["$[]"](1)["$=="]("\\")?d["$[]"](0).$sub("\\",""):a.const_get_relative(C,"Inline").$new(b,"callout",d["$[]"](3),c(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},h.$$s=this,h.$$arity=0,h))},la.$$arity=1);a.defn(q,"$sub_post_replacements",ha=function(b){var h,f,g,l=e,k=e;null==this.document&&(this.document=e);null==this.attributes&&
(this.attributes=e);if(d(d(h=this.document.$attributes()["$has_key?"]("hardbreaks"))?h:this.attributes["$has_key?"]("hardbreaks-option"))){l=b.$split(a.const_get_relative(C,"EOL"));if(l.$size()["$=="](1))return b;k=l.$pop();return m(r(l,"map",[],(f=function(b){var d=f.$$s||this;null==b&&(b=e);return a.const_get_relative(C,"Inline").$new(d,"break",b.$rstrip().$chomp(a.const_get_relative(C,"LINE_BREAK")),c(["type"],{type:"line"})).$convert()},f.$$s=this,f.$$arity=1,f)).$push(k),a.const_get_relative(C,
"EOL"))}return d(b["$include?"]("+"))?r(b,"gsub",[a.const_get_relative(C,"LineBreakRx")],(g=function(){var b=g.$$s||this;null==u["~"]&&(u["~"]=e);return a.const_get_relative(C,"Inline").$new(b,"break",u["~"]["$[]"](1),c(["type"],{type:"line"})).$convert()},g.$$s=this,g.$$arity=0,g)):b},ha.$$arity=1);a.defn(q,"$convert_quoted_text",na=function(b,h,f){var g=e,k=e,m=g=e,g=e;if(d(b["$[]"](0)["$start_with?"]("\\")))if(d(f["$=="]("constrained")?(k=b["$[]"](2))["$nil_or_empty?"]()["$!"]():f["$=="]("constrained")))g=
"["+k+"]";else return b["$[]"](0)["$[]"](l(1,-1,!1));if(f["$=="]("constrained")){if(d(g))return""+g+a.const_get_relative(C,"Inline").$new(this,"quoted",b["$[]"](3),c(["type"],{type:h})).$convert();d(g=this.$parse_quoted_text_attributes(b["$[]"](2)))?(m=g.$delete("id"),h["$=="]("mark")&&(h="unquoted")):m=e;return""+b["$[]"](1)+a.const_get_relative(C,"Inline").$new(this,"quoted",b["$[]"](3),c(["type","id","attributes"],{type:h,id:m,attributes:g})).$convert()}d(g=this.$parse_quoted_text_attributes(b["$[]"](1)))?
(m=g.$delete("id"),h["$=="]("mark")&&(h="unquoted")):m=e;return a.const_get_relative(C,"Inline").$new(this,"quoted",b["$[]"](2),c(["type","id","attributes"],{type:h,id:m,attributes:g})).$convert()},na.$$arity=3);a.defn(q,"$parse_quoted_text_attributes",J=function(b){var h,f,g=e,l=e,n=e,l=n=g=e;if(!d(b))return e;if(d(b["$empty?"]()))return c([],{});d(b["$include?"]("{"))&&(b=this.$sub_attributes(b));b=b.$strip();d(b["$include?"](","))&&(f=b.$split(",",2),h=a.to_ary(f),b=null==h[0]?e:h[0],f);return d(b["$empty?"]())?
c([],{}):d(d(h=d(f=b["$start_with?"]("."))?f:b["$start_with?"]("#"))?a.const_get_relative(C,"Compliance").$shorthand_property_syntax():h)?(g=b.$split("#",2),d(v(g.$length(),1))?(f=g["$[]"](1).$split("."),h=a.to_ary(f),l=null==h[0]?e:h[0],n=k.call(h,1),f):(l=e,n=[]),g=d(g["$[]"](0)["$empty?"]())?[]:g["$[]"](0).$split("."),d(v(g.$length(),1))&&g.$shift(),d(v(n.$length(),0))&&g.$concat(n),n=c([],{}),d(l)&&(l=["id",l],r(n,"[]=",a.to_a(l)),l[p(l.length,1)]),d(g["$empty?"]())||(l=["role",m(g," ")],r(n,
"[]=",a.to_a(l)),l[p(l.length,1)]),n):c(["role"],{role:b})},J.$$arity=1);a.defn(q,"$parse_attributes",fa=function(b,h,f){var g=e,l=e;null==this.document&&(this.document=e);null==h&&(h=["role"]);null==f&&(f=c([],{}));if(!d(b))return e;if(d(b["$empty?"]()))return c([],{});d(f["$[]"]("sub_input"))&&(b=this.document.$sub_attributes(b));d(f["$[]"]("unescape_input"))&&(b=this.$unescape_bracketed_text(b));g=e;d(f.$fetch("sub_result",!0))&&(g=this);return d(l=f["$[]"]("into"))?a.const_get_relative(C,"AttributeList").$new(b,
g).$parse_into(l,h):a.const_get_relative(C,"AttributeList").$new(b,g).$parse(h)},fa.$$arity=-2);a.defn(q,"$unescape_bracketed_text",ja=function(b){return d(b["$empty?"]())?"":b.$strip().$tr(a.const_get_relative(C,"EOL")," ").$gsub("\\]","]")},ja.$$arity=1);a.defn(q,"$normalize_string",Y=function(b,c){null==c&&(c=!1);return d(b["$empty?"]())?"":d(c)?this.$unescape_brackets(b.$strip().$tr(a.const_get_relative(C,"EOL")," ")):b.$strip().$tr(a.const_get_relative(C,"EOL")," ")},Y.$$arity=-2);a.defn(q,"$unescape_brackets",
V=function(a){return d(a["$empty?"]())?"":a.$gsub("\\]","]")},V.$$arity=1);a.defn(q,"$split_simple_csv",ea=function(a){var b,c,h=e,f=e,g=e;d(a["$empty?"]())?h=[]:d(a["$include?"]('"'))?(h=[],f=[],g=!1,r(a,"each_char",[],(b=function(a){var b=e;null==a&&(a=e);return function(){b=a;if(","["$==="](b)){if(d(g))return f.$push(a);h["$<<"](f.$join().$strip());return f=[]}return'"'["$==="](b)?g=g["$!"]():f.$push(a)}()},b.$$s=this,b.$$arity=1,b)),h["$<<"](f.$join().$strip())):h=r(a.$split(","),"map",[],(c=
function(a){null==a&&(a=e);return a.$strip()},c.$$s=this,c.$$arity=1,c));return h},ea.$$arity=1);a.defn(q,"$resolve_subs",sa=function(c,f,g,k){var n,u=e,t=e,q=e,G=e;null==f&&(f="block");null==g&&(g=e);null==k&&(k=e);if(d(c["$nil_or_empty?"]()))return[];u=e;t=a.const_get_relative(C,"SubModifierSniffRx")["$=~"](c);r(c.$tr(" ","").$split(","),"each",[],(n=function(c){var k,m,n=e,w=k=e,v=w=e,n=e;null==c&&(c=e);n=e;d(t)&&((k=c.$chr())["$=="]("+")?(n="append",c=c["$[]"](l(1,-1,!1))):k["$=="]("-")?(n="remove",
c=c["$[]"](l(1,-1,!1))):d(c["$end_with?"]("+"))&&(n="prepend",c=c.$chop()));c=c.$to_sym();d((k=f["$=="]("inline"))?d(m=c["$=="]("verbatim"))?m:c["$=="]("v"):f["$=="]("inline"))?w=["specialcharacters"]:d(a.const_get_relative(C,"COMPOSITE_SUBS")["$key?"](c))?w=a.const_get_relative(C,"COMPOSITE_SUBS")["$[]"](c):d(d(k=f["$=="]("inline")?c.$length()["$=="](1):f["$=="]("inline"))?a.const_get_relative(C,"SUB_SYMBOLS")["$key?"](c):k)?(w=a.const_get_relative(C,"SUB_SYMBOLS")["$[]"](c),w=d(v=a.const_get_relative(C,
"COMPOSITE_SUBS")["$[]"](w))?v:[w]):w=[c];if(d(n))return u=d(k=u)?k:d(g)?g.$dup():[],"append"["$==="](n)?u=b(u,w):"prepend"["$==="](n)?u=b(w,u):"remove"["$==="](n)?u=p(u,w):e;u=d(k=u)?k:[];return u=b(u,w)},n.$$s=this,n.$$arity=1,n));q=u["$&"](a.const_get_relative(C,"SUB_OPTIONS")["$[]"](f));d(p(u,q)["$empty?"]())||(G=p(u,q),this.$warn("asciidoctor: WARNING: invalid substitution type"+(d(v(G.$size(),1))?"s":"")+(d(k)?" for ":e)+k+": "+m(G,", ")));return q},sa.$$arity=-2);a.defn(q,"$resolve_block_subs",
pa=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},pa.$$arity=3);a.defn(q,"$resolve_pass_subs",ua=function(a){return this.$resolve_subs(a,"inline",e,"passthrough macro")},ua.$$arity=1);a.defn(q,"$highlight_source",ga=function(f,g,l){var k,n,t,v=e,q=e,G=e,M=e,H=e,y=e,B=e,x=e,K=e,O=e,A=v=e,va=e,V=e;null==this.document&&(this.document=e);null==this.passthroughs&&(this.passthroughs=e);null==l&&(l=e);v=l=d(k=l)?k:this.document.$attributes()["$[]"]("source-highlighter");"coderay"["$==="](v)?d(d(k=
q=a.const_get_qualified("::","CodeRay","skip_raise")?"constant":e)?k:this.document.$attributes()["$[]"]("coderay-unavailable"))||(d(a.const_get_relative(C,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?this.document.$set_attr("coderay-unavailable",""):q=!0):"pygments"["$==="](v)?d(d(k=q=a.const_get_qualified("::","Pygments","skip_raise")?"constant":e)?k:this.document.$attributes()["$[]"]("pygments-unavailable"))||(d(a.const_get_relative(C,"Helpers").$require_library("pygments","pygments.rb",
"warn")["$nil?"]())?this.document.$set_attr("pygments-unavailable",""):q=!0):q=!1;if(!d(q))return this.$sub_source(f,g);G=0;M=!1;d(g)?(H=c([],{}),y=-1,B=d(this["$attr?"]("line-comment"))?new RegExp("(?:"+a.const_get_qualified("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+a.const_get_relative(C,"CalloutExtractRxt")):a.const_get_relative(C,"CalloutExtractRx"),f=m(r(f.$split(a.const_get_relative(C,"EOL")),"map",[],(n=function(c){var f=n.$$s||this,g;null==c&&(c=e);G=b(G,1);return r(c,"gsub",
[B],(g=function(){var b,c=e,h=e;null==u["~"]&&(u["~"]=e);c=u["~"];if(c["$[]"](1)["$=="]("\\"))return c["$[]"](0).$sub("\\","");(d(b=H["$[]"](G))?b:(h=[G,[]],r(H,"[]=",a.to_a(h)),h[p(h.length,1)]))["$<<"](c["$[]"](3));y=G;return e},g.$$s=f,g.$$arity=0,g))},n.$$s=this,n.$$arity=1,n)),a.const_get_relative(C,"EOL")),M=y["$=="](G),d(H["$empty?"]())&&(H=e)):H=e;K=x=e;v=l;"coderay"["$==="](v)?(d(x=d(this["$attr?"]("linenums"))?(d(k=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?k:"table").$to_sym():
e)&&d(this["$attr?"]("highlight",e,!1))&&(K=this.$resolve_highlight_lines(this.$attr("highlight",e,!1))),O=a.const_get_qualified(a.const_get_qualified("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",c(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(d(k=this.document.$attributes()["$[]"]("coderay-css"))?k:"class").$to_sym(),line_numbers:x,line_number_anchors:!1,highlight_lines:K,bold_every:!1})).$highlight(f)):"pygments"["$==="](v)&&
(v=d(k=a.const_get_qualified(a.const_get_qualified("::","Pygments"),"Lexer")["$[]"](this.$attr("language",e,!1)))?k:a.const_get_qualified(a.const_get_qualified("::","Pygments"),"Lexer")["$[]"]("text"),A=c(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),(d(k=this.document.$attributes()["$[]"]("pygments-css"))?k:"class")["$=="]("class")||(va=["noclasses",!0],r(A,"[]=",a.to_a(va)),va[p(va.length,1)],va=["style",d(k=this.document.$attributes()["$[]"]("pygments-style"))?
k:a.const_get_qualified(a.const_get_relative(C,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],r(A,"[]=",a.to_a(va)),va[p(va.length,1)]),d(this["$attr?"]("highlight",e,!1))&&!d((K=this.$resolve_highlight_lines(this.$attr("highlight",e,!1)))["$empty?"]())&&(va=["hl_lines",m(K," ")],r(A,"[]=",a.to_a(va)),va[p(va.length,1)]),d(this["$attr?"]("linenums"))?(va=["linenos",d(k=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?k:"table"],r(A,"[]=",a.to_a(va)),va[p(va.length,1)])["$=="]("table")?(x=
"table",O=v.$highlight(f,c(["options"],{options:A})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):O=v.$highlight(f,c(["options"],{options:A})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1"):(va=["nowrap",!0],r(A,"[]=",a.to_a(va)),va[p(va.length,1)],O=v.$highlight(f,c(["options"],{options:A}))));d(this.passthroughs["$empty?"]())||(O=O.$gsub(a.const_get_relative(C,"PASS_MATCH_HI"),""+a.const_get_relative(C,"PASS_START")+"\\1"+a.const_get_relative(C,
"PASS_END")));return d(d(k=g)?H:k)?(G=0,V=x["$!="]("table"),m(r(O.$split(a.const_get_relative(C,"EOL")),"map",[],(t=function(f){var g=t.$$s||this,l,k,n=e,u=e,p=e,n=e;null==g.document&&(g.document=e);null==f&&(f=e);if(!d(V)){if(!d(f["$include?"]('<td class="code">')))return f;V=!0}G=b(G,1);if(d(n=H.$delete(G))){u=e;d(d(l=M)?H["$empty?"]():l)&&(d(p=f.$index("</pre>"))?(u=f["$[]"](a.Range.$new(p,-1,!1)),f=""+f["$[]"](a.Range.$new(0,p,!0)).$chomp(" ")+" "):f=""+f.$chomp(" ")+" ");if(n.$size()["$=="](1))return""+
f+a.const_get_relative(C,"Inline").$new(g,"callout",n["$[]"](0),c(["id"],{id:g.document.$callouts().$read_next_id()})).$convert()+u;n=m(r(n,"map",[],(k=function(b){var d=k.$$s||this;null==d.document&&(d.document=e);null==b&&(b=e);return a.const_get_relative(C,"Inline").$new(d,"callout",b,c(["id"],{id:d.document.$callouts().$read_next_id()})).$convert()},k.$$s=g,k.$$arity=1,k))," ");return""+f+n+u}return f},t.$$s=this,t.$$arity=1,t)),a.const_get_relative(C,"EOL"))):O},ga.$$arity=-3);a.defn(q,"$resolve_highlight_lines",
ka=function(b){var c,h=e,h=[];r(b.$delete(" ").$split(a.const_get_relative(C,"DataDelimiterRx")),"map",[],(c=function(b){var c,f=e,g=e,g=c=e;null==b&&(b=e);f=!1;d(b["$start_with?"]("!"))&&(b=b["$[]"](l(1,-1,!1)),f=!0);return d(b["$include?"]("-"))?(b=b.$split("-",2),c=a.to_ary(b),g=null==c[0]?e:c[0],c=null==c[1]?e:c[1],b,g=a.Range.$new(g.$to_i(),c.$to_i(),!1).$to_a(),d(f)?h=p(h,g):h.$concat(g)):d(f)?h.$delete(b.$to_i()):h["$<<"](b.$to_i())},c.$$s=this,c.$$arity=1,c));return h.$sort().$uniq()},ka.$$arity=
1);a.defn(q,"$sub_source",oa=function(a,b){return d(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},oa.$$arity=2);a.defn(q,"$lock_in_subs",ra=function(){var b,c,h,f,g=e,l=g=e;null==this.default_subs&&(this.default_subs=e);null==this.content_model&&(this.content_model=e);null==this.context&&(this.context=e);null==this.attributes&&(this.attributes=e);null==this.style&&(this.style=e);null==this.document&&(this.document=e);null==this.subs&&(this.subs=e);if(d(this.default_subs))g=
this.default_subs;else if(g=this.content_model,"simple"["$==="](g))g=a.const_get_relative(C,"SUBS")["$[]"]("normal");else if("verbatim"["$==="](g))g=d(d(b=this.context["$=="]("listing"))?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?a.const_get_relative(C,"SUBS")["$[]"]("verbatim"):this.context["$=="]("verse")?a.const_get_relative(C,"SUBS")["$[]"]("normal"):a.const_get_relative(C,"SUBS")["$[]"]("basic");else if("raw"["$==="](g))g=this.context["$=="]("stem")?
a.const_get_relative(C,"SUBS")["$[]"]("basic"):a.const_get_relative(C,"SUBS")["$[]"]("pass");else return e;d(l=this.attributes["$[]"]("subs"))?this.subs=this.$resolve_block_subs(l,g,this.context):this.subs=g.$dup();return d(d(b=d(c=d(h=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$[]"]("language"):h)?this.document["$basebackend?"]("html"):c)?a.const_get_relative(C,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):
b)?this.subs=r(this.subs,"map",[],(f=function(a){null==a&&(a=e);return a["$=="]("specialcharacters")?"highlight":a},f.$$s=this,f.$$arity=1,f)):e},ra.$$arity=0)})(y[0],y)}(f[0],f)};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var v=[],f=a.nil,e=a.module,k=a.klass,
g=a.truthy,c=a.hash2,d=a.send,r=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $- $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path".split(" "));
return function(u,l){var n=[e(u,"Asciidoctor")].concat(l);(function(e,$super,l){function n(){}e=n=k(e,$super,"AbstractNode",n);var u=e.$$proto,v=[e].concat(l),q,y,B,x,M,A,W,N,P,ba,O,H,L,T,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra;u.document=u.attributes=u.path_resolver=f;e.$include(a.const_get_relative(v,"Substitutors"));e.$attr_reader("parent");e.$attr_reader("document");e.$attr_reader("context");e.$attr_reader("node_name");e.$attr_accessor("id");e.$attr_reader("attributes");a.defn(e,"$initialize",
q=function(a,b,d){null==d&&(d=c([],{}));b["$=="]("document")?this.document=a:g(a)?(this.parent=a,this.document=a.$document()):this.document=this.parent=f;this.context=b;this.node_name=b.$to_s();this.attributes=g(d["$key?"]("attributes"))?d["$[]"]("attributes").$dup():c([],{});return this.passthroughs=c([],{})},q.$$arity=-3);a.defn(e,"$parent=",y=function(a){this.parent=a;this.document=a.$document();return f},y.$$arity=1);a.defn(e,"$inline?",B=function(){return this.$raise(a.const_get_qualified("::",
"NotImplementedError"))},B.$$arity=0);a.defn(e,"$block?",x=function(){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},x.$$arity=0);a.defn(e,"$attr",M=function(b,c,d){var e,h;null==c&&(c=f);null==d&&(d=!0);g(a.const_get_qualified("::","Symbol")["$==="](b))&&(b=b.$to_s());this["$=="](this.document)&&(d=!1);return g(d)?g(e=g(h=this.attributes["$[]"](b))?h:this.document.$attributes()["$[]"](b))?e:c:g(e=this.attributes["$[]"](b))?e:c},M.$$arity=-2);a.defn(e,"$attr?",A=function(b,
c,d){var e,h;null==c&&(c=f);null==d&&(d=!0);g(a.const_get_qualified("::","Symbol")["$==="](b))&&(b=b.$to_s());this["$=="](this.document)&&(d=!1);return g(c["$nil?"]())?g(e=this.attributes["$has_key?"](b))?e:g(h=d)?this.document.$attributes()["$has_key?"](b):h:g(d)?c["$=="](g(e=this.attributes["$[]"](b))?e:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b))},A.$$arity=-2);a.defn(e,"$set_attr",W=function(c,e,l){var k=f;null==l&&(l=!0);if(g(l["$=="](!1)?this.attributes["$key?"](c):
l["$=="](!1)))return!1;k=[c,e];d(this.attributes,"[]=",a.to_a(k));k[b(k.length,1)];return!0},W.$$arity=-3);a.defn(e,"$set_option",N=function(c){var e=f,e=g(this.attributes["$has_key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+c]:["options",c];d(this.attributes,"[]=",a.to_a(e));e[b(e.length,1)];e=[""+c+"-option",""];d(this.attributes,"[]=",a.to_a(e));return e[b(e.length,1)]},N.$$arity=1);a.defn(e,"$option?",P=function(a){return this.attributes["$has_key?"](""+a+"-option")},P.$$arity=
1);a.defn(e,"$update_attributes",ba=function(a){this.attributes.$update(a);return f},ba.$$arity=1);a.defn(e,"$converter",O=function(){return this.document.$converter()},O.$$arity=0);a.defn(e,"$role?",H=function(a){var b;null==a&&(a=f);return g(a)?a["$=="](g(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role")):g(b=this.attributes["$has_key?"]("role"))?b:this.document.$attributes()["$has_key?"]("role")},H.$$arity=-1);a.defn(e,"$role",L=function(){var a;return g(a=this.attributes["$[]"]("role"))?
a:this.document.$attributes()["$[]"]("role")},L.$$arity=0);a.defn(e,"$has_role?",T=function(a){var b,c=f;return g(c=g(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))?c.$split(" ")["$include?"](a):!1},T.$$arity=1);a.defn(e,"$roles",la=function(){var a,b=f;return g(b=g(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role"))?b.$split(" "):[]},la.$$arity=0);a.defn(e,"$add_role",ha=function(c){var e,l=f,l=f;if(g((l=(g(e=this.attributes["$[]"]("role"))?
e:"").$split(" "))["$include?"](c)))return f;l=["role",m(l.$push(c)," ")];d(this.attributes,"[]=",a.to_a(l));return l[b(l.length,1)]},ha.$$arity=1);a.defn(e,"$remove_role",na=function(c){var e,l=f,l=f;return g((l=(g(e=this.attributes["$[]"]("role"))?e:"").$split(" "))["$include?"](c))?(l.$delete(c),l=["role",m(l," ")],d(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]):f},na.$$arity=1);a.defn(e,"$reftext?",J=function(){var a;return g(a=this.attributes["$has_key?"]("reftext"))?a:this.document.$attributes()["$has_key?"]("reftext")},
J.$$arity=0);a.defn(e,"$reftext",fa=function(){var a;return g(a=this.attributes["$[]"]("reftext"))?a:this.document.$attributes()["$[]"]("reftext")},fa.$$arity=0);a.defn(e,"$icon_uri",ja=function(b){var c=f;return g(this["$attr?"]("icon"))?g(a.const_get_qualified("::","File").$extname(c=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?""+c+"."+this.document.$attr("icontype","png"):c:this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir")},ja.$$arity=1);a.defn(e,"$media_uri",
Y=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,g(b)?this.document.$attr(b):f)},Y.$$arity=-2);a.defn(e,"$image_uri",V=function(b,c){var d,e,h,l,k=f,m=f;null==c&&(c="imagesdir");return g(g(d=p((k=this.document).$safe(),a.const_get_qualified(a.const_get_relative(v,"SafeMode"),"SECURE")))?k["$attr?"]("data-uri"):d)?g(g(d=a.const_get_relative(v,"Helpers")["$uriish?"](b))?d:g(e=g(h=g(l=c)?m=k.$attr(c):l)?a.const_get_relative(v,"Helpers")["$uriish?"](m):h)?b=this.$normalize_web_path(b,
m,!1):e)?g(k["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(b,k["$attr?"]("cache-uri")):b:this.$generate_data_uri(b,c):this.$normalize_web_path(b,g(c)?k.$attr(c):f)},V.$$arity=-2);a.defn(e,"$generate_data_uri",ea=function(b,e){var h,l=f,k=l=f,m=f;null==e&&(e=f);l=a.const_get_qualified("::","File").$extname(b);l=l["$=="](".svg")?"image/svg+xml":"image/"+l["$[]"](r(1,-1,!1));k=g(e)?this.$normalize_system_path(b,this.document.$attr(e),f,c(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);
if(!g(a.const_get_qualified("::","File")["$readable?"](k)))return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+k),"data:"+l+":base64,";m=f;m=g(a.const_get_qualified("::","IO")["$respond_to?"]("binread"))?a.const_get_qualified("::","IO").$binread(k):d(a.const_get_qualified("::","File"),"open",[k,"rb"],(h=function(a){null==a&&(a=f);return a.$read()},h.$$s=this,h.$$arity=1,h));return"data:"+l+";base64,"+a.const_get_qualified("::","Base64").$encode64(m).$delete(a.const_get_relative(v,
"EOL"))},ea.$$arity=-2);a.defn(e,"$generate_data_uri_from_uri",sa=function(b,c){var e,h=f,l=f;null==c&&(c=!1);g(c)?a.const_get_relative(v,"Helpers").$require_library("open-uri/cached","open-uri-cached"):g(a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&a.const_get_qualified("::","OpenURI");try{return h=f,l=d(this,"open",[b,"rb"],(e=function(a){null==a&&(a=f);h=a.$content_type();return a.$read()},e.$$s=this,e.$$arity=1,e)),"data:"+h+";base64,"+a.const_get_qualified("::","Base64").$encode64(l).$delete(a.const_get_relative(v,
"EOL"))}catch(k){if(a.rescue(k,[a.const_get_relative(v,"StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw k;}},sa.$$arity=-2);a.defn(e,"$read_contents",pa=function(b,e){var h,l,k,n,u=f,p=f,t=f;null==e&&(e=c([],{}));u=this.document;if(g(g(h=a.const_get_relative(v,"Helpers")["$uriish?"](b))?h:g(l=g(k=p=e["$[]"]("start"))?a.const_get_relative(v,"Helpers")["$uriish?"](p):k)?b=(this.path_resolver=g(k=this.path_resolver)?
k:a.const_get_relative(v,"PathResolver").$new()).$web_path(b,p):l))if(g(u["$attr?"]("allow-uri-read"))){g(u["$attr?"]("cache-uri"))&&a.const_get_relative(v,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{t=d(a.const_get_qualified("::","OpenURI"),"open_uri",[b],(n=function(a){null==a&&(a=f);return a.$read()},n.$$s=this,n.$$arity=1,n)),g(e["$[]"]("normalize"))&&(t=m(a.const_get_relative(v,"Helpers").$normalize_lines_from_string(t),a.const_get_relative(v,"EOL")))}catch(r){if(a.rescue(r,
[a.const_get_relative(v,"StandardError")]))try{g(e.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(g(h=e["$[]"]("label"))?h:"asset")+" at URI: "+b),t=f}finally{a.pop_exception()}else throw r;}}else g(e.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(g(h=e["$[]"]("label"))?h:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),t=f;else b=this.$normalize_system_path(b,e["$[]"]("start"),f,
c(["target_name"],{target_name:g(h=e["$[]"]("label"))?h:"asset"})),t=this.$read_asset(b,c(["normalize","warn_on_failure"],{normalize:e["$[]"]("normalize"),warn_on_failure:e.$fetch("warn_on_failure",!0)}));return t},pa.$$arity=-2);a.defn(e,"$read_asset",ua=function(b,d){null==d&&(d=c([],{}));g(a.const_get_qualified("::","Hash")["$==="](d))||(d=c(["warn_on_failure"],{warn_on_failure:d["$!="](!1)}));if(g(a.const_get_qualified("::","File")["$readable?"](b)))return g(d["$[]"]("normalize"))?m(a.const_get_relative(v,
"Helpers").$normalize_lines_from_string(a.const_get_qualified("::","IO").$read(b)),a.const_get_relative(v,"EOL")):a.const_get_qualified("::","IO").$read(b);g(d["$[]"]("warn_on_failure"))&&this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+b);return f},ua.$$arity=-2);a.defn(e,"$normalize_web_path",ga=function(b,c,d){var e;null==c&&(c=f);null==d&&(d=!0);return g(g(e=d)?a.const_get_relative(v,"Helpers")["$uriish?"](b):e)?b:(this.path_resolver=g(e=this.path_resolver)?e:a.const_get_relative(v,
"PathResolver").$new()).$web_path(b,c)},ga.$$arity=-2);a.defn(e,"$normalize_system_path",ka=function(b,d,e,h){var l,k=f,m=f;null==d&&(d=f);null==e&&(e=f);null==h&&(h=c([],{}));k=this.path_resolver=g(l=this.path_resolver)?l:a.const_get_relative(v,"PathResolver").$new();g(p((m=this.document).$safe(),a.const_get_qualified(a.const_get_relative(v,"SafeMode"),"SAFE")))?g(d)?g(k["$is_root?"](d))||(d=a.const_get_qualified("::","File").$join(m.$base_dir(),d)):d=m.$base_dir():(g(d)||(d=m.$base_dir()),g(e)||
(e=m.$base_dir()));return k.$system_path(b,d,e,h)},ka.$$arity=-2);a.defn(e,"$normalize_asset_path",oa=function(a,b,d){null==b&&(b="path");null==d&&(d=!0);return this.$normalize_system_path(a,this.document.$base_dir(),f,c(["target_name","recover"],{target_name:b,recover:d}))},oa.$$arity=-2);return(a.defn(e,"$is_uri?",ra=function(b){return a.const_get_relative(v,"Helpers")["$uriish?"](b)},ra.$$arity=1),f)&&"is_uri?"})(n[0],null,n)}(v[0],v)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,
c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var v=[],f=a.nil,e=a.module,k=a.klass,g=a.send,c=a.truthy,d=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $- $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(v,u){var l=[e(v,"Asciidoctor")].concat(u);(function(e,$super,l){function u(){}e=u=k(e,$super,"AbstractBlock",u);var t=e.$$proto,v=[e].concat(l),r,q,D,y,B,M,x,A,N,P,ba,O,H,L,T,la,ha,na,J,fa,ja,Y;t.document=t.attributes=t.blocks=t.source_location=t.subs=t.title=t.subbed_title=t.caption=t.next_section_index=t.context=t.style=t.id=t.header=t.next_section_number=f;e.$attr_accessor("content_model");e.$attr_reader("subs");e.$attr_reader("blocks");e.$attr_accessor("level");e.$attr_writer("title");
e.$attr_accessor("style");e.$attr_accessor("caption");e.$attr_accessor("source_location");a.defn(e,"$initialize",r=function(b,e,h){var l=r.$$p,k=f,m=f,n=f;null==h&&(h=d([],{}));l&&(r.$$p=null);m=0;n=arguments.length;for(k=Array(n);m<n;m++)k[m]=arguments[m];g(this,a.find_super_dispatcher(this,"initialize",r,!1),k,l);this.content_model="compound";this.subs=[];this.default_subs=f;this.blocks=[];this.style=this.caption=this.title=this.id=f;this.level=e["$=="]("document")?0:c(c(b)?e["$!="]("section"):
b)?b.$level():f;this.next_section_index=0;this.next_section_number=1;return this.source_location=f},r.$$arity=-3);a.defn(e,"$block?",q=function(){return!0},q.$$arity=0);a.defn(e,"$inline?",D=function(){return!1},D.$$arity=0);a.defn(e,"$context=",y=function(a){this.context=a;return this.node_name=a.$to_s()},y.$$arity=1);a.defn(e,"$convert",B=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},B.$$arity=0);a.alias(e,"render","convert");a.defn(e,"$content",
M=function(){var c;return b(g(this.blocks,"map",[],(c=function(a){null==a&&(a=f);return a.$convert()},c.$$s=this,c.$$arity=1,c)),a.const_get_relative(v,"EOL"))},M.$$arity=0);a.defn(e,"$file",x=function(){return c(this.source_location)?this.source_location.$file():f},x.$$arity=0);a.defn(e,"$lineno",A=function(){return c(this.source_location)?this.source_location.$lineno():f},A.$$arity=0);a.defn(e,"$sub?",N=function(a){return this.subs["$include?"](a)},N.$$arity=1);a.defn(e,"$title?",P=function(){return this.title["$nil_or_empty?"]()["$!"]()},
P.$$arity=0);a.defn(e,"$title",ba=function(){var a;return c((a=this.subbed_title,null!=a&&a!==f)?"instance-variable":f)?this.subbed_title:c(this.title)?this.subbed_title=this.$apply_title_subs(this.title):this.title},ba.$$arity=0);a.defn(e,"$captioned_title",O=function(){return""+this.caption+this.$title()},O.$$arity=0);a.defn(e,"$blocks?",H=function(){return this.blocks["$empty?"]()["$!"]()},H.$$arity=0);a.defn(e,"$<<",L=function(a){this.blocks["$<<"](a);return this},L.$$arity=1);a.alias(e,"append",
"<<");a.defn(e,"$sections",T=function(){var a;return g(this.blocks,"select",[],(a=function(a){null==a&&(a=f);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},T.$$arity=0);a.defn(e,"$sections?",la=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},la.$$arity=0);a.defn(e,"$find_by",ha=function(b){var e,h,l,k,m,n,u=ha.$$p,p=u||f,w=f,t=f,v=f,r=f,q=f,D=f;null==b&&(b=d([],{}));u&&(ha.$$p=null);w=[];if(c(c(e=c(h=c(l=c(k=t=(v=b["$[]"]("context"))["$!"]())?
k:v["$=="](this.context))?c(k=(r=b["$[]"]("style"))["$!"]())?k:r["$=="](this.style):l)?c(l=(q=b["$[]"]("role"))["$!"]())?l:this["$has_role?"](q):h)?c(h=(D=b["$[]"]("id"))["$!"]())?h:D["$=="](this.id):e)){if(c(D))return p!==f?c(a.yield1(p,this))?[this]:w:[this];if(p!==f){if(c(a.yield1(p,this)))w["$<<"](this)}else w["$<<"](this)}c(c(e=(h=this.context["$=="]("document"))?c(l=t)?l:v["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():e)&&w.$concat(g(this.header,"find_by",[b],p.$to_proc()));
v["$=="]("document")||(this.context["$=="]("dlist")?c(c(e=t)?e:v["$!="]("section"))&&g(this.blocks.$flatten(),"each",[],(m=function(a){null==a&&(a=f);return c(a)?w.$concat(g(a,"find_by",[b],p.$to_proc())):f},m.$$s=this,m.$$arity=1,m)):c(g(this.blocks,"each",[],(n=function(a){null==a&&(a=f);return c(v["$=="]("section")?a.$context()["$!="]("section"):v["$=="]("section"))?f:w.$concat(g(a,"find_by",[b],p.$to_proc()))},n.$$s=this,n.$$arity=1,n))));return w},ha.$$arity=-1);a.alias(e,"query","find_by");
a.defn(e,"$remove_sub",na=function(a){this.subs.$delete(a);return f},na.$$arity=1);a.defn(e,"$assign_caption",J=function(a,b){var d,e=f,h=e=e=f;null==a&&(a=f);null==b&&(b=f);if(!c(c(d=this["$title?"]())?d:this.caption["$!"]()))return f;c(a)?this.caption=a:c(e=this.document.$attributes()["$[]"]("caption"))?this.caption=e:c(this["$title?"]())&&(b=c(d=b)?d:this.context.$to_s(),e=""+b+"-caption",c(e=this.document.$attributes()["$[]"](e))&&(h=this.document.$counter_increment(""+b+"-number",this),this.caption=
""+e+" "+h+". "));return f},J.$$arity=-1);a.defn(e,"$list_marker_keyword",fa=function(b){var d;null==b&&(b=f);return a.const_get_relative(v,"ORDERED_LIST_KEYWORDS")["$[]"](c(d=b)?d:this.style)},fa.$$arity=-1);a.defn(e,"$assign_index",ja=function(b){var d,e,h=f,l=f,k=f,h=[this.next_section_index];g(b,"index=",a.to_a(h));h[m(h.length,1)];this.next_section_index=p(this.next_section_index,1);if(b.$sectname()["$=="]("appendix"))return l=this.document.$counter("appendix-number","A"),c(b.$numbered())&&(h=
[l],g(b,"number=",a.to_a(h)),h[m(h.length,1)]),h=c((k=this.document.$attr("appendix-caption",""))["$empty?"]())?[""+l+". "]:[""+k+" "+l+": "],g(b,"caption=",a.to_a(h)),h[m(h.length,1)];if(c(b.$numbered())){if(c(c(d=c(e=b.$level()["$=="](1))?e:b.$level()["$=="](0)?b.$special():b.$level()["$=="](0))?this.document.$doctype()["$=="]("book"):d))return h=[this.document.$counter("chapter-number",1)],g(b,"number=",a.to_a(h)),h[m(h.length,1)];h=[this.next_section_number];g(b,"number=",a.to_a(h));h[m(h.length,
1)];return this.next_section_number=p(this.next_section_number,1)}return f},ja.$$arity=1);return(a.defn(e,"$reindex_sections",Y=function(){var a;this.next_section_number=this.next_section_index=0;return g(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=f);return b.$context()["$=="]("section")?(c.$assign_index(b),b.$reindex_sections()):f},a.$$s=this,a.$$arity=1,a))},Y.$$arity=0),f)&&"reindex_sections"})(l[0],a.const_get_relative(l,"AbstractNode"),l)}(v[0],v)};Opal.modules["asciidoctor/attribute_list"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var p=[],v=a.nil,f=a.module,e=a.klass,k=a.hash2,g=a.truthy,c=a.send;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(d,p){var u=[f(d,"Asciidoctor")].concat(p);(function(d,$super,f){function u(){}d=u=e(d,$super,"AttributeList",u);var p=d.$$proto,t=[d].concat(f),r,q,D,F,y,B,M,x,A,N,P,ba;p.attributes=p.scanner=p.delimiter=p.block=p.delimiter_skip_pattern=p.delimiter_boundary_pattern=v;a.const_get_qualified("::","RUBY_ENGINE")["$=="]("opal")&&(a.const_set(t[0],"CG_BLANK","[ \\t]"),a.const_set(t[0],"CC_WORD","a-zA-Z0-9_"),a.const_set(t[0],"CG_WORD","[a-zA-Z0-9_]"));a.const_set(t[0],"BoundaryRxs",k(['"',
"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+a.const_get_relative(t,"CG_BLANK")+"*(,|$))")}));a.const_set(t[0],"EscapedQuoteRxs",k(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.const_set(t[0],"NameRx",new RegExp(""+a.const_get_relative(t,"CG_WORD")+"["+a.const_get_relative(t,"CC_WORD")+"\\-.]*"));a.const_set(t[0],"BlankRx",new RegExp(""+a.const_get_relative(t,"CG_BLANK")+"+"));a.const_set(t[0],"SkipRxs",k(["blank",","],{blank:a.const_get_relative(t,"BlankRx"),",":new RegExp(""+
a.const_get_relative(t,"CG_BLANK")+"*(,|$)")}));a.defn(d,"$initialize",r=function(b,c,d){null==c&&(c=v);null==d&&(d=",");this.scanner=a.const_get_qualified("::","StringScanner").$new(b);this.block=c;this.delimiter=d;this.delimiter_skip_pattern=a.const_get_relative(t,"SkipRxs")["$[]"](d);this.delimiter_boundary_pattern=a.const_get_relative(t,"BoundaryRxs")["$[]"](d);return this.attributes=v},r.$$arity=-2);a.defn(d,"$parse_into",q=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},q.$$arity=
-2);a.defn(d,"$parse",D=function(a){var c=v;null==a&&(a=[]);if(g(this.attributes))return this.attributes;this.attributes=k([],{});for(c=0;g(this.$parse_attribute(c,a))&&!g(this.scanner["$eos?"]());)this.$skip_delimiter(),c=b(c,1);return this.attributes},D.$$arity=-1);a.defn(d,"$rekey",F=function(b){return a.const_get_relative(t,"AttributeList").$rekey(this.attributes,b)},F.$$arity=1);a.defs(d,"$rekey",y=function(d,e){var f;c(e,"each_with_index",[],(f=function(e,f){var l=v,l=l=v;null==e&&(e=v);null==
f&&(f=v);if(!g(e))return v;l=b(f,1);return g(l=d["$[]"](l))?(l=[e,l],c(d,"[]=",a.to_a(l)),l[m(l.length,1)]):v},f.$$s=this,f.$$arity=2,f));return d},y.$$arity=2);a.defn(d,"$parse_attribute",B=function(d,e){var f,l,k,u=v,p=v,t=p=v,r=v,q=v,p=u=p=r=v;null==d&&(d=0);null==e&&(e=[]);u=!1;this.$skip_blank();if((p=this.scanner.$peek(1))["$=="]('"'))p=this.$parse_attribute_value(this.scanner.$get_byte()),t=v;else if(p["$=="]("'"))p=this.$parse_attribute_value(this.scanner.$get_byte()),t=v,u=!0;else{p=this.$scan_name();
r=0;q=v;if(g(this.scanner["$eos?"]())){if(!g(p))return!1}else r=g(f=this.$skip_blank())?f:0,q=this.scanner.$get_byte();if(g(g(f=q["$!"]())?f:q["$=="](this.delimiter)))t=v;else if(g(g(f=q["$!="]("="))?f:p["$!"]()))p=""+p+" "["$*"](r)+q+this.$scan_to_delimiter(),t=v;else if(this.$skip_blank(),g(this.scanner.$peek(1)))if((q=this.scanner.$get_byte())["$=="]('"'))t=this.$parse_attribute_value(q);else if(q["$=="]("'"))t=this.$parse_attribute_value(q),u=!0;else if(q["$=="](this.delimiter))t=v;else if(t=
""+q+this.$scan_to_delimiter(),t["$=="]("None"))return!0}g(t)?(r=p,"options"["$==="](r)||"opts"["$==="](r)?(p="options",c(t.$tr(" ","").$split(","),"each",[],(l=function(b){var d=l.$$s||this,e=v;null==d.attributes&&(d.attributes=v);null==b&&(b=v);e=[""+b+"-option",""];c(d.attributes,"[]=",a.to_a(e));return e[m(e.length,1)]},l.$$s=this,l.$$arity=1,l)),p=[p,t]):p="title"["$==="](r)?[p,t]:[p,g(g(f=g(k=u)?t["$empty?"]()["$!"]():k)?this.block:f)?this.block.$apply_normal_subs(t):t]):(u=g(g(f=g(k=u)?p["$empty?"]()["$!"]():
k)?this.block:f)?this.block.$apply_normal_subs(p):p,g(p=e["$[]"](d))&&(p=[p,u],c(this.attributes,"[]=",a.to_a(p)),p[m(p.length,1)]),p=[b(d,1),u]);c(this.attributes,"[]=",a.to_a(p));p[m(p.length,1)];return!0},B.$$arity=-1);a.defn(d,"$parse_attribute_value",M=function(b){var c=v;return this.scanner.$peek(1)["$=="](b)?(this.scanner.$get_byte(),""):g(c=this.$scan_to_quote(b))?(this.scanner.$get_byte(),c.$gsub(a.const_get_relative(t,"EscapedQuoteRxs")["$[]"](b),b)):""+b+this.$scan_to_delimiter()},M.$$arity=
1);a.defn(d,"$skip_blank",x=function(){return this.scanner.$skip(a.const_get_relative(t,"BlankRx"))},x.$$arity=0);a.defn(d,"$skip_delimiter",A=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},A.$$arity=0);a.defn(d,"$scan_name",N=function(){return this.scanner.$scan(a.const_get_relative(t,"NameRx"))},N.$$arity=0);a.defn(d,"$scan_to_delimiter",P=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},P.$$arity=0);return(a.defn(d,"$scan_to_quote",ba=function(b){return this.scanner.$scan(a.const_get_relative(t,
"BoundaryRxs")["$[]"](b))},ba.$$arity=1),v)&&"scan_to_quote"})(u[0],null,u)}(p[0],p)};Opal.modules["asciidoctor/block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var p=[],v=a.nil,f=a.module,e=a.klass,k=a.send,g=a.hash2,c=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));
return function(d,p){var u=[f(d,"Asciidoctor")].concat(p);(function(d,$super,f){function u(){}d=u=e(d,$super,"Block",u);var p=d.$$proto,t=[d].concat(f),r,q,D,F;f=v;p.attributes=p.content_model=p.lines=p.subs=p.blocks=p.context=p.style=v;f=["simple"];k(a.const_set(t[0],"DEFAULT_CONTENT_MODEL",g("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",
thematic_break:"empty",video:"empty"})),"default=",a.to_a(f));f[b(f.length,1)];a.alias(d,"blockname","context");d.$attr_accessor("lines");a.defn(d,"$initialize",r=function(d,e,f){var l,m=r.$$p,p=v,u=p=v,w=p=v,q=v;null==f&&(f=g([],{}));m&&(r.$$p=null);w=0;q=arguments.length;for(p=Array(q);w<q;w++)p[w]=arguments[w];k(this,a.find_super_dispatcher(this,"initialize",r,!1),p,m);this.content_model=c(l=f["$[]"]("content_model"))?l:a.const_get_relative(t,"DEFAULT_CONTENT_MODEL")["$[]"](e);c(f["$key?"]("subs"))?
c(p=f["$[]"]("subs"))?(p["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):c(a.const_get_qualified("::","Array")["$==="](p))?(this.default_subs=p.$dup(),this.attributes.$delete("subs")):(this.default_subs=v,p=["subs",""+p],k(this.attributes,"[]=",a.to_a(p)),p[b(p.length,1)]),this.$lock_in_subs()):(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):(this.subs=[],this.default_subs=v);return c((u=f["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:c(a.const_get_qualified("::",
"String")["$==="](u))?this.lines=a.const_get_relative(t,"Helpers").$normalize_lines_from_string(u):this.lines=u.$dup()},r.$$arity=-3);a.defn(d,"$content",q=function(){var b,d=this,e=q.$$p,h=v,f=v,g=v,l=v,p=v,u=v,r=v;e&&(q.$$p=null);u=0;r=arguments.length;for(p=Array(r);u<r;u++)p[u]=arguments[u];return function(){h=d.content_model;if("compound"["$==="](h))return k(d,a.find_super_dispatcher(d,"content",q,!1),p,e);if("simple"["$==="](h))return d.$apply_subs(m(d.lines,a.const_get_relative(t,"EOL")),d.subs);
if("verbatim"["$==="](h)||"raw"["$==="](h)){f=d.$apply_subs(d.lines,d.subs);var u;u=f.$size();u="number"===typeof u?2>u:u["$<"](2);if(c(u))return f["$[]"](0);for(;c(c(b=g=f["$[]"](0))?g.$rstrip()["$empty?"]():b);)f.$shift();for(;c(c(b=l=f["$[]"](-1))?l.$rstrip()["$empty?"]():b);)f.$pop();return m(f,a.const_get_relative(t,"EOL"))}d.content_model["$=="]("empty")||d.$warn("Unknown content model '"+d.content_model+"' for block: "+d.$to_s());return v}()},q.$$arity=0);a.defn(d,"$source",D=function(){return m(this.lines,
a.const_get_relative(t,"EOL"))},D.$$arity=0);return(a.defn(d,"$to_s",F=function(){var a=v,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},F.$$arity=0),v)&&"to_s"})(u[0],a.const_get_relative(u,"AbstractBlock"),u)}(p[0],p)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,
c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var p=[],v=a.nil,f=a.module,e=a.klass,k=a.hash2,g=a.truthy,c=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(d,p){var u=[f(d,"Asciidoctor")].concat(p);(function(d,$super,f){function p(){}d=p=e(d,$super,"Callouts",p);var u=d.$$proto;
[d].concat(f);var t,r,q,D,F,y,B,M,x;u.co_index=u.lists=u.list_index=v;a.defn(d,"$initialize",t=function(){this.lists=[];this.list_index=0;return this.$next_list()},t.$$arity=0);a.defn(d,"$register",r=function(a){var c=v;this.$current_list()["$<<"](k(["ordinal","id"],{ordinal:a.$to_i(),id:c=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return c},r.$$arity=1);a.defn(d,"$read_next_id",q=function(){var a=v,c=v,a=v,c=this.$current_list(),d;d=this.co_index;var e=c.$size();d="number"===
typeof d&&"number"===typeof e?d<=e:d["$<="](e);g(d)&&(a=c["$[]"](m(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},q.$$arity=0);a.defn(d,"$callout_ids",D=function(a){var b;return c(this.$current_list(),"map",[],(b=function(b){null==b&&(b=v);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":v},b.$$s=this,b.$$arity=1,b)).$join().$chop()},D.$$arity=1);a.defn(d,"$current_list",F=function(){return this.lists["$[]"](m(this.list_index,1))},F.$$arity=0);a.defn(d,"$next_list",
y=function(){this.list_index=b(this.list_index,1);var a;a=this.lists.$size();var c=this.list_index;a="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(g(a))this.lists["$<<"]([]);this.co_index=1;return v},y.$$arity=0);a.defn(d,"$rewind",B=function(){this.co_index=this.list_index=1;return v},B.$$arity=0);a.defn(d,"$generate_next_callout_id",M=function(){return this.$generate_callout_id(this.list_index,this.co_index)},M.$$arity=0);return(a.defn(d,"$generate_callout_id",x=function(a,b){return"CO"+
a+"-"+b},x.$$arity=2),v)&&"generate_callout_id"})(u[0],null,u)}(p[0],p)};Opal.modules["asciidoctor/document"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var f=[],e=a.nil,k=a.module,g=a.klass,c=a.truthy,d=a.send,r=a.hash2,
u=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $references $== $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $key? $freeze $attribute_undefined $attribute_missing $find $constants $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $parse $restore_attributes $update_backend_attributes $utc $at $now $strftime $join $build_registry $to_proc $activate $preprocessors? $preprocessors $process_method $treeprocessors? $treeprocessors $!= $nil_or_empty? $nextval $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $limit $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(f,n){var q=[k(f,"Asciidoctor")].concat(n);(function(f,$super,l){function k(){}f=k=g(f,$super,"Document",k);var n=f.$$proto,q=[f].concat(l),y,B,x,M,A,S,N,P,ba,O,H,L,T,la,ha,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea,Fa,Ga,Ha,U,ma,Ia,Ja;n.attributes=n.safe=n.reader=n.base_dir=n.parsed=n.parent_document=n.extensions=n.options=n.counters=n.references=n.doctype=n.backend=n.header=n.blocks=n.attributes_modified=n.id=n.callouts=n.header_attributes=n.max_attribute_value_size=
n.attribute_overrides=n.converter=n.outfilesuffix=n.docinfo_processor_extensions=n.document=e;a.const_set(q[0],"Footnote",a.const_get_qualified("::","Struct").$new("index","id","text"));(function(f,$super,l){function k(){}f=k=g(f,$super,"AttributeEntry",k);[f].concat(l);var m,n;f.$attr_reader("name","value","negate");a.defn(f,"$initialize",m=function(a,b,d){null==d&&(d=e);this.name=a;this.value=b;return this.negate=c(d["$nil?"]())?b["$nil?"]():d},m.$$arity=-3);return(a.defn(f,"$save_to",n=function(f){var g,
l=e;return(c(g=f["$[]"]("attribute_entries"))?g:(l=["attribute_entries",[]],d(f,"[]=",a.to_a(l)),l[b(l.length,1)]))["$<<"](this)},n.$$arity=1),e)&&"save_to"})(q[0],null,q);(function(b,$super,d){function h(){}b=h=g(b,$super,"Title",h);var f=b.$$proto,l=[b].concat(d),k,m,n,p;f.sanitized=f.subtitle=f.combined=e;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.defn(b,"$initialize",k=function(b,d){var h,f,g=e;null==d&&(d=r([],{}));c(c(h=this.sanitized=
d["$[]"]("sanitize"))?b["$include?"]("<"):h)&&(b=b.$gsub(a.const_get_relative(l,"XmlSanitizeRx"),"").$tr_s(" "," ").$strip());c(c(h=(g=c(f=d["$[]"]("separator"))?f:":")["$empty?"]())?h:b["$include?"](g=""+g+" ")["$!"]())?(this.main=b,this.subtitle=e):(f=b.$rpartition(g),h=a.to_ary(f),this.main=null==h[0]?e:h[0],this.subtitle=null==h[2]?e:h[2],f);return this.combined=b},k.$$arity=-2);a.defn(b,"$sanitized?",m=function(){return this.sanitized},m.$$arity=0);a.defn(b,"$subtitle?",n=function(){return this.subtitle["$!"]()["$!"]()},
n.$$arity=0);return(a.defn(b,"$to_s",p=function(){return this.combined},p.$$arity=0),e)&&"to_s"})(q[0],null,q);f.$attr_reader("safe");f.$attr_reader("compat_mode");f.$attr_reader("sourcemap");f.$attr_reader("references");f.$attr_reader("counters");f.$attr_reader("callouts");f.$attr_reader("header");f.$attr_reader("base_dir");f.$attr_reader("options");f.$attr_reader("outfilesuffix");f.$attr_reader("parent_document");f.$attr_reader("reader");f.$attr_reader("converter");f.$attr_reader("extensions");
a.defn(f,"$initialize",y=function(f,g){var l,k,n,t,v,z,wa,C,M,H=y.$$p,B=e,E=e,x=e,A=e,O=A=e,L=e,Q=e,ea=O=O=e,P=Q=O=B=e,fa=e;null==f&&(f=e);null==g&&(g=r([],{}));H&&(y.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",y,!1),[this,"document"],null);if(c(B=g.$delete("parent")))this.parent_document=B,c(l=g["$[]"]("base_dir"))?l:(E=["base_dir",B.$base_dir()],d(g,"[]=",a.to_a(E)),E[b(E.length,1)]),this.references=d(B.$references(),"inject",[r([],{})],(k=function(c,f){var g,l;null==f&&(f=e);f=a.to_ary(f);
g=a.slice.call(f,0,f.length);l=g.splice(0,1)[0];null==l&&(l=e);g=g.splice(0,1)[0];null==g&&(g=e);null==c&&(c=e);E=l["$=="]("footnotes")?["footnotes",[]]:[l,g];d(c,"[]=",a.to_a(E));E[b(E.length,1)];return c},k.$$s=this,k.$$arity=2,k.$$has_top_level_mlhs_arg=!0,k)),this.callouts=B.$callouts(),x=B.$attributes().$dup(),d(["doctype","compat-mode","toc","toc-placement","toc-position"],"each",[],(n=function(a){null==a&&(a=e);return x.$delete(a)},n.$$s=this,n.$$arity=1,n)),this.attribute_overrides=x,this.safe=
B.$safe(),this.compat_mode=B.$compat_mode(),this.sourcemap=B.$sourcemap(),this.converter=B.$converter(),A=!1,this.extensions=B.$extensions();else{this.parent_document=e;this.references=r("ids footnotes links images indexterms includes".split(" "),{ids:r([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.const_get_qualified("::","Set").$new()});this.callouts=a.const_get_relative(q,"Callouts").$new();x=r([],{});d(c(l=g["$[]"]("attributes"))?l:r([],{}),"each",[],(t=function(f,g){null==f&&
(f=e);null==g&&(g=e);c(f["$start_with?"]("!"))?(f=f["$[]"](u(1,-1,!1)),g=e):c(f["$end_with?"]("!"))&&(f=f.$chop(),g=e);E=[f.$downcase(),g];d(x,"[]=",a.to_a(E));return E[b(E.length,1)]},t.$$s=this,t.$$arity=2,t));this.attribute_overrides=x;if(c((A=g["$[]"]("safe"))["$!"]()))this.safe=a.const_get_qualified(a.const_get_relative(q,"SafeMode"),"SECURE");else if(c(a.const_get_qualified("::","Integer")["$==="](A)))this.safe=A;else try{this.safe=a.const_get_relative(q,"SafeMode").$const_get(A.$to_s().$upcase())}catch(J){if(a.rescue(J,
[a.const_get_relative(q,"StandardError")]))try{this.safe=a.const_get_qualified(a.const_get_relative(q,"SafeMode"),"SECURE")}finally{a.pop_exception()}else throw J;}this.compat_mode=x["$key?"]("compat-mode");this.sourcemap=g["$[]"]("sourcemap");this.converter=e;A=(v=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(l=a.const_get_qualified(v,"Extensions","skip_raise"))?"constant":e;this.extensions=e}this.parsed=!1;this.header=e;this.counters=r([],{});this.attributes_modified=a.const_get_qualified("::",
"Set").$new();this.options=g;this.docinfo_processor_extensions=r([],{});O=c(z=g["$[]"]("header_footer"))?z:(E=["header_footer",!1],d(g,"[]=",a.to_a(E)),E[b(E.length,1)]);g.$freeze();L=this.attributes;E=["sectids",""];d(L,"[]=",a.to_a(E));E[b(E.length,1)];c(O)||(E=["notitle",""],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);E=["toc-placement","auto"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["stylesheet",""];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["webfonts",""];d(L,"[]=",a.to_a(E));E[b(E.length,1)];c(O)&&
(E=["copycss",""],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);E=["prewrap",""];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["attribute-undefined",a.const_get_relative(q,"Compliance").$attribute_undefined()];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["attribute-missing",a.const_get_relative(q,"Compliance").$attribute_missing()];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["iconfont-remote",""];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["caution-caption","Caution"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["important-caption",
"Important"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["note-caption","Note"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["tip-caption","Tip"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["warning-caption","Warning"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["appendix-caption","Appendix"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["example-caption","Example"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["figure-caption","Figure"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["table-caption","Table"];d(L,"[]=",a.to_a(E));
E[b(E.length,1)];E=["toc-title","Table of Contents"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["manname-title","NAME"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["untitled-label","Untitled"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["version-label","Version"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["last-update-label","Last updated"];d(L,"[]=",a.to_a(E));E[b(E.length,1)];E=["asciidoctor",""];d(x,"[]=",a.to_a(E));E[b(E.length,1)];E=["asciidoctor-version",a.const_get_relative(q,"VERSION")];d(x,"[]=",a.to_a(E));
E[b(E.length,1)];Q=d(a.const_get_relative(q,"SafeMode").$constants(),"find",[],(wa=function(b){var c=wa.$$s||this;null==c.safe&&(c.safe=e);null==b&&(b=e);return a.const_get_relative(q,"SafeMode").$const_get(b)["$=="](c.safe)},wa.$$s=this,wa.$$arity=1,wa)).$to_s().$downcase();E=["safe-mode-name",Q];d(x,"[]=",a.to_a(E));E[b(E.length,1)];E=["safe-mode-"+Q,""];d(x,"[]=",a.to_a(E));E[b(E.length,1)];E=["safe-mode-level",this.safe];d(x,"[]=",a.to_a(E));E[b(E.length,1)];E=["embedded",c(O)?e:""];d(x,"[]=",
a.to_a(E));E[b(E.length,1)];c(z=x["$[]"]("max-include-depth"))?z:(E=["max-include-depth",64],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]);c(z=x["$[]"]("allow-uri-read"))?z:(E=["allow-uri-read",e],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]);E=["user-home",a.const_get_relative(q,"USER_HOME")];d(x,"[]=",a.to_a(E));E[b(E.length,1)];c(x["$key?"]("numbered"))&&(E=["sectnums",x.$delete("numbered")],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]);c(g["$[]"]("base_dir"))?this.base_dir=(E=["docdir",a.const_get_qualified("::",
"File").$expand_path(g["$[]"]("base_dir"))],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]):c(x["$[]"]("docdir"))?this.base_dir=(E=["docdir",a.const_get_qualified("::","File").$expand_path(x["$[]"]("docdir"))],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]):this.base_dir=(E=["docdir",a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","Dir").$pwd())],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]);c(O=g["$[]"]("backend"))&&(E=["backend",""+O],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]);c(O=g["$[]"]("doctype"))&&
(E=["doctype",""+O],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]);c(m(this.safe,a.const_get_qualified(a.const_get_relative(q,"SafeMode"),"SERVER")))&&(c(z=x["$[]"]("copycss"))?z:(E=["copycss",e],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]),c(z=x["$[]"]("source-highlighter"))?z:(E=["source-highlighter",e],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]),c(z=x["$[]"]("backend"))?z:(E=["backend",a.const_get_relative(q,"DEFAULT_BACKEND")],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]),c(c(z=B["$!"]())?x["$key?"]("docfile"):z)&&(E=
["docfile",x["$[]"]("docfile")["$[]"](a.Range.$new(p(x["$[]"]("docdir").$length(),1),-1,!1))],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]),E=["docdir",""],d(x,"[]=",a.to_a(E)),E[b(E.length,1)],E=["user-home","."],d(x,"[]=",a.to_a(E)),E[b(E.length,1)],c(m(this.safe,a.const_get_qualified(a.const_get_relative(q,"SafeMode"),"SECURE")))&&(c(x["$key?"]("max-attribute-value-size"))||(E=["max-attribute-value-size",4096],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]),c(x.$fetch("linkcss","")["$nil?"]())||(E=["linkcss",
""],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]),c(z=x["$[]"]("icons"))?z:(E=["icons",e],d(x,"[]=",a.to_a(E)),E[b(E.length,1)])));this.max_attribute_value_size=c(ea=c(z=x["$[]"]("max-attribute-value-size"))?z:(E=["max-attribute-value-size",e],d(x,"[]=",a.to_a(E)),E[b(E.length,1)]))?ea.$to_i().$abs():e;d(x,"delete_if",[],(C=function(f,g){var l,k=e;null==f&&(f=e);null==g&&(g=e);k=!1;c(g["$nil?"]())?L.$delete(f):(c(c(l=a.const_get_qualified("::","String")["$==="](g))?g["$end_with?"]("@"):l)&&(g=g.$chop(),
k=!0),E=[f,g],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);return k},C.$$s=this,C.$$arity=2,C));if(c(B))return c(z=L["$[]"]("doctype"))?z:(E=["doctype",a.const_get_relative(q,"DEFAULT_DOCTYPE")],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]),this.reader=a.const_get_relative(q,"Reader").$new(f,g["$[]"]("cursor")),a.const_get_relative(q,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;(c(z=L["$[]"]("backend"))?z:(E=["backend",a.const_get_relative(q,"DEFAULT_BACKEND")],d(L,"[]=",a.to_a(E)),
E[b(E.length,1)]))["$=="]("manpage")?(E=["doctype",(E=["doctype","manpage"],d(x,"[]=",a.to_a(E)),E[b(E.length,1)])],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]):c(z=L["$[]"]("doctype"))?z:(E=["doctype",a.const_get_relative(q,"DEFAULT_DOCTYPE")],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);this.$update_backend_attributes(L["$[]"]("backend"),!0);B=c(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?a.const_get_qualified("::","Time").$at(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc():
a.const_get_qualified("::","Time").$now();O=c(z=L["$[]"]("localdate"))?z:(E=["localdate",B.$strftime("%Y-%m-%d")],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);if(!c(Q=L["$[]"]("localtime")))try{Q=(E=["localtime",B.$strftime("%H:%M:%S %Z")],d(L,"[]=",a.to_a(E)),E[b(E.length,1)])}catch(J){if(a.rescue(J,[a.const_get_relative(q,"StandardError")]))try{Q=(E=["localtime",B.$strftime("%H:%M:%S %z")],d(L,"[]=",a.to_a(E)),E[b(E.length,1)])}finally{a.pop_exception()}else throw J;}c(z=L["$[]"]("localdatetime"))?z:
(E=["localdatetime",""+O+" "+Q],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);c(z=L["$[]"]("docdate"))?z:(E=["docdate",O],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);c(z=L["$[]"]("doctime"))?z:(E=["doctime",Q],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);c(z=L["$[]"]("docdatetime"))?z:(E=["docdatetime",""+O+" "+Q],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);c(z=L["$[]"]("stylesdir"))?z:(E=["stylesdir","."],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);c(z=L["$[]"]("iconsdir"))?z:(E=["iconsdir",a.const_get_qualified("::","File").$join(L.$fetch("imagesdir",
"./images"),"icons")],d(L,"[]=",a.to_a(E)),E[b(E.length,1)]);c(A)&&(c(P=g["$[]"]("extensions_registry"))?c(c(z=a.const_get_qualified(a.const_get_relative(q,"Extensions"),"Registry")["$==="](P))?z:c(M=a.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?a.const_get_qualified(a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](P):M)||(P=a.const_get_qualified(a.const_get_relative(q,"Extensions"),"Registry").$new()):P=c(a.const_get_qualified("::","Proc")["$==="](fa=
g["$[]"]("extensions")))?d(a.const_get_relative(q,"Extensions"),"build_registry",[],fa.$to_proc()):a.const_get_qualified(a.const_get_relative(q,"Extensions"),"Registry").$new(),this.extensions=P.$activate(this));return this.reader=a.const_get_relative(q,"PreprocessorReader").$new(this,f,a.const_get_qualified(a.const_get_relative(q,"Reader"),"Cursor").$new(L["$[]"]("docfile"),this.base_dir))},y.$$arity=-1);a.defn(f,"$parse",B=function(b){var h,f,g,l=e,k=e;null==b&&(b=e);if(c(this.parsed))return this;
l=this;c(b)&&(this.reader=a.const_get_relative(q,"PreprocessorReader").$new(l,b,a.const_get_qualified(a.const_get_relative(q,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir)));c(c(h=k=c(this.parent_document)?e:this.extensions)?k["$preprocessors?"]():h)&&d(k.$preprocessors(),"each",[],(f=function(a){var b=f.$$s||this,d;null==b.reader&&(b.reader=e);null==a&&(a=e);return b.reader=c(d=a.$process_method()["$[]"](l,b.reader))?d:b.reader},f.$$s=this,f.$$arity=1,f));a.const_get_relative(q,
"Parser").$parse(this.reader,l,r(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()}));this.$restore_attributes();c(c(h=k)?k["$treeprocessors?"]():h)&&d(k.$treeprocessors(),"each",[],(g=function(b){var d,h,f=e;null==b&&(b=e);return c(c(d=c(h=f=b.$process_method()["$[]"](l))?a.const_get_relative(q,"Document")["$==="](f):h)?f["$!="](l):d)?l=f:e},g.$$s=this,g.$$arity=1,g));this.parsed=!0;return l},B.$$arity=-1);a.defn(f,"$counter",x=function(f,g){var l,k=e,m=e,k=e;
null==g&&(g=e);c(c(l=k=(m=this.attributes["$[]"](f))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](f):l)?k=[f,this.$nextval(m)]:(c(g["$nil?"]())?g=this.$nextval(c(k)?m:0):g.$to_i().$to_s()["$=="](g)&&(g=g.$to_i()),k=[f,g]);d(this.counters,"[]=",a.to_a(k));k[b(k.length,1)];k=[f,this.counters["$[]"](f)];d(this.attributes,"[]=",a.to_a(k));return k[b(k.length,1)]},x.$$arity=-2);a.defn(f,"$counter_increment",M=function(b,c){var d=e,d=this.$counter(b);a.const_get_relative(q,"AttributeEntry").$new(b,
d).$save_to(c.$attributes());return d},M.$$arity=2);a.defn(f,"$nextval",A=function(b){var d=e;if(c(a.const_get_qualified("::","Integer")["$==="](b)))return p(b,1);d=b.$to_i();return c(d.$to_s()["$!="](b.$to_s()))?p(b["$[]"](0).$ord(),1).$chr():p(d,1)},A.$$arity=1);a.defn(f,"$register",S=function(f,g,l){var k,m=this,n=e,u=e,t=e,w=e,q=e;null==l&&(l=!1);return function(){n=f;if("ids"["$==="](n)){k=[].concat(a.to_a(g));u=null==k[0]?e:k[0];t=null==k[1]?e:k[1];k;t=c(k=t)?k:p(p("[",u),"]");if(c(l))return w=
[u,t],d(m.references["$[]"]("ids"),"[]=",a.to_a(w)),w[b(w.length,1)];q=m.references["$[]"]("ids");return c(k=q["$[]"](u))?k:(w=[u,t],d(q,"[]=",a.to_a(w)),w[b(w.length,1)])}return"footnotes"["$==="](n)||"indexterms"["$==="](n)?m.references["$[]"](f)["$<<"](g):c(m.options["$[]"]("catalog_assets"))?m.references["$[]"](f)["$<<"](g):e}()},S.$$arity=-3);a.defn(f,"$footnotes?",N=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},N.$$arity=0);a.defn(f,"$footnotes",P=function(){return this.references["$[]"]("footnotes")},
P.$$arity=0);a.defn(f,"$nested?",ba=function(){return this.parent_document["$!"]()["$!"]()},ba.$$arity=0);a.defn(f,"$embedded?",O=function(){return this.attributes["$key?"]("embedded")},O.$$arity=0);a.defn(f,"$extensions?",H=function(){return this.extensions["$!"]()["$!"]()},H.$$arity=0);a.defn(f,"$source",L=function(){return c(this.reader)?this.reader.$source():e},L.$$arity=0);a.defn(f,"$source_lines",T=function(){return c(this.reader)?this.reader.$source_lines():e},T.$$arity=0);a.defn(f,"$doctype",
la=function(){var a;return this.doctype=c(a=this.doctype)?a:this.attributes["$[]"]("doctype")},la.$$arity=0);a.defn(f,"$backend",ha=function(){var a;return this.backend=c(a=this.backend)?a:this.attributes["$[]"]("backend")},ha.$$arity=0);a.defn(f,"$basebackend?",na=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},na.$$arity=1);a.defn(f,"$title",J=function(){return this.attributes["$[]"]("title")},J.$$arity=0);a.defn(f,"$title=",fa=function(f){var g,l=e;this.header=c(g=this.header)?
g:a.const_get_relative(q,"Section").$new(this,0);l=[f];d(this.header,"title=",a.to_a(l));return l[b(l.length,1)]},fa.$$arity=1);a.defn(f,"$doctitle",ja=function(b){var d,h=e,f=e,g=e;null==b&&(b=r([],{}));if(c((h=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))h=this.$title();else if(c(c(d=f=this.$first_section())?f["$title?"]():d))h=f.$title();else if(!c(c(d=b["$[]"]("use_fallback"))?h=this.attributes["$[]"]("untitled-label"):d))return e;return c(g=b["$[]"]("partition"))?a.const_get_relative(q,
"Title").$new(h,b.$merge(r(["separator"],{separator:g["$=="](!0)?this.attributes["$[]"]("title-separator"):g}))):c(c(d=b["$[]"]("sanitize"))?h["$include?"]("<"):d)?h.$gsub(a.const_get_relative(q,"XmlSanitizeRx"),"").$tr_s(" "," ").$strip():h},ja.$$arity=-1);a.alias(f,"name","doctitle");a.defn(f,"$author",Y=function(){return this.attributes["$[]"]("author")},Y.$$arity=0);a.defn(f,"$revdate",V=function(){return this.attributes["$[]"]("revdate")},V.$$arity=0);a.defn(f,"$notitle",ea=function(){var a;
return c(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},ea.$$arity=0);a.defn(f,"$noheader",sa=function(){return this.attributes["$key?"]("noheader")},sa.$$arity=0);a.defn(f,"$nofooter",pa=function(){return this.attributes["$key?"]("nofooter")},pa.$$arity=0);a.defn(f,"$first_section",ua=function(){var a,b;return c(this["$has_header?"]())?this.header:d(c(a=this.blocks)?a:[],"find",[],(b=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},b.$$s=
this,b.$$arity=1,b))},ua.$$arity=0);a.defn(f,"$has_header?",ga=function(){return c(this.header)?!0:!1},ga.$$arity=0);a.alias(f,"header?","has_header?");a.defn(f,"$<<",ka=function(b){var c=ka.$$p,h=e,f=e,g=e;c&&(ka.$$p=null);f=0;g=arguments.length;for(h=Array(g);f<g;f++)h[f]=arguments[f];b.$context()["$=="]("section")&&this.$assign_index(b);return d(this,a.find_super_dispatcher(this,"<<",ka,!1),h,c)},ka.$$arity=1);a.defn(f,"$finalize_header",oa=function(f,g){var l=e;null==g&&(g=!0);this.$clear_playback_attributes(f);
this.$save_attributes();c(g)||(l=["invalid-header",!0],d(f,"[]=",a.to_a(l)),l[b(l.length,1)]);return f},oa.$$arity=-2);a.defn(f,"$save_attributes",ra=function(){var f,g,l,k=e,m=e,n=e,p=m=e,u=e,t=e,w=e,t=p=e;(k=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(c(c(f=this["$attribute_locked?"]("toc"))?f:this.attributes_modified["$include?"]("toc"))||(m=["toc",""],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]),c(c(f=this["$attribute_locked?"]("sectnums"))?f:this.attributes_modified["$include?"]("sectnums"))||
(m=["sectnums",""],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]));c(c(f=k["$key?"]("doctitle"))?f:(n=this.$doctitle())["$!"]())||(m=["doctitle",n],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]);c(this.id)||(this.id=k["$[]"]("css-signature"));m=c(p=c(k.$delete("toc2"))?"left":k["$[]"]("toc"))?c(c(f=u=k.$fetch("toc-placement","macro"))?u["$!="]("auto"):f)?u:k["$[]"]("toc-position"):e;c(c(f=p)?c(g=p["$empty?"]()["$!"]())?g:m["$nil_or_empty?"]()["$!"]():f)&&(t="left",w="toc2",p=c(m["$nil_or_empty?"]()["$!"]())?m:c(p["$empty?"]()["$!"]())?
p:t,m=["toc",""],d(k,"[]=",a.to_a(m)),m[b(m.length,1)],m=["toc-placement","auto"],d(k,"[]=",a.to_a(m)),m[b(m.length,1)],t=p,"left"["$==="](t)||"<"["$==="](t)||"&lt;"["$==="](t)?(m=["toc-position","left"],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]):"right"["$==="](t)||">"["$==="](t)||"&gt;"["$==="](t)?(m=["toc-position","right"],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]):"top"["$==="](t)||"^"["$==="](t)?(m=["toc-position","top"],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]):"bottom"["$==="](t)||"v"["$==="](t)?(m=
["toc-position","bottom"],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]):("preamble"["$==="](t)||"macro"["$==="](t)?(m=["toc-position","content"],d(k,"[]=",a.to_a(m)),m[b(m.length,1)],m=["toc-placement",p],d(k,"[]=",a.to_a(m)),m[b(m.length,1)]):k.$delete("toc-position"),w=e),c(w)&&(c(f=k["$[]"]("toc-class"))?f:(m=["toc-class",w],d(k,"[]=",a.to_a(m)),m[b(m.length,1)])));c(k["$key?"]("compat-mode"))?(c(k["$has_key?"]("language"))&&(m=["source-language",k["$[]"]("language")],d(k,"[]=",a.to_a(m)),m[b(m.length,
1)]),this.compat_mode=!0):this.compat_mode=!1;this.outfilesuffix=k["$[]"]("outfilesuffix");this.header_attributes=k.$dup();return c(this.parent_document)?e:d(a.const_get_relative(q,"FLEXIBLE_ATTRIBUTES"),"each",[],(l=function(a){var b=l.$$s||this,d;null==b.attribute_overrides&&(b.attribute_overrides=e);null==a&&(a=e);return c(c(d=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):d)?b.attribute_overrides.$delete(a):e},l.$$s=this,l.$$arity=1,l))},ra.$$arity=0);a.defn(f,"$restore_attributes",
R=function(){c(this.parent_document)||this.callouts.$rewind();return this.attributes=this.header_attributes},R.$$arity=0);a.defn(f,"$clear_playback_attributes",z=function(a){return a.$delete("attribute_entries")},z.$$arity=1);a.defn(f,"$playback_attributes",ca=function(f){var g;return c(f["$key?"]("attribute_entries"))?d(f["$[]"]("attribute_entries"),"each",[],(g=function(f){var l=g.$$s||this,k=e,m=e;null==l.attributes&&(l.attributes=e);null==f&&(f=e);k=f.$name();if(c(f.$negate()))return l.attributes.$delete(k),
k["$=="]("compat-mode")?l.compat_mode=!1:e;m=[k,f.$value()];d(l.attributes,"[]=",a.to_a(m));m[b(m.length,1)];return k["$=="]("compat-mode")?l.compat_mode=!0:e},g.$$s=this,g.$$arity=1,g)):e},ca.$$arity=1);a.defn(f,"$set_attribute",qa=function(f,g){var l=e,k=e,l=e;if(c(this["$attribute_locked?"](f)))return!1;l=c(this.max_attribute_value_size)?this.$apply_attribute_value_subs(g).$limit(this.max_attribute_value_size):this.$apply_attribute_value_subs(g);k=f;"backend"["$==="](k)?this.$update_backend_attributes(l,
this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](k)?this.$update_doctype_attributes(l):(l=[f,l],d(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]);this.attributes_modified["$<<"](f);return!0},qa.$$arity=2);a.defn(f,"$delete_attribute",Aa=function(a){if(c(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0},Aa.$$arity=1);a.defn(f,"$attribute_locked?",xa=function(a){return this.attribute_overrides["$key?"](a)},
xa.$$arity=1);a.defn(f,"$apply_attribute_value_subs",ya=function(b){var d=e,h=e;return c(d=a.const_get_relative(q,"AttributeEntryPassMacroRx").$match(b))?c(d["$[]"](1)["$empty?"]()["$!"]())?(h=this.$resolve_pass_subs(d["$[]"](1)),c(h["$empty?"]())?d["$[]"](2):this.$apply_subs(d["$[]"](2),h)):d["$[]"](2):this.$apply_header_subs(b)},ya.$$arity=1);a.defn(f,"$update_backend_attributes",za=function(f,g){var l,k,m=e,n=e,p=e,t=e,w=e,v=e,r=n=e,z=w=e,w=e;null==g&&(g=!1);return c(c(l=g)?l:c(k=f)?f["$!="](this.attributes["$[]"]("backend")):
k)?(m=this.attributes,n=m["$[]"]("backend"),p=m["$[]"]("basebackend"),t=m["$[]"]("doctype"),c(f["$start_with?"]("xhtml"))?(w=["htmlsyntax","xml"],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],f=f["$[]"](u(1,-1,!1))):c(f["$start_with?"]("html"))&&!m["$[]"]("htmlsyntax")["$=="]("xml")&&(w=["htmlsyntax","html"],d(m,"[]=",a.to_a(w)),w[b(w.length,1)]),c(v=a.const_get_relative(q,"BACKEND_ALIASES")["$[]"](f))&&(f=v),c(n)&&(m.$delete("backend-"+n),c(t)&&m.$delete("backend-"+n+"-doctype-"+t)),c(t)&&(w=["doctype-"+
t,""],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],w=["backend-"+f+"-doctype-"+t,""],d(m,"[]=",a.to_a(w)),w[b(w.length,1)]),w=["backend",f],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],w=["backend-"+f,""],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],c(a.const_get_qualified(a.const_get_relative(q,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(n=this.converter.$basebackend(),c(this["$attribute_locked?"]("outfilesuffix"))||(w=["outfilesuffix",this.converter.$outfilesuffix()],d(m,"[]=",a.to_a(w)),
w[b(w.length,1)]),r=this.converter.$filetype()):(n=f.$sub(a.const_get_relative(q,"TrailingDigitsRx"),""),w=c(l=a.const_get_relative(q,"DEFAULT_EXTENSIONS")["$[]"](n))?l:".html",r=w["$[]"](u(1,-1,!1)),c(this["$attribute_locked?"]("outfilesuffix"))||(w=["outfilesuffix",w],d(m,"[]=",a.to_a(w)),w[b(w.length,1)])),c(z=m["$[]"]("filetype"))&&m.$delete("filetype-"+z),w=["filetype",r],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],w=["filetype-"+r,""],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],c(w=a.const_get_relative(q,
"DEFAULT_PAGE_WIDTHS")["$[]"](n))?(w=["pagewidth",w],d(m,"[]=",a.to_a(w)),w[b(w.length,1)]):m.$delete("pagewidth"),c(n["$!="](p))&&(c(p)&&(m.$delete("basebackend-"+p),c(t)&&m.$delete("basebackend-"+p+"-doctype-"+t)),w=["basebackend",n],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],w=["basebackend-"+n,""],d(m,"[]=",a.to_a(w)),w[b(w.length,1)],c(t)&&(w=["basebackend-"+n+"-doctype-"+t,""],d(m,"[]=",a.to_a(w)),w[b(w.length,1)])),this.backend=e):e},za.$$arity=-2);a.defn(f,"$update_doctype_attributes",Ca=function(f){var g=
e,l=e,k=e,m=e,l=e;return c(c(f)?f["$!="](this.attributes["$[]"]("doctype")):f)?(g=this.attributes,l=g["$[]"]("doctype"),k=g["$[]"]("backend"),m=g["$[]"]("basebackend"),c(l)&&(g.$delete("doctype-"+l),c(k)&&g.$delete("backend-"+k+"-doctype-"+l),c(m)&&g.$delete("basebackend-"+m+"-doctype-"+l)),l=["doctype",f],d(g,"[]=",a.to_a(l)),l[b(l.length,1)],l=["doctype-"+f,""],d(g,"[]=",a.to_a(l)),l[b(l.length,1)],c(k)&&(l=["backend-"+k+"-doctype-"+f,""],d(g,"[]=",a.to_a(l)),l[b(l.length,1)]),c(m)&&(l=["basebackend-"+
m+"-doctype-"+f,""],d(g,"[]=",a.to_a(l)),l[b(l.length,1)]),this.doctype=e):e},Ca.$$arity=1);a.defn(f,"$create_converter",Ea=function(){var f=this,g=e,l=e,k=e,m=e,n=e,p=e,g=r([],{}),l=["htmlsyntax",f.attributes["$[]"]("htmlsyntax")];d(g,"[]=",a.to_a(l));l[b(l.length,1)];k=function(){return c(m=f.options["$[]"]("template_dir"))?(l=["template_dirs",[m]],d(g,"[]=",a.to_a(l)),l[b(l.length,1)]):c(k=f.options["$[]"]("template_dirs"))?(l=["template_dirs",k],d(g,"[]=",a.to_a(l)),l[b(l.length,1)]):e}();c(k)&&
(l=["template_cache",f.options.$fetch("template_cache",!0)],d(g,"[]=",a.to_a(l)),l[b(l.length,1)],l=["template_engine",f.options["$[]"]("template_engine")],d(g,"[]=",a.to_a(l)),l[b(l.length,1)],l=["template_engine_options",f.options["$[]"]("template_engine_options")],d(g,"[]=",a.to_a(l)),l[b(l.length,1)],l=["eruby",f.options["$[]"]("eruby")],d(g,"[]=",a.to_a(l)),l[b(l.length,1)],l=["safe",f.safe],d(g,"[]=",a.to_a(l)),l[b(l.length,1)]);p=c(n=f.options["$[]"]("converter"))?a.const_get_qualified(a.const_get_relative(q,
"Converter"),"Factory").$new(a.const_get_qualified("::","Hash")["$[]"](f.$backend(),n)):a.const_get_qualified(a.const_get_relative(q,"Converter"),"Factory").$default(!1);return p.$create(f.$backend(),g)},Ea.$$arity=0);a.defn(f,"$convert",Fa=function(f){var g,l,k=e,n=e,p=e,u=e,t=e;null==f&&(f=r([],{}));c(this.parsed)||this.$parse();c(c(g=m(this.safe,a.const_get_qualified(a.const_get_relative(q,"SafeMode"),"SERVER")))?g:f["$empty?"]())||(c((k=["outfile",f["$[]"]("outfile")],d(this.attributes,"[]=",
a.to_a(k)),k[b(k.length,1)]))||this.attributes.$delete("outfile"),c((k=["outdir",f["$[]"]("outdir")],d(this.attributes,"[]=",a.to_a(k)),k[b(k.length,1)]))||this.attributes.$delete("outdir"));c(this.converter)||this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?p=c(c(g=n=this.blocks["$[]"](0))?n.$content_model()["$!="]("compound"):g)?n.$content():e:(u=c(c(f["$key?"]("header_footer"))?f["$[]"]("header_footer"):
this.options["$[]"]("header_footer"))?"document":"embedded",p=this.converter.$convert(this,u));!c(this.parent_document)&&c(c(g=t=this.extensions)?t["$postprocessors?"]():g)&&d(t.$postprocessors(),"each",[],(l=function(a){var b=l.$$s||this;null==a&&(a=e);return p=a.$process_method()["$[]"](b,p)},l.$$s=this,l.$$arity=1,l));return p},Fa.$$arity=-1);a.alias(f,"render","convert");a.defn(f,"$write",Ga=function(b,h){var f;if(c(a.const_get_relative(q,"Writer")["$==="](this.converter)))return this.converter.$write(b,
h);c(h["$respond_to?"]("write"))?c(b["$nil_or_empty?"]())||(h.$write(b.$chomp()),h.$write(a.const_get_relative(q,"EOL"))):d(a.const_get_qualified("::","File"),"open",[h,"w"],(f=function(a){null==a&&(a=e);return a.$write(b)},f.$$s=this,f.$$arity=1,f));return e},Ga.$$arity=2);a.defn(f,"$content",Ha=function(){var b=Ha.$$p,c=e,h=e,f=e;b&&(Ha.$$p=null);h=0;f=arguments.length;for(c=Array(f);h<f;h++)c[h]=arguments[h];this.attributes.$delete("title");return d(this,a.find_super_dispatcher(this,"content",
Ha,!1),c,b)},Ha.$$arity=0);a.defn(f,"$docinfo",U=function(b,h){var f,g,l=e,k=e,n=e,p=e,u=l=e,t=e,k=k=e;null==b&&(b="head");null==h&&(h=e);if(c(m(this.$safe(),a.const_get_qualified(a.const_get_relative(q,"SafeMode"),"SECURE"))))return"";l=b["$=="]("head")?e:"-"+b;c(h)||(h=this.outfilesuffix);k=this.attributes["$[]"]("docinfodir");n=e;p=c((p=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?c(this.attributes["$key?"]("docinfo2"))?["private","shared"]:c(this.attributes["$key?"]("docinfo1"))?["shared"]:
c(p)?["private"]:e:d(p.$split(","),"map",[],"strip".$to_proc());c(p)&&(l="docinfo"+l+h,c(p["$&"](["shared","shared-"+b])["$empty?"]())||(u=this.$normalize_system_path(l,k),c(n=this.$read_asset(u,r(["normalize"],{normalize:!0})))&&c(t=c(f=t)?f:this.$resolve_docinfo_subs())&&(n=c(t["$=="]("attributes"))?this.$sub_attributes(n):this.$apply_subs(n,t))),c(c(f=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?f:p["$&"](["private","private-"+b])["$empty?"]())||(u=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+
"-"+l,k),c(k=this.$read_asset(u,r(["normalize"],{normalize:!0})))&&(c(t=c(f=t)?f:this.$resolve_docinfo_subs())&&(k=c(t["$=="]("attributes"))?this.$sub_attributes(k):this.$apply_subs(k,t)),n=c(n)?""+n+a.const_get_relative(q,"EOL")+k:k)));c(c(f=this.extensions)?this["$docinfo_processors?"](b):f)&&(k=v(d(this.docinfo_processor_extensions["$[]"](b),"map",[],(g=function(a){var b=g.$$s||this;null==a&&(a=e);return a.$process_method()["$[]"](b)},g.$$s=this,g.$$arity=1,g)).$compact(),a.const_get_relative(q,
"EOL")),n=c(n)?""+n+a.const_get_relative(q,"EOL")+k:k);return""+n},U.$$arity=-1);a.defn(f,"$resolve_docinfo_subs",ma=function(){var a=e;return c(this.attributes["$key?"]("docinfosubs"))?(a=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",e,"docinfo"),c(a["$empty?"]())?e:a):"attributes"},ma.$$arity=0);a.defn(f,"$docinfo_processors?",Ia=function(f){var g,l=e;null==f&&(f="head");if(c(this.docinfo_processor_extensions["$key?"](f)))return this.docinfo_processor_extensions["$[]"](f)["$!="](!1);
if(c(c(g=this.extensions)?this.document.$extensions()["$docinfo_processors?"](f):g))return(l=[f,this.document.$extensions().$docinfo_processors(f)],d(this.docinfo_processor_extensions,"[]=",a.to_a(l)),l[b(l.length,1)])["$!"]()["$!"]();l=[f,!1];d(this.docinfo_processor_extensions,"[]=",a.to_a(l));return l[b(l.length,1)]},Ia.$$arity=-1);return(a.defn(f,"$to_s",Ja=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(c(this.header["$!="](e))?
this.header.$title():e).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Ja.$$arity=0),e)&&"to_s"})(q[0],a.const_get_relative(q,"AbstractBlock"),q)}(f[0],f)};Opal.modules["asciidoctor/inline"]=function(a){var b=[],m=a.nil,p=a.module,q=a.klass,f=a.send,e=a.truthy,k=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(b,c){var d=[p(b,"Asciidoctor")].concat(c);(function(b,$super,c){function d(){}b=d=q(b,$super,"Inline",
d);[b].concat(c);var h,g,p,t;b.$attr_reader("text");b.$attr_reader("type");b.$attr_accessor("target");a.defn(b,"$initialize",h=function(b,c,d,g){var l=h.$$p,n=m;null==d&&(d=m);null==g&&(g=k([],{}));l&&(h.$$p=null);f(this,a.find_super_dispatcher(this,"initialize",h,!1),[b,c],null);this.node_name="inline_"+c;this.text=d;this.id=g["$[]"]("id");this.type=g["$[]"]("type");this.target=g["$[]"]("target");return e((n=g["$[]"]("attributes"))["$nil_or_empty?"]())?m:this.$update_attributes(n)},h.$$arity=-3);
a.defn(b,"$block?",g=function(){return!1},g.$$arity=0);a.defn(b,"$inline?",p=function(){return!0},p.$$arity=0);a.defn(b,"$convert",t=function(){return this.$converter().$convert(this)},t.$$arity=0);return a.alias(b,"render","convert")})(d[0],a.const_get_relative(d,"AbstractNode"),d)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],m=a.nil,p=a.module,q=a.klass,f=a.send,e=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));
return function(b,h){var c=[p(b,"Asciidoctor")].concat(h);(function(b,$super,c){function h(){}b=h=q(b,$super,"List",h);var g=b.$$proto;[b].concat(c);var k,p,r,t;g.context=g.document=g.style=m;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",k=function(b,c){var d=k.$$p,e=m,h=m,g=m;d&&(k.$$p=null);h=0;g=arguments.length;for(e=Array(g);h<g;h++)e[h]=arguments[h];return f(this,a.find_super_dispatcher(this,"initialize",k,!1),e,d)},k.$$arity=
2);a.defn(b,"$outline?",p=function(){var a;return e(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},p.$$arity=0);a.defn(b,"$convert",r=function(){var b=r.$$p,c=m,d=c=m,e=m;b&&(r.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(c=f(this,a.find_super_dispatcher(this,"convert",r,!1),c,b),this.document.$callouts().$next_list(),c):f(this,a.find_super_dispatcher(this,"convert",r,!1),c,b)},r.$$arity=0);a.alias(b,"render","convert");
return(a.defn(b,"$to_s",t=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},t.$$arity=0),m)&&"to_s"})(c[0],a.const_get_relative(c,"AbstractBlock"),c);(function(b,$super,c){function h(){}b=h=q(b,$super,"ListItem",h);var g=b.$$proto,k=[b].concat(c),p,r,t,F,x,B,y;g.text=g.blocks=m;a.alias(b,"list","parent");b.$attr_accessor("marker");a.defn(b,"$initialize",p=function(b,c){var d=p.$$p;
null==c&&(c=m);d&&(p.$$p=null);f(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"list_item"],null);this.text=c;return this.level=b.$level()},p.$$arity=-2);a.defn(b,"$text?",r=function(){return this.text["$nil_or_empty?"]()["$!"]()},r.$$arity=0);a.defn(b,"$text",t=function(){return this.$apply_subs(this.text)},t.$$arity=0);a.defn(b,"$simple?",F=function(){var b,c,d=m;return e(b=this.blocks["$empty?"]())?b:e(c=this.blocks.$size()["$=="](1)?a.const_get_relative(k,"List")["$==="](d=this.blocks["$[]"](0)):
this.blocks.$size()["$=="](1))?d["$outline?"]():c},F.$$arity=0);a.defn(b,"$compound?",x=function(){return this["$simple?"]()["$!"]()},x.$$arity=0);a.defn(b,"$fold_first",B=function(b,c){var d,h,f,g,l,n=m,p=m;null==b&&(b=!1);null==c&&(c=!1);e(e(d=e(h=n=this.blocks["$[]"](0))?a.const_get_relative(k,"Block")["$==="](n):h)?e(h=n.$context()["$=="]("paragraph")?b["$!"]():n.$context()["$=="]("paragraph"))?h:e(f=e(g=e(l=c)?l:b["$!"]())?n.$context()["$=="]("literal"):g)?n["$option?"]("listparagraph"):f:d)&&
(p=this.$blocks().$shift(),e(this.text["$nil_or_empty?"]())||p.$lines().$unshift(this.text),this.text=p.$source());return m},B.$$arity=-1);return(a.defn(b,"$to_s",y=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(e(a=this.blocks)?a:[]).$size()+"}>"},y.$$arity=0),m)&&"to_s"})(c[0],a.const_get_relative(c,"AbstractBlock"),c)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,
c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function k(a,b){return"number"===typeof a&&
"number"===typeof b?a<b:a["$<"](b)}var g=[],c=a.nil,d=a.module,r=a.klass,u=a.send,l=a.truthy,n=a.hash2,x=a.hash,B=a.range,G=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $- $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $find $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $map $each_with_index $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer $buffer= $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(g,y){var C=[d(g,"Asciidoctor")].concat(y);(function(d,$super,g){function t(){}d=t=r(d,$super,"Parser",t);var y=[d].concat(g),C,A,N,P,ba,O,H,L,T,la,Z,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R,z,ca,qa,Aa,xa,ya,za,Ca,Ea,Fa,Ga,Ha,U,ma,Ia,Ja,va,Ka,Na,Ma,La;a.const_set(y[0],"BlockMatchData",a.const_get_relative(y,"Struct").$new("context","masq","tip","terminator"));a.const_set(y[0],"TabRx",/\t/);a.const_set(y[0],"TabIndentRx",/^\t+/);a.const_set(y[0],"StartOfBlockProc",u(d,"lambda",[],(C=
function(b){var d=C.$$s||this,e,f;null==b&&(b=c);return l(e=l(f=b["$start_with?"]("["))?a.const_get_relative(y,"BlockAttributeLineRx")["$=~"](b):f)?e:d["$is_delimited_block?"](b)},C.$$s=d,C.$$arity=1,C)));a.const_set(y[0],"StartOfListProc",u(d,"lambda",[],(A=function(b){null==b&&(b=c);return a.const_get_relative(y,"AnyListRx")["$=~"](b)},A.$$s=d,A.$$arity=1,A)));a.const_set(y[0],"StartOfBlockOrListProc",u(d,"lambda",[],(N=function(b){var d=N.$$s||this,e,f,h;null==b&&(b=c);return l(e=l(f=d["$is_delimited_block?"](b))?
f:l(h=b["$start_with?"]("["))?a.const_get_relative(y,"BlockAttributeLineRx")["$=~"](b):h)?e:a.const_get_relative(y,"AnyListRx")["$=~"](b)},N.$$s=d,N.$$arity=1,N)));a.const_set(y[0],"NoOp",c);a.defn(d,"$initialize",P=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},P.$$arity=0);a.defs(d,"$parse",ba=function(b,d,e){var f,h=f=c;null==e&&(e=n([],{}));f=this.$parse_document_header(b,d);if(!l(e["$[]"]("header_only")))for(;l(b["$has_more_lines?"]());)if(e=
this.$next_section(b,d,f),f=a.to_ary(e),h=null==f[0]?c:f[0],f=null==f[1]?c:f[1],e,l(h))d["$<<"](h);return d},ba.$$arity=-3);a.defs(d,"$parse_document_header",O=function(d,e){var f,g,k=c,m=c,n=c,p=c,t=g=c,w=c,q=m=t=c;g=g=c;k=this.$parse_block_metadata_lines(d,e);if(l(l(f=m=this["$is_next_line_document_title?"](d,k))?k["$has_key?"]("title"):f))return e.$finalize_header(k,!1);n=c;l((p=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(g=[n=p],u(e,"title=",a.to_a(g)),g[b(g.length,1)]);t=c;l(m)&&
(l(e.$sourcemap())&&(w=d.$cursor()),g=this.$parse_section_title(d,e),f=a.to_ary(g),e["$id="](null==f[0]?c:f[0]),t=null==f[2]?c:f[2],m=null==f[4]?c:f[4],g,l(n)||(g=[n=t],u(e,"title=",a.to_a(g)),g[b(g.length,1)]),l(m)||e.$set_attribute("compat-mode",""),l(q=k.$delete("separator"))&&e.$set_attribute("title-separator",q),l(w)&&(g=[w],u(e.$header(),"source_location=",a.to_a(g)),g[b(g.length,1)]),g=["doctitle",t],u(e.$attributes(),"[]=",a.to_a(g)),g[b(g.length,1)],l(e.$id())?(k.$delete(1),k.$delete("id")):
(l(g=k.$delete(1))&&(g=x(1,g),this.$parse_style_attribute(g,d),l(g["$key?"]("id"))&&(g=["id",g["$[]"]("id")],u(k,"[]=",a.to_a(g)),g[b(g.length,1)])),g=[k.$delete("id")],u(e,"id=",a.to_a(g)),g[b(g.length,1)]),this.$parse_header_metadata(d,e));l(l(f=(p=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?f:p["$=="](t))||(g=[n=p],u(e,"title=",a.to_a(g)),g[b(g.length,1)]);l(n)&&(g=["doctitle",n],u(e.$attributes(),"[]=",a.to_a(g)),g[b(g.length,1)]);e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(d,
e);return e.$finalize_header(k)},O.$$arity=2);a.defs(d,"$parse_manpage_header",H=function(d,e){var f=c,g=c,f=f=c;l(f=a.const_get_relative(y,"ManpageTitleVolnumRx").$match(e.$attributes()["$[]"]("doctitle")))?(g=["mantitle",e.$sub_attributes(f["$[]"](1).$rstrip().$downcase())],u(e.$attributes(),"[]=",a.to_a(g)),g[b(g.length,1)],g=["manvolnum",f["$[]"](2).$strip()]):(this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": malformed manpage title"),g=["mantitle",e.$attributes()["$[]"]("doctitle")],
u(e.$attributes(),"[]=",a.to_a(g)),g[b(g.length,1)],g=["manvolnum","1"]);u(e.$attributes(),"[]=",a.to_a(g));g[b(g.length,1)];d.$skip_blank_lines();return l(this["$is_next_line_section?"](d,n([],{})))?(f=this.$initialize_section(d,e,n([],{})),f.$level()["$=="](1)?(f=d.$read_lines_until(n(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),l(f=a.const_get_relative(y,"ManpageNamePurposeRx").$match(f))?(g=["manname",e.$sub_attributes(f["$[]"](1))],u(e.$attributes(),"[]=",a.to_a(g)),
g[b(g.length,1)],g=["manpurpose",f["$[]"](2)],u(e.$attributes(),"[]=",a.to_a(g)),g[b(g.length,1)],e.$backend()["$=="]("manpage")?(g=["docname",e.$attributes()["$[]"]("manname")],u(e.$attributes(),"[]=",a.to_a(g)),g[b(g.length,1)],g=["outfilesuffix","."+e.$attributes()["$[]"]("manvolnum")],u(e.$attributes(),"[]=",a.to_a(g)),g[b(g.length,1)]):c):this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": name section title must be at level 1")):
this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": name section expected")},H.$$arity=2);a.defs(d,"$next_section",L=function(d,e,f){var g,k,t,r=c,z=c,E=c,D=c,G=c,x=c,B=c,C=c,H=c,A=x=x=x=C=c,O=c,G=z=c;null==f&&(f=n([],{}));E=z=r=!1;l(l(g=(k=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():e.$context()["$=="]("document"))?l(k=l(t=D=e["$has_header?"]())?t:f.$delete("invalid-header"))?k:this["$is_next_line_section?"](d,f)["$!"]():g)?(G=e.$doctype(),l(l(g=D)?g:(k=G["$=="]("book"))?f["$[]"](1)["$!="]("abstract"):
G["$=="]("book"))&&(r=E=a.const_get_relative(y,"Block").$new(e,"preamble",n(["content_model"],{content_model:"compound"})),l((g=G["$=="]("book"))?e["$attr?"]("preface-title"):G["$=="]("book"))&&(x=[e.$attr("preface-title")],u(r,"title=",a.to_a(x)),x[b(x.length,1)]),e["$<<"](r)),B=e,C=0,H=l(e.$attributes()["$has_key?"]("fragment"))?c:G["$=="]("book")?[0,1]:[1]):(G=e.$document().$doctype(),B=this.$initialize_section(d,e,f),f=l(C=f["$[]"]("title"))?n(["title"],{title:C}):n([],{}),C=B.$level(),l((g=C["$=="](0))?
G["$=="]("book"):C["$=="](0))?(z=B.$special()["$!"](),H=l(l(g=B.$special())?["preface","appendix"]["$include?"](B.$sectname()):g)?[m(C,2)]:[m(C,1)]):H=[m(C,1)]);for(d.$skip_blank_lines();l(d["$has_more_lines?"]());){this.$parse_block_metadata_lines(d,B,f);if(l(x=this["$is_next_line_section?"](d,f)))if(x=m(x,B.$document().$attr("leveloffset",0).$to_i()),l(l(k=p(x,C))?k:B.$context()["$=="]("document")?x["$=="](0):B.$context()["$=="]("document")))l(x["$=="](0)?G["$!="]("book"):x["$=="](0))?this.$warn("asciidoctor: ERROR: "+
d.$line_info()+": only book doctypes can contain level 0 sections"):l(l(k=H)?H["$include?"](x)["$!"]():k)&&this.$warn(m(m("asciidoctor: WARNING: "+d.$line_info()+": section title out of sequence: ","expected "+(l(p(H.$size(),1))?"levels":"level")+" "+q(H," or ")+", "),"got level "+x)),t=this.$next_section(d,B,f),k=a.to_ary(t),x=null==k[0]?c:k[0],f=null==k[1]?c:k[1],t,B["$<<"](x);else{l((k=x["$=="](0))?G["$!="]("book"):x["$=="](0))&&this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections");
break}else x=d.$line_info(),l(A=this.$next_block(d,l(k=E)?k:B,f,n(["parse_metadata"],{parse_metadata:!1})))&&(l(z)&&(l(B["$blocks?"]()["$!"]())?l(A.$style()["$!="]("partintro"))&&(A.$context()["$=="]("paragraph")?(x=["open"],u(A,"context=",a.to_a(x)),x[b(x.length,1)],x=["partintro"],u(A,"style=",a.to_a(x)),x[b(x.length,1)]):(E=a.const_get_relative(y,"Block").$new(B,"open",n(["content_model"],{content_model:"compound"})),x=["partintro"],u(E,"style=",a.to_a(x)),x[b(x.length,1)],x=[E],u(A,"parent=",
a.to_a(x)),x[b(x.length,1)],B["$<<"](E))):B.$blocks().$size()["$=="](1)&&(O=B.$blocks()["$[]"](0),l(l(k=E["$!"]())?O.$content_model()["$=="]("compound"):k)?this.$warn("asciidoctor: ERROR: "+x+": illegal block content outside of partintro block"):l(O.$content_model()["$!="]("compound"))&&(E=a.const_get_relative(y,"Block").$new(B,"open",n(["content_model"],{content_model:"compound"})),x=["partintro"],u(E,"style=",a.to_a(x)),x[b(x.length,1)],B.$blocks().$shift(),O.$style()["$=="]("partintro")&&(x=["paragraph"],
u(O,"context=",a.to_a(x)),x[b(x.length,1)],x=[c],u(O,"style=",a.to_a(x)),x[b(x.length,1)]),x=[E],u(O,"parent=",a.to_a(x)),x[b(x.length,1)],E["$<<"](O),x=[E],u(A,"parent=",a.to_a(x)),x[b(x.length,1)],B["$<<"](E)))),(l(k=E)?k:B)["$<<"](A),f=n([],{}));d.$skip_blank_lines()}if(l(z))l(l(g=B["$blocks?"]())?B.$blocks()["$[]"](-1).$context()["$=="]("section"):g)||this.$warn("asciidoctor: ERROR: "+d.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(l(r))if(z=
e,l(r["$blocks?"]())){if(l(l(g=l(k=a.const_get_relative(y,"Compliance").$unwrap_standalone_preamble())?z.$blocks().$size()["$=="](1):k)?G["$!="]("book"):g))for(z.$blocks().$shift();l(G=r.$blocks().$shift());)x=[z],u(G,"parent=",a.to_a(x)),x[b(x.length,1)],z["$<<"](G)}else z.$blocks().$shift();return[l(B["$!="](e))?B:c,f.$dup()]},L.$$arity=-3);a.defs(d,"$next_block",T=function(d,e,g,k){var t,q,r,v,z,x,D,G,C,H=c,A=c,O=c,L=c,Q=c,ea=c,P=c,fa=c,J=c,V=c,N=c,ba=c,Y=c,K=c,T=c,W=c,R=c,ca=c,I=c,S=K=c,ga=K=
ca=K=c,qa=ca=K=J=J=c,ja=c,U=K=J=J=qa=ca=K=J=qa=c,pa=Y=T=K=ca=K=K=c,sa=c,oa=c,ka=Y=T=T=c,aa=H=c,la=c;null==g&&(g=n([],{}));null==k&&(k=n([],{}));H=d.$skip_blank_lines();if(!l(d["$has_more_lines?"]()))return c;l(l(t=A=k["$[]"]("text"))?p(H,0):t)&&(k.$delete("text"),A=!1);O=k.$fetch("parse_metadata",!0);L=e.$document();l(Q=L.$extensions())?(ea=Q["$blocks?"](),P=Q["$block_macros?"]()):ea=P=!1;fa=a.const_get_relative(y,"ListItem")["$==="](e);V=J=c;N=L.$sourcemap();for(ba=c;l(l(q=J["$!"]())?d["$has_more_lines?"]():
q);)if(l(l(q=O)?this.$parse_block_metadata_line(d,L,g,k):q))d.$advance();else{l(N)&&(ba=d.$cursor());Y=d.$read_line();K=!1;R=W=T=c;l(g["$[]"](1))&&(r=this.$parse_style_attribute(g,d),q=a.to_ary(r),V=null==q[0]?c:q[0],r);l(ca=this["$is_delimited_block?"](Y,!0))&&(K=!0,T=W=ca.$context(),R=ca.$terminator(),l(V["$!"]())?V=(I=["style",T.$to_s()],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]):l(V["$!="](T.$to_s()))&&(l(ca.$masq()["$include?"](V))?T=V.$to_sym():l(l(q=ca.$masq()["$include?"]("admonition"))?a.const_get_relative(y,
"ADMONITION_STYLES")["$include?"](V):q)?T="admonition":l(l(q=ea)?Q["$registered_for_block?"](V,T):q)?T=V.$to_sym():(this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for "+T+" block: "+V),V=T.$to_s())));if(!l(K))for(;l(!0);){if(l(l(r=l(v=V)?a.const_get_relative(y,"Compliance").$strict_verbatim_paragraphs():v)?a.const_get_relative(y,"VERBATIM_STYLES")["$include?"](V):r)){T=V.$to_sym();d.$unshift_line(Y);break}if(!l(A))if(K=l(a.const_get_relative(y,"Compliance").$markdown_syntax())?
Y.$lstrip().$chr():Y.$chr(),l(l(r=l(v=a.const_get_relative(y,"LAYOUT_BREAK_LINES")["$has_key?"](K))?f(Y.$length(),3):v)?(l(a.const_get_relative(y,"Compliance").$markdown_syntax())?a.const_get_relative(y,"LayoutBreakLinePlusRx"):a.const_get_relative(y,"LayoutBreakLineRx"))["$=~"](Y):r)){J=a.const_get_relative(y,"Block").$new(e,a.const_get_relative(y,"LAYOUT_BREAK_LINES")["$[]"](K),n(["content_model"],{content_model:"empty"}));break}else if(l(l(r=Y["$end_with?"]("]"))?S=a.const_get_relative(y,"MediaBlockMacroRx").$match(Y):
r)){K=S["$[]"](1).$to_sym();J=a.const_get_relative(y,"Block").$new(e,K,n(["content_model"],{content_model:"empty"}));ca=K["$=="]("image")?["alt","width","height"]:K["$=="]("video")?["poster","width","height"]:[];l(V)&&(K["$=="]("image")&&(I=["alt",V],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),g.$delete("style"),V=c);J.$parse_attributes(S["$[]"](3),ca,n(["unescape_input","sub_input","sub_result","into"],{unescape_input:K["$=="]("image"),sub_input:!0,sub_result:!1,into:g}));K=J.$sub_attributes(S["$[]"](2),
n(["attribute_missing"],{attribute_missing:"drop-line"}));if(l(K["$empty?"]())){if(L.$attributes().$fetch("attribute-missing",a.const_get_relative(y,"Compliance").$attribute_missing())["$=="]("skip"))return a.const_get_relative(y,"Block").$new(e,"paragraph",n(["content_model","source"],{content_model:"simple",source:[Y]}));g.$clear();return c}I=["target",K];u(g,"[]=",a.to_a(I));I[b(I.length,1)];break}else if(l((r=K["$=="]("t"))?S=a.const_get_relative(y,"TocBlockMacroRx").$match(Y):K["$=="]("t"))){J=
a.const_get_relative(y,"Block").$new(e,"toc",n(["content_model"],{content_model:"empty"}));J.$parse_attributes(S["$[]"](1),[],n(["sub_result","into"],{sub_result:!1,into:g}));break}else if(l(l(r=l(v=P)?S=a.const_get_relative(y,"GenericBlockMacroRx").$match(Y):v)?ga=Q["$registered_for_block_macro?"](S["$[]"](1)):r)){K=S["$[]"](2);J=S["$[]"](3);ga.$config()["$[]"]("content_model")["$=="]("attributes")?l(J["$empty?"]())||L.$parse_attributes(J,l(r=ga.$config()["$[]"]("pos_attrs"))?r:[],n(["sub_input",
"sub_result","into"],{sub_input:!0,sub_result:!1,into:g})):(I=["text",J],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]);l(J=ga.$config()["$[]"]("default_attrs"))&&u(J,"each",[],(z=function(d,e){var f;null==d&&(d=c);null==e&&(e=c);return l(f=g["$[]"](d))?f:(I=[d,e],u(g,"[]=",a.to_a(I)),I[b(I.length,1)])},z.$$s=this,z.$$arity=2,z));if(l(J=ga.$process_method()["$[]"](e,K,g.$dup())))g.$replace(J.$attributes());else return g.$clear(),c;break}if(l(S=a.const_get_relative(y,"CalloutListRx").$match(Y))){J=a.const_get_relative(y,
"List").$new(e,"colist");I=["style","arabic"];u(g,"[]=",a.to_a(I));I[b(I.length,1)];d.$unshift_line(Y);for(K=1;l(l(v=S)?v:l(x=d["$has_more_lines?"]())?S=a.const_get_relative(y,"CalloutListRx").$match(d.$peek_line()):x);)l(S["$[]"](1).$to_i()["$!="](K))&&this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+b(d.$lineno(),2)+": callout list item index: expected "+K+" got "+S["$[]"](1)),ca=this.$next_list_item(d,J,S),K=m(K,1),l(ca)&&(J["$<<"](ca),qa=L.$callouts().$callout_ids(J.$items().$size()),l(qa["$empty?"]()["$!"]())?
(I=["coids",qa],u(ca.$attributes(),"[]=",a.to_a(I)),I[b(I.length,1)]):this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+b(d.$lineno(),2)+": no callouts refer to list item "+J.$items().$size())),S=c;L.$callouts().$next_list();break}else if(l(a.const_get_relative(y,"UnorderedListRx")["$=~"](Y))){d.$unshift_line(Y);J=this.$next_outline_list(d,"ulist",e);break}else if(l(S=a.const_get_relative(y,"OrderedListRx").$match(Y))){d.$unshift_line(Y);J=this.$next_outline_list(d,"olist",e);l(l(r=g["$[]"]("style")["$!"]())?
J.$attributes()["$[]"]("style")["$!"]():r)&&(ja=J.$items()["$[]"](0).$marker(),l(ja["$start_with?"]("."))?I=["style",(l(r=a.const_get_relative(y,"ORDERED_LIST_STYLES")["$[]"](b(ja.$length(),1)))?r:a.const_get_relative(y,"ORDERED_LIST_STYLES")["$[]"](0)).$to_s()]:(V=u(a.const_get_relative(y,"ORDERED_LIST_STYLES"),"find",[],(D=function(b){null==b&&(b=c);return a.const_get_relative(y,"OrderedListMarkerRxMap")["$[]"](b)["$=~"](ja)},D.$$s=this,D.$$arity=1,D)),I=["style",(l(r=V)?r:a.const_get_relative(y,
"ORDERED_LIST_STYLES")["$[]"](0)).$to_s()]),u(g,"[]=",a.to_a(I)),I[b(I.length,1)]);break}else if(l(S=a.const_get_relative(y,"DescriptionListRx").$match(Y))){d.$unshift_line(Y);J=this.$next_labeled_list(d,S,e);break}else if(l(l(r=l(v=V["$=="]("float"))?v:V["$=="]("discrete"))?this["$is_section_title?"](Y,l(a.const_get_relative(y,"Compliance").$underline_style_section_titles())?d.$peek_line(!0):c):r)){d.$unshift_line(Y);v=this.$parse_section_title(d,L);r=a.to_ary(v);qa=null==r[0]?c:r[0];J=null==r[1]?
c:r[1];K=null==r[2]?c:r[2];ca=null==r[3]?c:r[3];v;l(J)&&(I=["reftext",J],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]);l(g["$has_key?"]("id"))&&(qa=l(r=qa)?r:g["$[]"]("id"));J=a.const_get_relative(y,"Block").$new(e,"floating_title",n(["content_model"],{content_model:"empty"}));l(qa["$nil_or_empty?"]())?(qa=a.const_get_relative(y,"Section").$new(e),I=[K],u(qa,"title=",a.to_a(I)),I[b(I.length,1)],I=[qa.$generate_id()]):I=[qa];u(J,"id=",a.to_a(I));I[b(I.length,1)];I=[ca];u(J,"level=",a.to_a(I));I[b(I.length,
1)];I=[K];u(J,"title=",a.to_a(I));I[b(I.length,1)];break}else if(l(l(r=V)?V["$!="]("normal"):r))if(l(a.const_get_relative(y,"PARAGRAPH_STYLES")["$include?"](V))){T=V.$to_sym();W="paragraph";d.$unshift_line(Y);break}else if(l(a.const_get_relative(y,"ADMONITION_STYLES")["$include?"](V))){T="admonition";W="paragraph";d.$unshift_line(Y);break}else if(l(l(r=ea)?Q["$registered_for_block?"](V,"paragraph"):r)){T=V.$to_sym();W="paragraph";d.$unshift_line(Y);break}else this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+
": invalid style for paragraph: "+V),V=c;J=(r=H["$=="](0))?fa:H["$=="](0);if(l(l(r=V["$!="]("normal"))?a.const_get_relative(y,"LiteralParagraphRx")["$=~"](Y):r))d.$unshift_line(Y),J=this.$read_paragraph_lines(d,J,n(["skip_line_comments"],{skip_line_comments:A})),this["$adjust_indentation!"](J),J=a.const_get_relative(y,"Block").$new(e,"literal",n(["content_model","source","attributes"],{content_model:"verbatim",source:J,attributes:g})),l(fa)&&J.$set_option("listparagraph");else{d.$unshift_line(Y);
J=this.$read_paragraph_lines(d,J,n(["skip_line_comments"],{skip_line_comments:!0}));if(l(J["$empty?"]()))return d.$advance(),c;this.$catalog_inline_anchors(J.$join(a.const_get_relative(y,"EOL")),L);K=J["$[]"](0);if(l(l(r=A["$!"]())?U=a.const_get_relative(y,"AdmonitionParagraphRx").$match(K):r))I=[0,U.$post_match().$lstrip()],u(J,"[]=",a.to_a(I)),I[b(I.length,1)],I=["style",U["$[]"](1)],u(g,"[]=",a.to_a(I)),I[b(I.length,1)],I=["name",K=U["$[]"](1).$downcase()],u(g,"[]=",a.to_a(I)),I[b(I.length,1)],
l(r=g["$[]"]("caption"))?r:(I=["caption",L.$attributes()["$[]"](""+K+"-caption")],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),J=a.const_get_relative(y,"Block").$new(e,"admonition",n(["content_model","source","attributes"],{content_model:"simple",source:J,attributes:g}));else if(l(l(r=l(v=A["$!"]())?a.const_get_relative(y,"Compliance").$markdown_syntax():v)?K["$start_with?"]("> "):r)){u(J,"map!",[],(G=function(a){null==a&&(a=c);return a["$=="](">")?a["$[]"](B(1,-1,!1)):l(a["$start_with?"]("> "))?a["$[]"](B(2,
-1,!1)):a},G.$$s=this,G.$$arity=1,G));if(l(J["$[]"](-1)["$start_with?"]("-- ")))for(v=J.$pop()["$[]"](B(3,-1,!1)).$split(", ",2),r=a.to_ary(v),K=null==r[0]?c:r[0],ca=null==r[1]?c:r[1],v;l(J["$[]"](-1)["$empty?"]());)J.$pop();else v=c,r=a.to_ary(v),K=null==r[0]?c:r[0],ca=null==r[1]?c:r[1],v;I=["style","quote"];u(g,"[]=",a.to_a(I));I[b(I.length,1)];l(K)&&(I=["attribution",K],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]);l(ca)&&(I=["citetitle",ca],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]);J=this.$build_block("quote",
"compound",!1,e,a.const_get_relative(y,"Reader").$new(J),g)}else if(l(l(r=A["$!"]())?this["$blockquote?"](J,K):r)){I=[0,K["$[]"](B(1,-1,!1))];u(J,"[]=",a.to_a(I));I[b(I.length,1)];v=J.$pop()["$[]"](B(3,-1,!1)).$split(", ",2);r=a.to_ary(v);K=null==r[0]?c:r[0];ca=null==r[1]?c:r[1];for(v;l(J["$[]"](-1)["$empty?"]());)J.$pop();I=[-1,J["$[]"](-1).$chop()];u(J,"[]=",a.to_a(I));I[b(I.length,1)];I=["style","quote"];u(g,"[]=",a.to_a(I));I[b(I.length,1)];l(K)&&(I=["attribution",K],u(g,"[]=",a.to_a(I)),I[b(I.length,
1)]);l(ca)&&(I=["citetitle",ca],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]);J=a.const_get_relative(y,"Block").$new(e,"quote",n(["content_model","source","attributes"],{content_model:"simple",source:J,attributes:g}))}else{if(V["$=="]("normal"))this["$adjust_indentation!"](J);J=a.const_get_relative(y,"Block").$new(e,"paragraph",n(["content_model","source","attributes"],{content_model:"simple",source:J,attributes:g}))}}break}if(l(l(q=J["$!"]())?T:q))if(l(l(q=T["$=="]("abstract"))?q:T["$=="]("partintro"))&&
(T="open"),K=T,"admonition"["$==="](K))I=["name",K=V.$downcase()],u(g,"[]=",a.to_a(I)),I[b(I.length,1)],l(q=g["$[]"]("caption"))?q:(I=["caption",L.$attributes()["$[]"](""+K+"-caption")],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),J=this.$build_block(T,"compound",R,e,d,g);else{if("comment"["$==="](K))return this.$build_block(T,"skip",R,e,d,g),c;if("example"["$==="](K))J=this.$build_block(T,"compound",R,e,d,g);else if("listing"["$==="](K)||"fenced_code"["$==="](K)||"source"["$==="](K))T["$=="]("fenced_code")?
(V=(I=["style","source"],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),r=Y["$[]"](B(3,-1,!1)).$tr(" ","").$split(",",2),q=a.to_ary(r),T=null==q[0]?c:q[0],Y=null==q[1]?c:q[1],r,l(T["$nil_or_empty?"]()["$!"]())?(I=["language",T],u(g,"[]=",a.to_a(I)),I[b(I.length,1)],l(Y["$nil_or_empty?"]())||(I=["linenums",""],u(g,"[]=",a.to_a(I)),I[b(I.length,1)])):l(pa=L.$attributes()["$[]"]("source-language"))&&(I=["language",pa],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),l(l(q=g["$key?"]("indent")["$!"]())?L.$attributes()["$key?"]("source-indent"):
q)&&(I=["indent",L.$attributes()["$[]"]("source-indent")],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),R=R["$[]"](B(0,2,!1))):T["$=="]("source")&&(a.const_get_relative(y,"AttributeList").$rekey(g,[c,"language","linenums"]),!l(g["$key?"]("language"))&&l(pa=L.$attributes()["$[]"]("source-language"))&&(I=["language",pa],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),l(l(q=g["$key?"]("indent")["$!"]())?L.$attributes()["$key?"]("source-indent"):q)&&(I=["indent",L.$attributes()["$[]"]("source-indent")],u(g,"[]=",a.to_a(I)),
I[b(I.length,1)])),J=this.$build_block("listing","verbatim",R,e,d,g);else if("literal"["$==="](K))J=this.$build_block(T,"verbatim",R,e,d,g);else if("pass"["$==="](K))J=this.$build_block(T,"raw",R,e,d,g);else if("stem"["$==="](K)||"latexmath"["$==="](K)||"asciimath"["$==="](K))T["$=="]("stem")&&(I=["style",l(sa=g["$[]"](2))?l(sa["$include?"]("tex"))?"latexmath":"asciimath":l((oa=L.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":oa],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),J=this.$build_block("stem",
"raw",R,e,d,g);else if("open"["$==="](K)||"sidebar"["$==="](K))J=this.$build_block(T,"compound",R,e,d,g);else if("table"["$==="](K))T=d.$cursor(),T=a.const_get_relative(y,"Reader").$new(d.$read_lines_until(n(["terminator","skip_line_comments"],{terminator:R,skip_line_comments:!0})),T),K=R.$chr(),","["$==="](K)?(I=["format","csv"],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]):":"["$==="](K)&&(I=["format","dsv"],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),J=this.$next_table(T,e,g);else if("quote"["$==="](K)||"verse"["$==="](K))a.const_get_relative(y,
"AttributeList").$rekey(g,[c,"attribution","citetitle"]),J=this.$build_block(T,T["$=="]("verse")?"verbatim":"compound",R,e,d,g);else if(l(l(q=ea)?ga=Q["$registered_for_block?"](T,W):q)){if(l((Y=ga.$config()["$[]"]("content_model"))["$!="]("skip"))&&(l((ka=l(q=ga.$config()["$[]"]("pos_attrs"))?q:[])["$empty?"]()["$!"]())&&a.const_get_relative(y,"AttributeList").$rekey(g,[c].$concat(ka)),l(J=ga.$config()["$[]"]("default_attrs"))&&u(J,"each",[],(C=function(d,e){var f;null==d&&(d=c);null==e&&(e=c);return l(f=
g["$[]"](d))?f:(I=[d,e],u(g,"[]=",a.to_a(I)),I[b(I.length,1)])},C.$$s=this,C.$$arity=2,C))),J=this.$build_block(T,Y,R,e,d,g,n(["extension"],{extension:ga})),!l(l(q=J)?Y["$!="]("skip"):q))return g.$clear(),c}else this.$raise("Unsupported block type "+T+" at "+d.$line_info())}}l(J)&&(l(ba)&&(I=[ba],u(J,"source_location=",a.to_a(I)),I[b(I.length,1)]),l(J["$title?"]())||(I=[g["$[]"]("title")],u(J,"title=",a.to_a(I)),I[b(I.length,1)]),J.$context()["$=="]("image")?(H=g["$[]"]("target"),J.$document().$register("images",
H),l(t=g["$[]"]("alt"))?t:(I=["alt",a.const_get_relative(y,"Helpers").$basename(H,!0).$tr("_-"," ")],u(g,"[]=",a.to_a(I)),I[b(I.length,1)]),I=["alt",J.$sub_specialchars(g["$[]"]("alt"))],u(g,"[]=",a.to_a(I)),I[b(I.length,1)],J.$assign_caption(g.$delete("caption"),"figure"),l(aa=g["$[]"]("scaledwidth"))&&l(B(48,57,!1)["$include?"]((l(t=aa["$[]"](-1))?t:0).$ord()))&&(I=["scaledwidth",""+aa+"%"],u(g,"[]=",a.to_a(I)),I[b(I.length,1)])):l(t=J.$caption())?t:(I=[g.$delete("caption")],u(J,"caption=",a.to_a(I)),
I[b(I.length,1)]),I=[g["$[]"]("style")],u(J,"style=",a.to_a(I)),I[b(I.length,1)],l(la=l(t=J.$id())?t:(I=[g["$[]"]("id")],u(J,"id=",a.to_a(I)),I[b(I.length,1)]))&&L.$register("ids",[la,l(t=g["$[]"]("reftext"))?t:l(J["$title?"]())?J.$title():c]),l(g["$empty?"]())||J.$attributes().$update(g),J.$lock_in_subs(),l(J["$sub?"]("callouts"))&&!l(this.$catalog_callouts(J.$source(),L))&&J.$remove_sub("callouts"));return J},T.$$arity=-3);a.defs(d,"$blockquote?",la=function(a,b){var d,e,f,h;null==b&&(b=c);return l(d=
l(e=l(f=p(a.$size(),1))?(l(h=b)?h:a["$[]"](0))["$start_with?"]('"'):f)?a["$[]"](-1)["$start_with?"]("-- "):e)?a["$[]"](-2)["$end_with?"]('"'):d},la.$$arity=-2);a.defs(d,"$read_paragraph_lines",Z=function(d,e,f){var g=c,g=c;null==f&&(f=n([],{}));g=["break_on_blank_lines",!0];u(f,"[]=",a.to_a(g));g[b(g.length,1)];g=["break_on_list_continuation",!0];u(f,"[]=",a.to_a(g));g[b(g.length,1)];g=["preserve_last_line",!0];u(f,"[]=",a.to_a(g));g[b(g.length,1)];g=l(e)?l(a.const_get_relative(y,"Compliance").$block_terminates_paragraph())?
a.const_get_relative(y,"StartOfBlockOrListProc"):a.const_get_relative(y,"StartOfListProc"):l(a.const_get_relative(y,"Compliance").$block_terminates_paragraph())?a.const_get_relative(y,"StartOfBlockProc"):a.const_get_relative(y,"NoOp");return u(d,"read_lines_until",[f],g.$to_proc())},Z.$$arity=-3);a.defs(d,"$is_delimited_block?",na=function(d,f){var g,m=c,n=c,u=c,r=c,t=c,u=m=c;null==f&&(f=!1);if(!l(l(g=p(m=d.$length(),1))?a.const_get_relative(y,"DELIMITED_BLOCK_LEADERS")["$include?"](d["$[]"](B(0,
1,!1))):g))return c;if(m["$=="](2))n=d,u=2;else{l(e(m,4))?(n=d,u=m):(n=d["$[]"](B(0,3,!1)),u=4);r=!1;if(l(a.const_get_relative(y,"Compliance").$markdown_syntax())&&(t=u["$=="](4)?n.$chop():n,t["$=="]("```"))){if(l(u["$=="](4)?n["$end_with?"]("`"):u["$=="](4)))return c;n=t;u=3;r=!0}if(l((g=u["$=="](3))?r["$!"]():u["$=="](3)))return c}if(l(a.const_get_relative(y,"DELIMITED_BLOCKS")["$has_key?"](n))){if(l(l(g=k(u,4))?g:u["$=="](m)))return l(f)?(g=[].concat(a.to_a(a.const_get_relative(y,"DELIMITED_BLOCKS")["$[]"](n))),
m=null==g[0]?c:g[0],u=null==g[1]?c:g[1],g,a.const_get_relative(y,"BlockMatchData").$new(m,u,n,n)):!0;if((""+n+q(n["$[]"](B(-1,-1,!1)),b(m,u)))["$=="](d))return l(f)?(g=[].concat(a.to_a(a.const_get_relative(y,"DELIMITED_BLOCKS")["$[]"](n))),m=null==g[0]?c:g[0],u=null==g[1]?c:g[1],g,a.const_get_relative(y,"BlockMatchData").$new(m,u,n,d)):!0}return c},na.$$arity=-2);a.defs(d,"$build_block",J=function(d,e,f,g,k,m,r){var t,q=c,w=c,v=q=w=c,w=v=v=v=v=c;null==r&&(r=n([],{}));l(l(t=e["$=="]("skip"))?t:e["$=="]("raw"))?
(q=e["$=="]("skip"),w="simple"):(q=!1,w=e);l(f["$nil?"]())?(w["$=="]("verbatim")?w=k.$read_lines_until(n(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),w=this.$read_paragraph_lines(k,!1,n(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),q=c):l(w["$!="]("compound"))?(w=k.$read_lines_until(n(["terminator","skip_processing"],{terminator:f,skip_processing:q})),q=c):
f["$=="](!1)?(w=c,q=k):(w=c,v=k.$cursor(),q=a.const_get_relative(y,"Reader").$new(k.$read_lines_until(n(["terminator","skip_processing"],{terminator:f,skip_processing:q})),v));if(e["$=="]("skip"))return m.$clear(),w;if(e["$=="]("verbatim"))if(l(v=m["$[]"]("indent")))this["$adjust_indentation!"](w,v,l(t=m["$[]"]("tabsize"))?t:g.$document().$attributes()["$[]"]("tabsize"));else if(l(p(v=(l(t=m["$[]"]("tabsize"))?t:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)))this["$adjust_indentation!"](w,
c,v);if(l(v=r["$[]"]("extension")))if(m.$delete("style"),l(v=v.$process_method()["$[]"](g,l(t=q)?t:a.const_get_relative(y,"Reader").$new(w),m.$dup())))m.$replace(v.$attributes()),l((t=v.$content_model()["$=="]("compound"))?(w=v.$lines())["$nil_or_empty?"]()["$!"]():v.$content_model()["$=="]("compound"))&&(e="compound",q=a.const_get_relative(y,"Reader").$new(w));else return c;else v=a.const_get_relative(y,"Block").$new(g,d,n(["content_model","source","attributes"],{content_model:e,source:w,attributes:m}));
l(l(t=m["$has_key?"]("title"))?v.$document()["$attr?"](""+v.$context()+"-caption"):t)&&(w=[m.$delete("title")],u(v,"title=",a.to_a(w)),w[b(w.length,1)],v.$assign_caption(m.$delete("caption")));e["$=="]("compound")&&this.$parse_blocks(q,v);return v},J.$$arity=-7);a.defs(d,"$parse_blocks",fa=function(b,d){for(var e=c;l(b["$has_more_lines?"]());)if(e=a.const_get_relative(y,"Parser").$next_block(b,d),l(e))d["$<<"](e)},fa.$$arity=2);a.defs(d,"$next_outline_list",ja=function(d,e,f){var g,n=c,t=c,r=c,q=
t=c,v=c,z=c,n=a.const_get_relative(y,"List").$new(f,e),t=f.$context()["$=="](e)?[m(f.$level(),1)]:[1];u(n,"level=",a.to_a(t));for(t[b(t.length,1)];l(l(g=d["$has_more_lines?"]())?r=a.const_get_relative(y,"ListRxMap")["$[]"](e).$match(d.$peek_line()):g);){t=this.$resolve_list_marker(e,r["$[]"](1));if(l(l(g=n["$items?"]())?t["$!="](n.$items()["$[]"](0).$marker()):g))for(q=m(n.$level(),1),v=f;v.$context()["$=="](e);){if(t["$=="](v.$items()["$[]"](0).$marker())){q=v.$level();break}v=v.$parent()}else q=
n.$level();if(l(l(g=n["$items?"]()["$!"]())?g:q["$=="](n.$level())))z=this.$next_list_item(d,n,r);else if(l(k(q,n.$level())))break;else if(l(p(q,n.$level())))n.$items()["$[]"](-1)["$<<"](this.$next_block(d,n));if(l(z))n["$<<"](z);z=c;d.$skip_blank_lines()}return n},ja.$$arity=3);a.defs(d,"$catalog_callouts",Y=function(b,d){var e,f=c,f=!1;l(b["$include?"]("<"))&&u(b,"scan",[a.const_get_relative(y,"CalloutQuickScanRx")],(e=function(){var a=c;null==G["~"]&&(G["~"]=c);a=G["~"];l(a["$[]"](0).$chr()["$!="]("\\"))&&
d.$callouts().$register(a["$[]"](2));return f=!0},e.$$s=this,e.$$arity=0,e));return f},Y.$$arity=2);a.defs(d,"$catalog_inline_anchors",V=function(b,d){var e;l(b["$include?"]("["))&&u(b,"scan",[a.const_get_relative(y,"InlineAnchorRx")],(e=function(){var a,b=c,e=c,b=c;null==G["~"]&&(G["~"]=c);b=G["~"];if(l(b["$[]"](0)["$start_with?"]("\\")))return c;e=l(a=b["$[]"](1))?a:b["$[]"](3);b=l(a=b["$[]"](2))?a:b["$[]"](4);return d.$register("ids",[e,b])},e.$$s=this,e.$$arity=0,e));return c},V.$$arity=2);a.defs(d,
"$next_labeled_list",ea=function(b,d,e){for(var f,h,g=c,k=c,m=c,n=c,p=c,g=a.const_get_relative(y,"List").$new(e,"dlist"),k=c,m=a.const_get_relative(y,"DescriptionListSiblingRx")["$[]"](d["$[]"](2));l(l(f=d)?f:l(h=b["$has_more_lines?"]())?d=m.$match(b.$peek_line()):h);){h=this.$next_list_item(b,g,d,m);f=a.to_ary(h);n=null==f[0]?c:f[0];p=null==f[1]?c:f[1];h;if(l(l(f=k)?k["$[]"](-1)["$!"]():f))k.$pop(),k["$[]"](0)["$<<"](n),k["$<<"](p);else g.$items()["$<<"](k=[[n],p]);d=c}return g},ea.$$arity=3);a.defs(d,
"$next_list_item",sa=function(d,e,f,g){var k,m=c,p=c,t=c,r=c,q=t=c,w=q=q=q=r=c,v=c,z=v=w=c,x=c;null==g&&(g=c);(m=e.$context())["$=="]("dlist")?(p=a.const_get_relative(y,"ListItem").$new(e,f["$[]"](1)),t=a.const_get_relative(y,"ListItem").$new(e,f["$[]"](3)),r=f["$[]"](3)["$nil_or_empty?"]()["$!"]()):(t=f["$[]"](2),q=!1,l((k=m["$=="]("ulist"))?t["$start_with?"]("["):m["$=="]("ulist"))&&(l(t["$start_with?"]("[ ] "))?(q=!0,r=!1,t=t["$[]"](B(3,-1,!1)).$lstrip()):l(l(k=t["$start_with?"]("[x] "))?k:t["$start_with?"]("[*] "))&&
(r=q=!0,t=t["$[]"](B(3,-1,!1)).$lstrip())),t=a.const_get_relative(y,"ListItem").$new(e,t),l(q)&&(q=["checklist-option",""],u(e.$attributes(),"[]=",a.to_a(q)),q[b(q.length,1)],q=["checkbox",""],u(t.$attributes(),"[]=",a.to_a(q)),q[b(q.length,1)],l(r)&&(q=["checked",""],u(t.$attributes(),"[]=",a.to_a(q)),q[b(q.length,1)])),g=l(k=g)?k:this.$resolve_list_marker(m,f["$[]"](1),e.$items().$size(),!0,d),q=[g],u(t,"marker=",a.to_a(q)),q[b(q.length,1)],r=!0);d.$advance();q=d.$cursor();q=a.const_get_relative(y,
"Reader").$new(this.$read_lines_for_list_item(d,m,g,r),q);if(l(q["$has_more_lines?"]())){w=q.$skip_line_comments();v=q.$peek_line();l(w["$empty?"]())||q.$unshift_lines(w);l(v["$nil?"]()["$!"]())?(w=v["$empty?"](),l(l(k=w["$!"]())?m["$!="]("dlist"):k)&&(r=!1),v=l(k=w["$!"]())?v["$empty?"]()["$!"]():k):v=w=!1;for(z=n(["text"],{text:r["$!"]()});l(q["$has_more_lines?"]());)if(l(x=this.$next_block(q,t,n([],{}),z)))t["$<<"](x);t.$fold_first(w,v)}return m["$=="]("dlist")?(l(l(k=t["$text?"]())?k:t["$blocks?"]())||
(t=c),[p,t]):t},sa.$$arity=-4);a.defs(d,"$read_lines_for_list_item",pa=function(d,e,f,g){var k,m,p,t,q,r,w,v,z=c,x=c,D=c,B=c,F=c,C=c,C=p=p=c;null==G["~"]&&(G["~"]=c);null==f&&(f=c);null==g&&(g=!0);z=[];x="inactive";D=!1;for(B=c;l(d["$has_more_lines?"]());){F=d.$read_line();if(l(this["$is_sibling_list_item?"](F,e,f)))break;C=l(z["$empty?"]())?c:z["$[]"](-1);if(C["$=="](a.const_get_relative(y,"LIST_CONTINUATION"))&&(x["$=="]("inactive")&&(x="active",g=!0,l(D)||(p=[-1,""],u(z,"[]=",a.to_a(p)),p[b(p.length,
1)])),F["$=="](a.const_get_relative(y,"LIST_CONTINUATION")))){l(x["$!="]("frozen"))&&(x="frozen",z["$<<"](F));F=c;continue}if(l(p=this["$is_delimited_block?"](F,!0)))if(x["$=="]("active"))z["$<<"](F),z.$concat(d.$read_lines_until(n(["terminator","read_last_line"],{terminator:p.$terminator(),read_last_line:!0}))),x="inactive";else break;else if(l(l(m=(p=e["$=="]("dlist"))?x["$!="]("active"):e["$=="]("dlist"))?a.const_get_relative(y,"BlockAttributeLineRx")["$=~"](F):m))break;else if(l((m=x["$=="]("active"))?
F["$empty?"]()["$!"]():x["$=="]("active")))if(l(a.const_get_relative(y,"LiteralParagraphRx")["$=~"](F)))d.$unshift_line(F),z.$concat(u(d,"read_lines_until",[n(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(t=function(a){var b=t.$$s||this;null==a&&(a=c);return e["$=="]("dlist")?b["$is_sibling_list_item?"](a,e,f):e["$=="]("dlist")},t.$$s=this,t.$$arity=1,t))),x="inactive";else if(l(l(m=l(p=a.const_get_relative(y,
"BlockTitleRx")["$=~"](F))?p:a.const_get_relative(y,"BlockAttributeLineRx")["$=~"](F))?m:a.const_get_relative(y,"AttributeEntryRx")["$=~"](F)))z["$<<"](F);else l(C=u(l(D)?["dlist"]:a.const_get_relative(y,"NESTABLE_LIST_CONTEXTS"),"find",[],(q=function(b){null==b&&(b=c);return a.const_get_relative(y,"ListRxMap")["$[]"](b)["$=~"](F)},q.$$s=this,q.$$arity=1,q)))&&(D=!0,l((m=C["$=="]("dlist"))?G["~"]["$[]"](3)["$nil_or_empty?"]():C["$=="]("dlist"))&&(g=!1)),z["$<<"](F),x="inactive";else if(l(l(m=C["$nil?"]()["$!"]())?
C["$empty?"]():m)){if(l(F["$empty?"]())&&(d.$skip_blank_lines(),F=d.$read_line(),l(l(m=F["$nil?"]())?m:this["$is_sibling_list_item?"](F,e,f))))break;if(F["$=="](a.const_get_relative(y,"LIST_CONTINUATION")))B=z.$size(),z["$<<"](F);else if(l(g))if(l(this["$is_sibling_list_item?"](F,e,f)))break;else if(l(C=u(a.const_get_relative(y,"NESTABLE_LIST_CONTEXTS"),"find",[],(r=function(b){null==b&&(b=c);return a.const_get_relative(y,"ListRxMap")["$[]"](b)["$=~"](F)},r.$$s=this,r.$$arity=1,r))))z["$<<"](F),D=
!0,l((m=C["$=="]("dlist"))?G["~"]["$[]"](3)["$nil_or_empty?"]():C["$=="]("dlist"))&&(g=!1);else if(l(a.const_get_relative(y,"LiteralParagraphRx")["$=~"](F)))d.$unshift_line(F),z.$concat(u(d,"read_lines_until",[n(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(w=function(a){var b=w.$$s||this;null==a&&(a=c);return e["$=="]("dlist")?b["$is_sibling_list_item?"](a,e,f):e["$=="]("dlist")},w.$$s=this,
w.$$arity=1,w)));else break;else l(D)||z.$pop(),z["$<<"](F),g=!0}else l(F["$empty?"]()["$!"]())&&(g=!0),l(C=u(l(D)?["dlist"]:a.const_get_relative(y,"NESTABLE_LIST_CONTEXTS"),"find",[],(v=function(b){null==b&&(b=c);return a.const_get_relative(y,"ListRxMap")["$[]"](b)["$=~"](F)},v.$$s=this,v.$$arity=1,v)))&&(D=!0,l((m=C["$=="]("dlist"))?G["~"]["$[]"](3)["$nil_or_empty?"]():C["$=="]("dlist"))&&(g=!1)),z["$<<"](F);F=c}l(F)&&d.$unshift_line(F);for(l(B)&&z.$delete_at(B);l(l(m=z["$empty?"]()["$!"]())?z["$[]"](-1)["$empty?"]():
m);)z.$pop();l(l(k=z["$empty?"]()["$!"]())?z["$[]"](-1)["$=="](a.const_get_relative(y,"LIST_CONTINUATION")):k)&&z.$pop();return z},pa.$$arity=-3);a.defs(d,"$initialize_section",ua=function(d,e,f){var g,k,m=c,p=c,t=c,q=c,r=c,w=t=q=k=g=c;null==f&&(f=n([],{}));m=e.$document();l(m.$sourcemap())&&(p=d.$cursor());k=this.$parse_section_title(d,m);g=a.to_ary(k);t=null==g[0]?c:g[0];q=null==g[1]?c:g[1];r=null==g[2]?c:g[2];g=null==g[3]?c:g[3];k;l(q)&&(k=["reftext",q],u(f,"[]=",a.to_a(k)),k[b(k.length,1)]);q=
a.const_get_relative(y,"Section").$new(e,g,m.$attributes()["$has_key?"]("sectnums"));l(p)&&(k=[p],u(q,"source_location=",a.to_a(k)),k[b(k.length,1)]);k=[t];u(q,"id=",a.to_a(k));k[b(k.length,1)];k=[r];u(q,"title=",a.to_a(k));k[b(k.length,1)];l(f["$[]"](1))?(k=this.$parse_style_attribute(f,d),g=a.to_ary(k),t=null==g[0]?c:g[0],k,l(t)?(k=[t],u(q,"sectname=",a.to_a(k)),k[b(k.length,1)],k=[!0],u(q,"special=",a.to_a(k)),k[b(k.length,1)],l((g=q.$sectname()["$=="]("abstract"))?m.$doctype()["$=="]("book"):
q.$sectname()["$=="]("abstract"))&&(k=["sect1"],u(q,"sectname=",a.to_a(k)),k[b(k.length,1)],k=[!1],u(q,"special=",a.to_a(k)),k[b(k.length,1)],k=[1],u(q,"level=",a.to_a(k)),k[b(k.length,1)])):(k=["sect"+q.$level()],u(q,"sectname=",a.to_a(k)),k[b(k.length,1)])):(l((g=r.$downcase()["$=="]("synopsis"))?m.$doctype()["$=="]("manpage"):r.$downcase()["$=="]("synopsis"))?(k=[!0],u(q,"special=",a.to_a(k)),k[b(k.length,1)],k=["synopsis"]):k=["sect"+q.$level()],u(q,"sectname=",a.to_a(k)),k[b(k.length,1)]);l(l(g=
q.$id()["$!"]())?w=f["$[]"]("id"):g)?(k=[w],u(q,"id=",a.to_a(k)),k[b(k.length,1)]):l(g=q.$id())?g:(k=[q.$generate_id()],u(q,"id=",a.to_a(k)),k[b(k.length,1)]);l(q.$id())&&q.$document().$register("ids",[q.$id(),l(g=f["$[]"]("reftext"))?g:q.$title()]);q.$update_attributes(f);d.$skip_blank_lines();return q},ua.$$arity=-3);a.defs(d,"$section_level",ga=function(b){return a.const_get_relative(y,"SECTION_LEVELS")["$[]"](b.$chr())},ga.$$arity=1);a.defs(d,"$single_line_section_level",ka=function(a){return b(a.$length(),
1)},ka.$$arity=1);a.defs(d,"$is_next_line_section?",oa=function(b,d){var e,f,g,h=c,k=c;return l(l(e=l(f=(h=d["$[]"](1))["$nil?"]()["$!"]())?l(g=(k=h["$[]"](0).$ord())["$=="](100))?g:k["$=="](102):f)?h["$=~"](a.const_get_relative(y,"FloatingTitleStyleRx")):e)||!l(b["$has_more_lines?"]())?!1:l(a.const_get_relative(y,"Compliance").$underline_style_section_titles())?u(this,"is_section_title?",a.to_a(b.$peek_lines(2))):this["$is_section_title?"](b.$peek_line())},oa.$$arity=2);a.defs(d,"$is_next_line_document_title?",
ra=function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)},ra.$$arity=2);a.defs(d,"$is_section_title?",R=function(a,b){var d,e=c;null==b&&(b=c);return l(e=this["$is_single_line_section_title?"](a))?e:l(l(d=b)?e=this["$is_two_line_section_title?"](a,b):d)?e:!1},R.$$arity=-2);a.defs(d,"$is_single_line_section_title?",z=function(b){var d,e,f,g=c,h=c,g=l(b)?b.$chr():c;return l(l(d=l(e=g["$=="]("="))?e:l(f=a.const_get_relative(y,"Compliance").$markdown_syntax())?g["$=="]("#"):f)?h=a.const_get_relative(y,
"AtxSectionRx").$match(b):d)?this.$single_line_section_level(h["$[]"](1)):!1},z.$$arity=1);a.defs(d,"$is_two_line_section_title?",ca=function(c,d){var f,g,k,m;return l(l(f=l(g=l(k=l(m=l(c)?d:c)?a.const_get_relative(y,"SECTION_LEVELS")["$has_key?"](d.$chr()):m)?d["$=~"](a.const_get_relative(y,"SetextSectionLineRx")):k)?c["$=~"](a.const_get_relative(y,"SetextSectionTitleRx")):g)?e(b(this.$line_length(c),this.$line_length(d)).$abs(),1):f)?this.$section_level(d):!1},ca.$$arity=2);a.defs(d,"$parse_section_title",
qa=function(d,g){var k,n,p,u,q=c,t=c,r=c,v=c,z=c,x=c,D=c,G=c,F=c,B=c,C=c,q=d.$read_line(),r=t=c,v=-1,z=c,x=!0,D=q.$chr();l(l(k=l(n=D["$=="]("="))?n:l(p=a.const_get_relative(y,"Compliance").$markdown_syntax())?D["$=="]("#"):p)?G=a.const_get_relative(y,"AtxSectionRx").$match(q):k)?(v=this.$single_line_section_level(G["$[]"](1)),r=G["$[]"](2),l(l(k=r["$end_with?"]("]]"))?F=a.const_get_relative(y,"InlineSectionAnchorRx").$match(r):k)&&l(F["$[]"](2)["$nil?"]())&&(r=F["$[]"](1),t=F["$[]"](3),z=F["$[]"](4))):
l(a.const_get_relative(y,"Compliance").$underline_style_section_titles())&&l(l(k=l(n=l(p=l(u=B=d.$peek_line(!0))?a.const_get_relative(y,"SECTION_LEVELS")["$has_key?"](B.$chr()):u)?B["$=~"](a.const_get_relative(y,"SetextSectionLineRx")):p)?C=a.const_get_relative(y,"SetextSectionTitleRx").$match(q):n)?e(b(this.$line_length(q),this.$line_length(B)).$abs(),1):k)&&(r=C["$[]"](1),l(l(k=r["$end_with?"]("]]"))?F=a.const_get_relative(y,"InlineSectionAnchorRx").$match(r):k)&&l(F["$[]"](2)["$nil?"]())&&(r=F["$[]"](1),
t=F["$[]"](3),z=F["$[]"](4)),v=this.$section_level(B),x=!1,d.$advance());l(f(v,0))&&(v=m(v,g.$attr("leveloffset",0).$to_i()));return[t,z,r,v,x]},qa.$$arity=2);a.defs(d,"$line_length",Aa=function(b){return l(a.const_get_relative(y,"FORCE_UNICODE_LINE_LENGTH"))?b.$scan(a.const_get_relative(y,"UnicodeCharScanRx")).$length():b.$length()},Aa.$$arity=1);a.defs(d,"$parse_header_metadata",xa=function(d,e){var f,g,k,q=c,t=c,r=c,v=c,z=v=c,x=c,D=c,G=z=c,r=t=c;null==e&&(e=c);this.$process_attribute_entries(d,
e);q=n([],{});r=t=c;l(l(f=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():f)&&(v=this.$process_authors(d.$read_line()),l(v["$empty?"]())||(l(e)&&(u(v,"each",[],(g=function(d,f){var g=c;null==d&&(d=c);null==f&&(f=c);if(l(e.$attributes()["$has_key?"](d)))return c;g=[d,l(a.const_get_qualified("::","String")["$==="](f))?e.$apply_header_subs(f):f];u(e.$attributes(),"[]=",a.to_a(g));return g[b(g.length,1)]},g.$$s=this,g.$$arity=2,g)),t=e.$attributes()["$[]"]("author"),r=e.$attributes()["$[]"]("authors")),
q=v),this.$process_attribute_entries(d,e),v=n([],{}),l(l(f=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():f)&&(z=d.$read_line(),l(x=a.const_get_relative(y,"RevisionInfoLineRx").$match(z))?(l(x["$[]"](1))&&(D=["revnumber",x["$[]"](1).$rstrip()],u(v,"[]=",a.to_a(D)),D[b(D.length,1)]),l((z=x["$[]"](2).$strip())["$empty?"]())||(D=l(l(f=x["$[]"](1)["$!"]())?z["$start_with?"]("v"):f)?["revnumber",z["$[]"](B(1,-1,!1))]:["revdate",z],u(v,"[]=",a.to_a(D)),D[b(D.length,1)]),l(x["$[]"](3))&&(D=["revremark",
x["$[]"](3).$rstrip()],u(v,"[]=",a.to_a(D)),D[b(D.length,1)])):d.$unshift_line(z)),l(v["$empty?"]())||(l(e)&&u(v,"each",[],(k=function(d,f){null==d&&(d=c);null==f&&(f=c);if(l(e.$attributes()["$has_key?"](d)))return c;D=[d,e.$apply_header_subs(f)];u(e.$attributes(),"[]=",a.to_a(D));return D[b(D.length,1)]},k.$$s=this,k.$$arity=2,k)),q.$update(v)),this.$process_attribute_entries(d,e),d.$skip_blank_lines());if(l(e)){v=c;if(l(l(f=e.$attributes()["$has_key?"]("author"))?(G=e.$attributes()["$[]"]("author"))["$!="](t):
f))v=this.$process_authors(G,!0,!1);else if(l(l(f=e.$attributes()["$has_key?"]("authors"))?(G=e.$attributes()["$[]"]("authors"))["$!="](r):f))v=this.$process_authors(G,!0);else{t=[];for(r="author_"+m(t.$size(),1);l(e.$attributes()["$has_key?"](r));)t["$<<"](e.$attributes()["$[]"](r)),r="author_"+m(t.$size(),1);t.$size()["$=="](1)?v=this.$process_authors(t["$[]"](0),!0,!1):l(p(t.$size(),1))&&(v=this.$process_authors(t.$join("; "),!0))}l(v)&&(e.$attributes().$update(v),l(l(f=e.$attributes()["$has_key?"]("email")["$!"]())?
e.$attributes()["$has_key?"]("email_1"):f)&&(D=["email",e.$attributes()["$[]"]("email_1")],u(e.$attributes(),"[]=",a.to_a(D)),D[b(D.length,1)]))}return q},xa.$$arity=-2);a.defs(d,"$process_authors",ya=function(d,e,f){var g,k,q=this,t=c,r=c,v=c;null==e&&(e=!1);null==f&&(f=!0);t=n([],{});r="author authorinitials firstname middlename lastname email".split(" ");v=function(){return l(f)?u(d.$split(";"),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=q,g.$$arity=1,g)):[d]}();u(v,"each_with_index",
[],(k=function(d,f){var g=k.$$s||this,q,v,z,x,D=c,G=c,C=c,E=c,H=C=c,A=c;null==d&&(d=c);null==f&&(f=c);if(l(d["$empty?"]()))return c;D=n([],{});f["$=="](0)?u(r,"each",[],(q=function(d){var e=c;null==d&&(d=c);e=[d.$to_sym(),d];u(D,"[]=",a.to_a(e));return e[b(e.length,1)]},q.$$s=g,q.$$arity=1,q)):u(r,"each",[],(v=function(d){var e=c;null==d&&(d=c);e=[d.$to_sym(),""+d+"_"+m(f,1)];u(D,"[]=",a.to_a(e));return e[b(e.length,1)]},v.$$s=g,v.$$arity=1,v));G=c;l(e)?l(p((G=d.$split(" ")).$size(),3))&&(G=G["$[]"](B(0,
1,!1)).$push(G["$[]"](B(2,-1,!1)).$join(" "))):l(C=a.const_get_relative(y,"AuthorInfoLineRx").$match(d))&&(G=C.$to_a(),G.$shift());l(G["$nil?"]())?(E=[D["$[]"]("author"),(E=[D["$[]"]("firstname"),C=d.$strip().$tr_s(" "," ")],u(t,"[]=",a.to_a(E)),E[b(E.length,1)])],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("authorinitials"),C["$[]"](0,1)],u(t,"[]=",a.to_a(E)),E[b(E.length,1)]):(E=[D["$[]"]("firstname"),C=G["$[]"](0).$tr("_"," ")],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("author"),
C],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("authorinitials"),C["$[]"](0,1)],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],l(l(z=G["$[]"](1)["$nil?"]()["$!"]())?G["$[]"](2)["$nil?"]()["$!"]():z)?(E=[D["$[]"]("middlename"),H=G["$[]"](1).$tr("_"," ")],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("lastname"),A=G["$[]"](2).$tr("_"," ")],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("author"),[C,H,A].$join(" ")],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("authorinitials"),[C["$[]"](0,
1),H["$[]"](0,1),A["$[]"](0,1)].$join()],u(t,"[]=",a.to_a(E)),E[b(E.length,1)]):l(G["$[]"](1)["$nil?"]()["$!"]())&&(E=[D["$[]"]("lastname"),A=G["$[]"](1).$tr("_"," ")],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("author"),[C,A].$join(" ")],u(t,"[]=",a.to_a(E)),E[b(E.length,1)],E=[D["$[]"]("authorinitials"),[C["$[]"](0,1),A["$[]"](0,1)].$join()],u(t,"[]=",a.to_a(E)),E[b(E.length,1)]),l(l(z=e)?z:G["$[]"](3)["$nil?"]())||(E=[D["$[]"]("email"),G["$[]"](3)],u(t,"[]=",a.to_a(E)),E[b(E.length,1)]));
E=["authorcount",m(f,1)];u(t,"[]=",a.to_a(E));E[b(E.length,1)];f["$=="](1)&&u(r,"each",[],(x=function(d){null==d&&(d=c);return l(t["$has_key?"](d))?(E=[""+d+"_1",t["$[]"](d)],u(t,"[]=",a.to_a(E)),E[b(E.length,1)]):c},x.$$s=g,x.$$arity=1,x));E=f["$=="](0)?["authors",t["$[]"](D["$[]"]("author"))]:["authors",""+t["$[]"]("authors")+", "+t["$[]"](D["$[]"]("author"))];u(t,"[]=",a.to_a(E));return E[b(E.length,1)]},k.$$s=q,k.$$arity=2,k));return t},ya.$$arity=-2);a.defs(d,"$parse_block_metadata_lines",za=
function(a,b,c,d){null==c&&(c=n([],{}));for(null==d&&(d=n([],{}));l(this.$parse_block_metadata_line(a,b,c,d));)a.$advance(),a.$skip_blank_lines();return c},za.$$arity=-3);a.defs(d,"$parse_block_metadata_line",Ca=function(d,e,f,g){var k,m,p=c,t=c,q=c,p=t=p=c;null==g&&(g=n([],{}));if(!l(d["$has_more_lines?"]()))return!1;p=d.$peek_line();if(l(l(k=t=p["$start_with?"]("//"))?q=a.const_get_relative(y,"CommentBlockRx").$match(p):k))p=q["$[]"](0),d.$read_lines_until(n(["skip_first_line","preserve_last_line",
"terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:p,skip_processing:!0}));else if(!l(l(k=t)?a.const_get_relative(y,"CommentLineRx")["$=~"](p):k))if(l(l(k=l(m=g["$[]"]("text")["$!"]())?p["$start_with?"](":"):m)?q=a.const_get_relative(y,"AttributeEntryRx").$match(p):k))this.$process_attribute_entry(d,e,f,q);else if(l(l(k=t=l(m=p["$start_with?"]("["))?p["$end_with?"]("]"):m)?q=a.const_get_relative(y,"BlockAnchorRx").$match(p):k))l(q["$[]"](1)["$nil_or_empty?"]())||
(p=["id",q["$[]"](1)],u(f,"[]=",a.to_a(p)),p[b(p.length,1)],l(q["$[]"](2)["$nil?"]())||(p=["reftext",q["$[]"](2)],u(f,"[]=",a.to_a(p)),p[b(p.length,1)]));else if(l(l(k=t)?q=a.const_get_relative(y,"BlockAttributeListRx").$match(p):k))e.$document().$parse_attributes(q["$[]"](1),[],n(["sub_input","into"],{sub_input:!0,into:f}));else if(l(l(k=g["$[]"]("text")["$!"]())?q=a.const_get_relative(y,"BlockTitleRx").$match(p):k))p=["title",q["$[]"](1)],u(f,"[]=",a.to_a(p)),p[b(p.length,1)];else return!1;return!0},
Ca.$$arity=-4);a.defs(d,"$process_attribute_entries",Ea=function(a,b,d){null==d&&(d=c);for(a.$skip_comment_lines();l(this.$process_attribute_entry(a,b,d));)a.$advance(),a.$skip_comment_lines()},Ea.$$arity=-3);a.defs(d,"$process_attribute_entry",Fa=function(b,d,e,f){var g,h=c,k=c,m=c,n=c,p=c,q=c;null==e&&(e=c);null==f&&(f=c);f=l(g=f)?g:l(b["$has_more_lines?"]())?a.const_get_relative(y,"AttributeEntryRx").$match(b.$peek_line()):c;if(l(f)){h=f["$[]"](1);if(!l((k=l(g=f["$[]"](2))?g:"")["$empty?"]())&&
l(l(g=k["$end_with?"](m=a.const_get_relative(y,"LINE_CONTINUATION")))?g:k["$end_with?"](m=a.const_get_relative(y,"LINE_CONTINUATION_LEGACY"))))for(k=k.$chop().$rstrip();l(b.$advance())&&!l((n=b.$peek_line().$strip())["$empty?"]())&&(l(p=n["$end_with?"](m))&&(n=n.$chop().$rstrip()),q=l(k["$end_with?"](a.const_get_relative(y,"LINE_BREAK")))?a.const_get_relative(y,"EOL"):" ",k=""+k+q+n,l(p)););this.$store_attribute(h,k,l(d)?d.$document():c,e);return!0}return!1},Fa.$$arity=-3);a.defs(d,"$store_attribute",
Ga=function(d,e,f,g){var k,n=c,n=c;null==f&&(f=c);null==g&&(g=c);l(d["$end_with?"]("!"))?(e=c,d=d.$chop()):l(d["$start_with?"]("!"))&&(e=c,d=d["$[]"](B(1,-1,!1)));d=this.$sanitize_attribute_name(d);n=!0;l(f)&&(d["$=="]("numbered")?d="sectnums":d["$=="]("leveloffset")&&l(e)&&(n=e.$chr(),"+"["$==="](n)?e=m(f.$attr("leveloffset",0).$to_i(),(l(k=e["$[]"](B(1,-1,!1)))?k:0).$to_i()).$to_s():"-"["$==="](n)&&(e=b(f.$attr("leveloffset",0).$to_i(),(l(k=e["$[]"](B(1,-1,!1)))?k:0).$to_i()).$to_s())),n=l(e)?f.$set_attribute(d,
e):f.$delete_attribute(d));l(l(k=n)?g:k)&&(l(e)&&(e=f.$attributes()["$[]"](d)),a.const_get_qualified(a.const_get_relative(y,"Document"),"AttributeEntry").$new(d,e).$save_to(g));return[d,e]},Ga.$$arity=-3);a.defs(d,"$resolve_list_marker",Ha=function(a,b,d,e,f){null==d&&(d=0);null==e&&(e=!1);null==f&&(f=c);return l(a["$=="]("olist")?b["$start_with?"](".")["$!"]():a["$=="]("olist"))?this.$resolve_ordered_list_marker(b,d,e,f):a["$=="]("colist")?"<1>":b},Ha.$$arity=-3);a.defs(d,"$resolve_ordered_list_marker",
U=function(b,d,e,f){var g,h,k=c,n=c,p=c,k=c;null==d&&(d=0);null==e&&(e=!1);null==f&&(f=c);k=u(a.const_get_relative(y,"ORDERED_LIST_STYLES"),"find",[],(g=function(d){null==d&&(d=c);return a.const_get_relative(y,"OrderedListMarkerRxMap")["$[]"](d)["$=~"](b)},g.$$s=this,g.$$arity=1,g));n=p=c;"arabic"["$==="](k)?(l(e)&&(n=m(d,1),p=b.$to_i()),b="1."):"loweralpha"["$==="](k)?(l(e)&&(n=m("a"["$[]"](0).$ord(),d).$chr(),p=b.$chomp(".")),b="a."):"upperalpha"["$==="](k)?(l(e)&&(n=m("A"["$[]"](0).$ord(),d).$chr(),
p=b.$chomp(".")),b="A."):"lowerroman"["$==="](k)?(l(e)&&(n=m(d,1),p=this.$roman_numeral_to_int(b.$chomp(")"))),b="i)"):"upperroman"["$==="](k)&&(l(e)&&(n=m(d,1),p=this.$roman_numeral_to_int(b.$chomp(")"))),b="I)");l(l(h=e)?n["$!="](p):h)&&this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+n+", got "+p);return b},U.$$arity=-2);a.defs(d,"$is_sibling_list_item?",ma=function(b,d,e){var f=c,g=c,h=c;l(a.const_get_qualified("::","Regexp")["$==="](e))?(f=e,g=!1):(f=a.const_get_relative(y,
"ListRxMap")["$[]"](d),g=e);return l(h=f.$match(b))?l(g)?g["$=="](this.$resolve_list_marker(d,h["$[]"](1))):!0:!1},ma.$$arity=3);a.defs(d,"$next_table",Ia=function(d,e,f){var g,k,n,p,q,t=c,r=c,v=c,z=c,D=c,x=c,G=c,F=c,C=c,H=c,A=c,J=c,L=c,O=C=c,t=a.const_get_relative(y,"Table").$new(e,f);l(f["$has_key?"]("title"))&&(r=[f.$delete("title")],u(t,"title=",a.to_a(r)),r[b(r.length,1)],t.$assign_caption(f.$delete("caption")));l(l(g=f["$key?"]("cols"))?(v=this.$parse_colspecs(f["$[]"]("cols")))["$empty?"]()["$!"]():
g)?(t.$create_columns(v),z=!0):z=!1;D=d.$skip_blank_lines();x=a.const_get_qualified(a.const_get_relative(y,"Table"),"ParserContext").$new(d,t,f);G=l(g=f["$key?"]("header-option"))?g:f["$key?"]("noheader-option");for(F=-1;l(d["$has_more_lines?"]());){F=m(F,1);C=d.$read_line();l(l(k=l(n=l(p=l(q=G["$!"]())?D["$=="](0):q)?F["$=="](0):p)?(H=d.$peek_line())["$nil?"]()["$!"]():n)?H["$empty?"]():k)&&(r=[!0],u(t,"has_header_option=",a.to_a(r)),r[b(r.length,1)],r=["header-option",""],u(f,"[]=",a.to_a(r)),r[b(r.length,
1)],r=["options",l(f["$key?"]("options"))?""+f["$[]"]("options")+",header":"header"],u(f,"[]=",a.to_a(r)),r[b(r.length,1)]);x.$format()["$=="]("psv")&&(l(x["$starts_with_delimiter?"](C))?(C=C["$[]"](B(1,-1,!1)),x.$close_open_cell()):(n=this.$parse_cellspec(C,"start",x.$delimiter()),k=a.to_ary(n),A=null==k[0]?c:k[0],C=null==k[1]?c:k[1],n,l(A["$nil?"]()["$!"]())&&x.$close_open_cell(A)));for(J=!1;l(l(n=J["$!"]())?n:C["$empty?"]()["$!"]());)if(J=!0,l(L=x.$match_delimiter(C))){if(x.$format()["$=="]("csv")){if(l(x["$buffer_has_unclosed_quotes?"](L.$pre_match()))){C=
x.$skip_matched_delimiter(L);continue}}else if(l(L.$pre_match()["$end_with?"]("\\"))){if(l((C=x.$skip_matched_delimiter(L,!0))["$empty?"]())){r=[""+x.$buffer()+a.const_get_relative(y,"EOL")];u(x,"buffer=",a.to_a(r));r[b(r.length,1)];x.$keep_cell_open();break}continue}x.$format()["$=="]("psv")?(p=this.$parse_cellspec(L.$pre_match(),"end"),n=a.to_ary(p),A=null==n[0]?c:n[0],C=null==n[1]?c:n[1],p,x.$push_cellspec(A),r=[""+x.$buffer()+C]):r=[""+x.$buffer()+L.$pre_match()];u(x,"buffer=",a.to_a(r));r[b(r.length,
1)];l((C=L.$post_match())["$empty?"]())&&(J=!1);x.$close_cell()}else r=[""+x.$buffer()+C+a.const_get_relative(y,"EOL")],u(x,"buffer=",a.to_a(r)),r[b(r.length,1)],x.$format()["$=="]("csv")&&(r=[""+x.$buffer().$rstrip()+" "],u(x,"buffer=",a.to_a(r)),r[b(r.length,1)]),C="",l(l(n=x.$format()["$=="]("psv"))?n:(p=x.$format()["$=="]("csv"))?x["$buffer_has_unclosed_quotes?"]():x.$format()["$=="]("csv"))?x.$keep_cell_open():x.$close_cell(!0);l(x["$cell_open?"]())||(D=d.$skip_blank_lines());l(d["$has_more_lines?"]())||
l(x["$cell_open?"]())&&x.$close_cell(!0)}l(l(g=(O=t.$attributes(),l(k=O["$[]"]("colcount"))?k:(r=["colcount",t.$columns().$size()],u(O,"[]=",a.to_a(r)),r[b(r.length,1)]))["$=="](0))?g:z)||t.$assign_column_widths();t.$partition_header_footer(f);return t},Ia.$$arity=3);a.defs(d,"$parse_colspecs",Ja=function(d){var e,f,g=c;l(d["$include?"](" "))&&(d=d.$tr(" ",""));if(d["$=="](d.$to_i().$to_s()))return u(a.const_get_qualified("::","Array"),"new",[d.$to_i()],(e=function(){return n(["width"],{width:1})},
e.$$s=this,e.$$arity=0,e));g=[];u(d.$split(",",-1),"each",[],(f=function(d){var e=f.$$s||this,k,m,p=c,t=c,q=c,r=c,q=c;null==d&&(d=c);return l(d["$empty?"]())?g["$<<"](n(["width"],{width:1})):l(p=a.const_get_relative(y,"ColumnSpecRx").$match(d))?(t=n([],{}),l(p["$[]"](2))&&(d=p["$[]"](2).$split("."),k=a.to_ary(d),q=null==k[0]?c:k[0],r=null==k[1]?c:k[1],d,l(l(k=q["$nil_or_empty?"]()["$!"]())?a.const_get_qualified(a.const_get_relative(y,"Table"),"ALIGNMENTS")["$[]"]("h")["$has_key?"](q):k)&&(q=["halign",
a.const_get_qualified(a.const_get_relative(y,"Table"),"ALIGNMENTS")["$[]"]("h")["$[]"](q)],u(t,"[]=",a.to_a(q)),q[b(q.length,1)]),l(l(k=r["$nil_or_empty?"]()["$!"]())?a.const_get_qualified(a.const_get_relative(y,"Table"),"ALIGNMENTS")["$[]"]("v")["$has_key?"](r):k)&&(q=["valign",a.const_get_qualified(a.const_get_relative(y,"Table"),"ALIGNMENTS")["$[]"]("v")["$[]"](r)],u(t,"[]=",a.to_a(q)),q[b(q.length,1)])),q=["width",l(p["$[]"](3))?p["$[]"](3).$to_i():1],u(t,"[]=",a.to_a(q)),q[b(q.length,1)],l(l(k=
p["$[]"](4))?a.const_get_qualified(a.const_get_relative(y,"Table"),"TEXT_STYLES")["$has_key?"](p["$[]"](4)):k)&&(q=["style",a.const_get_qualified(a.const_get_relative(y,"Table"),"TEXT_STYLES")["$[]"](p["$[]"](4))],u(t,"[]=",a.to_a(q)),q[b(q.length,1)]),l(p["$[]"](1))?u(1,"upto",[p["$[]"](1).$to_i()],(m=function(){return g["$<<"](t.$dup())},m.$$s=e,m.$$arity=0,m)):g["$<<"](t)):c},f.$$s=this,f.$$arity=1,f));return g},Ja.$$arity=1);a.defs(d,"$parse_cellspec",va=function(d,e,f){var g,k=c,m=c,p=c,q=p=
k=c,t=c,q=c;null==e&&(e="start");null==f&&(f=c);k=c;m="";p=e;if("start"["$==="](p))if(l(d["$include?"](f)))if(e=d.$split(f,2),g=a.to_ary(e),k=null==g[0]?c:g[0],m=null==g[1]?c:g[1],e,l(k=a.const_get_relative(y,"CellSpecStartRx").$match(k))){if(l(k["$[]"](0)["$empty?"]()))return[n([],{}),m]}else return[c,d];else return[c,d];else if("end"["$==="](p))if(l(k=a.const_get_relative(y,"CellSpecEndRx").$match(d))){if(l(k["$[]"](0).$lstrip()["$empty?"]()))return[n([],{}),d.$rstrip()];m=k.$pre_match()}else return[n([],
{}),d];p=n([],{});l(k["$[]"](1))&&(e=k["$[]"](1).$split("."),g=a.to_ary(e),q=null==g[0]?c:g[0],t=null==g[1]?c:g[1],e,q=l(q["$nil_or_empty?"]())?1:q.$to_i(),t=l(t["$nil_or_empty?"]())?1:t.$to_i(),k["$[]"](2)["$=="]("+")?(q["$=="](1)||(q=["colspan",q],u(p,"[]=",a.to_a(q)),q[b(q.length,1)]),t["$=="](1)||(q=["rowspan",t],u(p,"[]=",a.to_a(q)),q[b(q.length,1)])):k["$[]"](2)["$=="]("*")&&!q["$=="](1)&&(q=["repeatcol",q],u(p,"[]=",a.to_a(q)),q[b(q.length,1)]));l(k["$[]"](3))&&(e=k["$[]"](3).$split("."),g=
a.to_ary(e),q=null==g[0]?c:g[0],t=null==g[1]?c:g[1],e,l(l(g=q["$nil_or_empty?"]()["$!"]())?a.const_get_qualified(a.const_get_relative(y,"Table"),"ALIGNMENTS")["$[]"]("h")["$has_key?"](q):g)&&(q=["halign",a.const_get_qualified(a.const_get_relative(y,"Table"),"ALIGNMENTS")["$[]"]("h")["$[]"](q)],u(p,"[]=",a.to_a(q)),q[b(q.length,1)]),l(l(g=t["$nil_or_empty?"]()["$!"]())?a.const_get_qualified(a.const_get_relative(y,"Table"),"ALIGNMENTS")["$[]"]("v")["$has_key?"](t):g)&&(q=["valign",a.const_get_qualified(a.const_get_relative(y,
"Table"),"ALIGNMENTS")["$[]"]("v")["$[]"](t)],u(p,"[]=",a.to_a(q)),q[b(q.length,1)]));l(l(g=k["$[]"](4))?a.const_get_qualified(a.const_get_relative(y,"Table"),"TEXT_STYLES")["$has_key?"](k["$[]"](4)):g)&&(q=["style",a.const_get_qualified(a.const_get_relative(y,"Table"),"TEXT_STYLES")["$[]"](k["$[]"](4))],u(p,"[]=",a.to_a(q)),q[b(q.length,1)]);return[p,m]},va.$$arity=-2);a.defs(d,"$parse_style_attribute",Ka=function(d,e){var f,g,k,p,t,r=c,z=c,x=c,D=c,G=c,F=c,C=z=c,B=c,H=c;null==e&&(e=c);r=d["$[]"]("style");
z=d["$[]"](1);if(l(l(f=l(g=z)?z["$include?"](" ")["$!"]():g)?a.const_get_relative(y,"Compliance").$shorthand_property_syntax():f))return x="style",D=[],G=n([],{}),F=u(this,"lambda",[],(k=function(){var d=k.$$s||this,f,g=c,m=c;if(l(D["$empty?"]()))return l(x["$!="]("style"))?d.$warn("asciidoctor: WARNING:"+(l(e["$nil?"]())?c:" "+e.$prev_line_info()+":")+" invalid empty "+x+" detected in style attribute"):c;g=x;"role"["$==="](g)||"option"["$==="](g)?(l(f=G["$[]"](x))?f:(m=[x,[]],u(G,"[]=",a.to_a(m)),
m[b(m.length,1)]),G["$[]"](x).$push(D.$join())):("id"["$==="](g)&&l(G["$has_key?"]("id"))&&d.$warn("asciidoctor: WARNING:"+(l(e["$nil?"]())?c:" "+e.$prev_line_info()+":")+" multiple ids detected in style attribute"),m=[x,D.$join()],u(G,"[]=",a.to_a(m)),m[b(m.length,1)]);return D=[]},k.$$s=this,k.$$arity=0,k)),u(z,"each_char",[],(p=function(a){var b,d,e=c;null==a&&(a=c);return l(l(b=l(d=a["$=="]("."))?d:a["$=="]("#"))?b:a["$=="]("%"))?(F.$call(),e=a,"."["$==="](e)?x="role":"#"["$==="](e)?x="id":"%"["$==="](e)?
x="option":c):D.$push(a)},p.$$s=this,p.$$arity=1,p)),x["$=="]("style")?z=(C=["style",z],u(d,"[]=",a.to_a(C)),C[b(C.length,1)]):(F.$call(),z=l(G["$has_key?"]("style"))?(C=["style",G["$[]"]("style")],u(d,"[]=",a.to_a(C)),C[b(C.length,1)]):c,l(G["$has_key?"]("id"))&&(C=["id",G["$[]"]("id")],u(d,"[]=",a.to_a(C)),C[b(C.length,1)]),l(G["$has_key?"]("role"))&&(C=["role",q(G["$[]"]("role")," ")],u(d,"[]=",a.to_a(C)),C[b(C.length,1)]),l(G["$has_key?"]("option"))&&(u(B=G["$[]"]("option"),"each",[],(t=function(e){null==
e&&(e=c);C=[""+e+"-option",""];u(d,"[]=",a.to_a(C));return C[b(C.length,1)]},t.$$s=this,t.$$arity=1,t)),C=l(H=d["$[]"]("options"))?["options",q(m(B,H.$split(",")),",")]:["options",q(B,",")],u(d,"[]=",a.to_a(C)),C[b(C.length,1)])),[z,r];C=["style",z];u(d,"[]=",a.to_a(C));C[b(C.length,1)];return[z,r]},Ka.$$arity=-2);a.defs(d,"$adjust_indentation!",Na=function(d,e,f){var g,k,n,t,r,z,x=this,D=c,C=c,B=c;null==e&&(e=0);null==f&&(f=0);if(l(d["$empty?"]()))return c;l(l(g=p(f=f.$to_i(),0))?d.$join()["$include?"](a.const_get_relative(y,
"TAB")):g)&&(D=q(" ",f),u(d,"map!",[],(k=function(d){var e=k.$$s||this,g,n,p=c;null==d&&(d=c);if(l(d["$empty?"]()))return d;l(d["$start_with?"](a.const_get_relative(y,"TAB")))&&(d=u(d,"sub",[a.const_get_relative(y,"TabIndentRx")],(g=function(a){null==a&&(a=c);return q(D,a.$length())},g.$$s=e,g.$$arity=1,g)));return l(d["$include?"](a.const_get_relative(y,"TAB")))?(p=0,d=u(d,"gsub",[a.const_get_relative(y,"TabRx")],(n=function(){var a=c,d=c;null==G["~"]&&(G["~"]=c);if((a=m(G["~"].$begin(0),p))["$%"](f)["$=="](0))return p=
m(p,b(f,1)),D;(d=b(f,a["$%"](f)))["$=="](1)||(p=m(p,b(d,1)));return q(" ",d)},n.$$s=e,n.$$arity=0,n))):d},k.$$s=x,k.$$arity=1,k)));if(!l(l(g=e)?p(e=e.$to_i(),-1):g))return c;C=c;(function(){var e=a.new_brk();try{return u(d,"each",[],(n=function(d){var f,g=c;null==d&&(d=c);if(l(d["$empty?"]()))return c;if((g=b(d.$length(),d.$lstrip().$length()))["$=="](0))C=c,a.brk(c,e);else return l(l(f=C)?p(g,C):f)?c:C=g},n.$$s=x,n.$$brk=e,n.$$arity=1,n))}catch(f){if(f===e)return f.$v;throw f;}})();e["$=="](0)?l(C)&&
u(d,"map!",[],(t=function(b){null==b&&(b=c);return l(b["$empty?"]())?b:b["$[]"](a.Range.$new(C,-1,!1))},t.$$s=x,t.$$arity=1,t)):(B=q(" ",e),l(C)?u(d,"map!",[],(r=function(b){null==b&&(b=c);return l(b["$empty?"]())?b:m(B,b["$[]"](a.Range.$new(C,-1,!1)))},r.$$s=x,r.$$arity=1,r)):u(d,"map!",[],(z=function(a){null==a&&(a=c);return l(a["$empty?"]())?a:m(B,a)},z.$$s=x,z.$$arity=1,z)));return c},Na.$$arity=-2);a.defs(d,"$sanitize_attribute_name",Ma=function(b){return b.$gsub(a.const_get_relative(y,"InvalidAttributeNameCharsRx"),
"").$downcase()},Ma.$$arity=1);return a.defs(d,"$roman_numeral_to_int",La=function(d){var e,f=c,g=c;d=d.$downcase();f=n(["i","v","x"],{i:1,v:5,x:10});g=0;u(a.Range.$new(0,b(d.$length(),1),!1),"each",[],(e=function(e){var n,q=c;null==e&&(e=c);q=f["$[]"](d["$[]"](a.Range.$new(e,e,!1)));return l(l(n=k(m(e,1),d.$length()))?p(f["$[]"](d["$[]"](a.Range.$new(m(e,1),m(e,1),!1))),q):n)?g=b(g,q):g=m(g,q)},e.$$s=this,e.$$arity=1,e));return g},La.$$arity=1)})(C[0],null,C)}(g[0],g)};Opal.modules["asciidoctor/path_resolver"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var m=[],p=a.nil,q=a.module,f=a.klass,e=a.truthy,k=a.hash2,g=a.range,c=a.send;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $- $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $chomp $uri_prefix $<< $+".split(" "));return function(d,
m){var r=[q(d,"Asciidoctor")].concat(m);(function(d,$super,m){function q(){}d=q=f(d,$super,"PathResolver",q);var r=d.$$proto,t=[d].concat(m),u,v,w,x,y,D,B,A,W,N,P;r.file_separator=r._partition_path_web=r._partition_path_sys=r.working_dir=p;a.const_set(t[0],"DOT",".");a.const_set(t[0],"DOT_DOT","..");a.const_set(t[0],"DOT_SLASH","./");a.const_set(t[0],"SLASH","/");a.const_set(t[0],"BACKSLASH","\\");a.const_set(t[0],"DOUBLE_SLASH","//");a.const_set(t[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);d.$attr_accessor("file_separator");
d.$attr_accessor("working_dir");a.defn(d,"$initialize",u=function(b,c){var d;null==b&&(b=p);null==c&&(c=p);this.file_separator=e(b)?b:e(d=a.const_get_qualified(a.const_get_qualified("::","File"),"ALT_SEPARATOR"))?d:a.const_get_qualified(a.const_get_qualified("::","File"),"SEPARATOR");e(c)?this.working_dir=e(this["$is_root?"](c))?c:a.const_get_qualified("::","File").$expand_path(c):this.working_dir=a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","Dir").$pwd());this._partition_path_sys=
k([],{});return this._partition_path_web=k([],{})},u.$$arity=-1);a.defn(d,"$is_root?",v=function(b){var c,d;return e(b["$start_with?"](a.const_get_relative(t,"SLASH")))?!0:e(this.file_separator["$=="](a.const_get_relative(t,"BACKSLASH"))?a.const_get_relative(t,"WindowsRootRx")["$=~"](b):this.file_separator["$=="](a.const_get_relative(t,"BACKSLASH")))?!0:e(e(c=e(d=a.const_get_qualified("::","RUBY_ENGINE_OPAL"))?a.const_get_qualified("::","JAVASCRIPT_PLATFORM")["$=="]("browser"):d)?b["$start_with?"]("file://"):
c)?!0:!1},v.$$arity=1);a.defn(d,"$is_unc?",w=function(b){return b["$start_with?"](a.const_get_relative(t,"DOUBLE_SLASH"))},w.$$arity=1);a.defn(d,"$is_web_root?",x=function(b){return b["$start_with?"](a.const_get_relative(t,"SLASH"))},x.$$arity=1);a.defn(d,"$posixfy",y=function(b){return e(b["$nil_or_empty?"]())?"":e(b["$include?"](a.const_get_relative(t,"BACKSLASH")))?b.$tr(a.const_get_relative(t,"BACKSLASH"),a.const_get_relative(t,"SLASH")):b},y.$$arity=1);a.defn(d,"$expand_path",D=function(b){var c,
d=p;c=p;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?p:c[0];c=null==c[1]?p:c[1];b;return this.$join_path(d,c)},D.$$arity=1);a.defn(d,"$partition_path",B=function(b,d){var f=p,h=f=p,k=p,h=p;null==d&&(d=!1);if(e(f=e(d)?this._partition_path_web["$[]"](b):this._partition_path_sys["$[]"](b)))return f;f=this.$posixfy(b);h=e(d)?e(this["$is_web_root?"](f))?a.const_get_relative(t,"SLASH"):e(f["$start_with?"](a.const_get_relative(t,"DOT_SLASH")))?a.const_get_relative(t,"DOT_SLASH"):p:e(this["$is_root?"](f))?
e(this["$is_unc?"](f))?a.const_get_relative(t,"DOUBLE_SLASH"):e(f["$start_with?"](a.const_get_relative(t,"SLASH")))?a.const_get_relative(t,"SLASH"):f["$[]"](a.Range.$new(0,f.$index(a.const_get_relative(t,"SLASH")),!1)):e(f["$start_with?"](a.const_get_relative(t,"DOT_SLASH")))?a.const_get_relative(t,"DOT_SLASH"):p;k=f.$split(a.const_get_relative(t,"SLASH"));h["$=="](a.const_get_relative(t,"DOUBLE_SLASH"))?k=k["$[]"](g(2,-1,!1)):e(h)&&k.$shift();k.$delete(a.const_get_relative(t,"DOT"));h=[b,[k,h,f]];
c(e(d)?this._partition_path_web:this._partition_path_sys,"[]=",a.to_a(h));f=h;h=h.length;h="number"===typeof h?h-1:h["$-"](1);return f[h]},B.$$arity=-2);a.defn(d,"$join_path",A=function(c,d){null==d&&(d=p);return e(d)?""+d+b(c,a.const_get_relative(t,"SLASH")):b(c,a.const_get_relative(t,"SLASH"))},A.$$arity=-2);a.defn(d,"$system_path",W=function(b,d,f,g){var h,l,m,q=p,r=p,u=l=p,v=p,w=p,x=v=p,y=p;null==f&&(f=p);null==g&&(g=k([],{}));e(f)&&(e(this["$is_root?"](f))||this.$raise(a.const_get_qualified("::",
"SecurityError"),"Jail is not an absolute path: "+f),f=this.$posixfy(f));e(b["$nil_or_empty?"]())?q=[]:(l=this.$partition_path(b),h=a.to_ary(l),q=null==h[0]?p:h[0],r=null==h[1]?p:h[1],l);if(e(q["$empty?"]())){if(e(d["$nil_or_empty?"]()))return e(f)?f:this.working_dir;if(e(this["$is_root?"](d))){if(!e(f))return this.$expand_path(d)}else return this.$system_path(d,f,f,g)}if(e(e(h=r)?r["$!="](a.const_get_relative(t,"DOT_SLASH")):h)&&(l=this.$join_path(q,r),e(e(h=f["$!"]())?h:l["$start_with?"](f))))return l;
d=e(d["$nil_or_empty?"]())?e(f)?f:this.working_dir:e(this["$is_root?"](d))?this.$posixfy(d):this.$system_path(d,f,f,g);f["$=="](d)?(l=this.$partition_path(f),h=a.to_ary(l),u=null==h[0]?p:h[0],v=null==h[1]?p:h[1],l,w=u.$dup()):(e(f)?(e(d["$start_with?"](f))||this.$raise(a.const_get_qualified("::","SecurityError"),""+(e(h=g["$[]"]("target_name"))?h:"Start path")+" "+d+" is outside of jail: "+f+" (disallowed in safe mode)"),l=this.$partition_path(d),h=a.to_ary(l),w=null==h[0]?p:h[0],v=null==h[1]?p:h[1],
l,l=this.$partition_path(f),h=a.to_ary(l),u=null==h[0]?p:h[0]):(l=this.$partition_path(d),h=a.to_ary(l),w=null==h[0]?p:h[0]),v=null==h[1]?p:h[1],l);x=w.$dup();y=!1;c(q,"each",[],(m=function(c){var d=m.$$s||this,h;null==c&&(c=p);if(c["$=="](a.const_get_relative(t,"DOT_DOT"))){if(e(f)){c=x.$length();var k=u.$length();c="number"===typeof c&&"number"===typeof k?c>k:c["$>"](k);return e(c)?x.$pop():e((e(h=p)?h:g.$fetch("recover",!0))["$!"]())?d.$raise(a.const_get_qualified("::","SecurityError"),""+(e(h=
g["$[]"]("target_name"))?h:"path")+" "+b+" refers to location outside jail: "+f+" (disallowed in safe mode)"):e(y["$!"]())?(d.$warn("asciidoctor: WARNING: "+(e(h=g["$[]"]("target_name"))?h:"path")+" has illegal reference to ancestor of jail, auto-recovering"),y=!0):p}return x.$pop()}return x.$push(c)},m.$$s=this,m.$$arity=1,m));return this.$join_path(x,v)},W.$$arity=-3);a.defn(d,"$web_path",N=function(b,d){var f,g,h,k=p,l=p,m=p,q=p;null==d&&(d=p);b=this.$posixfy(b);d=this.$posixfy(d);k=p;e(e(f=d["$nil_or_empty?"]())?
f:this["$is_web_root?"](b))||(b=""+d.$chomp("/")+a.const_get_relative(t,"SLASH")+b,e(k=a.const_get_relative(t,"Helpers").$uri_prefix(b))&&(b=b["$[]"](a.Range.$new(k.$length(),-1,!1))));g=this.$partition_path(b,!0);f=a.to_ary(g);l=null==f[0]?p:f[0];m=null==f[1]?p:f[1];g;q=[];c(l,"each",[],(h=function(b){var c;null==b&&(b=p);return b["$=="](a.const_get_relative(t,"DOT_DOT"))?e(q["$empty?"]())?e(e(c=m)?m["$!="](a.const_get_relative(t,"DOT_SLASH")):c)?p:q["$<<"](b):q["$[]"](-1)["$=="](a.const_get_relative(t,
"DOT_DOT"))?q["$<<"](b):q.$pop():q["$<<"](b)},h.$$s=this,h.$$arity=1,h));return e(k)?""+k+this.$join_path(q,m):this.$join_path(q,m)},N.$$arity=-2);return(a.defn(d,"$relative_path",P=function(b,c){var d,f=p;return e(e(d=this["$is_root?"](b))?this["$is_root?"](c):d)?(d=c.$chomp(this.file_separator).$length(),f="number"===typeof d?d+1:d["$+"](1),b["$[]"](a.Range.$new(f,-1,!1))):b},P.$$arity=2),p)&&"relative_path"})(r[0],null,r)}(m[0],m)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,c){return"number"===
typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var e=[],k=a.nil,g=a.module,c=a.klass,d=a.truthy,r=a.hash2,u=a.range,l=a.send;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $none? $any? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(e,x){var y=[g(e,"Asciidoctor")].concat(x);(function(e,$super,f){function g(){}e=g=c(e,$super,"Reader",g);var n=e.$$proto,x=[e].concat(f),y,B,A,Q,W,N,P,S,O,H,L,T,da,ha,na,J,fa,ja,Y,V,ea,sa,pa,ua,ga,ka,oa,ra,R;n.file=n.dir=n.lines=n.process_lines=n.look_ahead=n.eof=n.unescape_next_line=n.lineno=n.path=n.source_lines=k;(function(b,$super,d){function e(){}b=e=c(b,$super,"Cursor",e);[b].concat(d);var f,g;b.$attr_accessor("file");b.$attr_accessor("dir");b.$attr_accessor("path");b.$attr_accessor("lineno");
a.defn(b,"$initialize",f=function(a,b,c,d){null==b&&(b=k);null==c&&(c=k);null==d&&(d=k);this.file=a;this.dir=b;this.path=c;return this.lineno=d},f.$$arity=-2);a.defn(b,"$line_info",g=function(){return""+this.$path()+": line "+this.$lineno()},g.$$arity=0);return a.alias(b,"to_s","line_info")})(x[0],null,x);e.$attr_reader("file");e.$attr_reader("dir");e.$attr_reader("path");e.$attr_reader("lineno");e.$attr_reader("source_lines");e.$attr_accessor("process_lines");a.defn(e,"$initialize",y=function(b,
c,e){var f;null==b&&(b=k);null==c&&(c=k);null==e&&(e=r(["normalize"],{normalize:!1}));d(c["$!"]())?(this.file=this.dir=k,this.path="<stdin>",this.lineno=1):d(a.const_get_qualified("::","String")["$==="](c))?(this.file=c,c=a.const_get_qualified("::","File").$split(this.file),f=a.to_ary(c),this.dir=null==f[0]?k:f[0],this.path=null==f[1]?k:f[1],c,this.lineno=1):(this.file=c.$file(),this.dir=c.$dir(),this.path=d(f=c.$path())?f:"<stdin>",d(this.file)&&(d(this.dir)||(this.dir=a.const_get_qualified("::",
"File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=k)),d(c.$path())||(this.path=a.const_get_qualified("::","File").$basename(this.file))),this.lineno=d(f=c.$lineno())?f:1);this.lines=d(b)?this.$prepare_lines(b,e):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1},y.$$arity=-1);a.defn(e,"$prepare_lines",B=function(b,c){null==c&&(c=r([],{}));return d(a.const_get_qualified("::","String")["$==="](b))?
d(c["$[]"]("normalize"))?a.const_get_relative(x,"Helpers").$normalize_lines_from_string(b):b.$split(a.const_get_relative(x,"EOL")):d(c["$[]"]("normalize"))?a.const_get_relative(x,"Helpers").$normalize_lines_array(b):b.$dup()},B.$$arity=-2);a.defn(e,"$process_line",A=function(a){d(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},A.$$arity=1);a.defn(e,"$has_more_lines?",Q=function(){var a;return(d(a=this.eof)?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()},Q.$$arity=0);a.defn(e,
"$next_line_empty?",W=function(){return this.$peek_line()["$nil_or_empty?"]()},W.$$arity=0);a.defn(e,"$peek_line",N=function(a){var b,c=k;null==a&&(a=!1);return d(d(b=a)?b:m(this.look_ahead,0))?d(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](u(1,-1,!1)):this.lines["$[]"](0):d(d(b=this.eof)?b:this.lines["$empty?"]())?(this.eof=!0,this.look_ahead=0,k):d((c=this.$process_line(this.lines["$[]"](0)))["$!"]())?this.$peek_line():c},N.$$arity=-1);a.defn(e,"$peek_lines",P=function(b,c){var e,f,g=this,
h=k,m=k;null==b&&(b=1);null==c&&(c=!0);h=g.look_ahead;m=[];(function(){var f=a.new_brk();try{return l(b,"times",[],(e=function(){var b=k;if(d(b=(e.$$s||this).$read_line(c)))return m["$<<"](b);a.brk(k,f)},e.$$s=g,e.$$brk=f,e.$$arity=0,e))}catch(h){if(h===f)return h.$v;throw h;}})();d(m["$empty?"]())||(l(m,"reverse_each",[],(f=function(a){var b=f.$$s||this;null==a&&(a=k);return b.$unshift(a)},f.$$s=g,f.$$arity=1,f)),d(c)&&(g.look_ahead=h));return m},P.$$arity=-1);a.defn(e,"$read_line",S=function(a){var b,
c;null==a&&(a=!1);return d(d(b=d(c=a)?c:m(this.look_ahead,0))?b:this["$has_more_lines?"]())?this.$shift():k},S.$$arity=-1);a.defn(e,"$read_lines",O=function(){for(var a=k,a=[];d(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},O.$$arity=0);a.alias(e,"readlines","read_lines");a.defn(e,"$read",H=function(){return p(this.$read_lines(),a.const_get_relative(x,"EOL"))},H.$$arity=0);a.defn(e,"$advance",L=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()},L.$$arity=-1);a.defn(e,
"$unshift_line",T=function(a){this.$unshift(a);return k},T.$$arity=1);a.alias(e,"restore_line","unshift_line");a.defn(e,"$unshift_lines",da=function(a){var b;l(a,"reverse_each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=k);return c.$unshift(a)},b.$$s=this,b.$$arity=1,b));return k},da.$$arity=1);a.alias(e,"restore_lines","unshift_lines");a.defn(e,"$replace_next_line",ha=function(a){this.$advance();this.$unshift(a);return k},ha.$$arity=1);a.alias(e,"replace_line","replace_next_line");a.defn(e,
"$skip_blank_lines",na=function(){var a=k,c=k;if(d(this["$eof?"]()))return 0;for(a=0;d(c=this.$peek_line());)if(d(c["$empty?"]()))this.$advance(),a=b(a,1);else break;return a},na.$$arity=0);a.defn(e,"$skip_comment_lines",J=function(b){var c,e=k,f=k,g=k,h=k,m=k;null==b&&(b=r([],{}));if(d(this["$eof?"]()))return[];e=[];for(f=b["$[]"]("include_blank_lines");d(g=this.$peek_line());)if(d(d(c=f)?g["$empty?"]():c))e["$<<"](this.$shift());else if(d(d(c=h=g["$start_with?"]("//"))?m=a.const_get_relative(x,
"CommentBlockRx").$match(g):c))e["$<<"](this.$shift()),l(e,"push",a.to_a(this.$read_lines_until(r(["terminator","read_last_line","skip_processing"],{terminator:m["$[]"](0),read_last_line:!0,skip_processing:!0}))));else if(d(d(c=h)?a.const_get_relative(x,"CommentLineRx")["$=~"](g):c))e["$<<"](this.$shift());else break;return e},J.$$arity=-1);a.defn(e,"$skip_line_comments",fa=function(){var b=k,c=k;if(d(this["$eof?"]()))return[];for(b=[];d(c=this.$peek_line());)if(d(a.const_get_relative(x,"CommentLineRx")["$=~"](c)))b["$<<"](this.$shift());
else break;return b},fa.$$arity=0);a.defn(e,"$terminate",ja=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return k},ja.$$arity=0);a.defn(e,"$eof?",Y=function(){return this["$has_more_lines?"]()["$!"]()},Y.$$arity=0);a.alias(e,"empty?","eof?");a.defn(e,"$read_lines_until",V=function(b){var c,e,f,g,h=V.$$p,m=h||k,n=k,p=k,u=k,w=k,y=k,C=k,B=k,G=k,F=k,A=k,H=k;null==b&&(b=r([],{}));h&&(V.$$p=null);n=[];d(b["$[]"]("skip_first_line"))&&this.$advance();
d(d(c=this.process_lines)?b["$[]"]("skip_processing"):c)?(this.process_lines=!1,p=!0):p=!1;d(u=b["$[]"]("terminator"))?y=w=!1:(w=b["$[]"]("break_on_blank_lines"),y=b["$[]"]("break_on_list_continuation"));C=b["$[]"]("skip_line_comments");for(F=G=B=!1;d(d(e=F["$!"]())?A=this.$read_line():e);)F=function(){for(;d(!0);)return d(d(f=u)?A["$=="](u):f)||d(d(f=w)?A["$empty?"]():f)?!0:d(d(f=d(g=y)?B:g)?A["$=="](a.const_get_relative(x,"LIST_CONTINUATION")):f)?(H=["preserve_last_line",!0],l(b,"[]=",a.to_a(H)),
H[q(H.length,1)],!0):d((f=m!==k)?a.yield1(m,A):m!==k)?!0:!1;return k}(),d(F)?(d(b["$[]"]("read_last_line"))&&(n["$<<"](A),B=!0),d(b["$[]"]("preserve_last_line"))&&(this.$unshift(A),G=!0)):d(d(e=d(f=C)?A["$start_with?"]("//"):f)?a.const_get_relative(x,"CommentLineRx")["$=~"](A):e)||(n["$<<"](A),B=!0);d(p)&&(this.process_lines=!0,d(d(c=G)?u["$!"]():c)&&(this.look_ahead=q(this.look_ahead,1)));return n},V.$$arity=-1);a.defn(e,"$shift",ea=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||
(this.look_ahead=q(this.look_ahead,1));return this.lines.$shift()},ea.$$arity=0);a.defn(e,"$unshift",sa=function(a){this.lineno=q(this.lineno,1);this.look_ahead=b(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)},sa.$$arity=1);a.defn(e,"$cursor",pa=function(){return a.const_get_relative(x,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},pa.$$arity=0);a.defn(e,"$line_info",ua=function(){return""+this.path+": line "+this.lineno},ua.$$arity=0);a.alias(e,"next_line_info","line_info");
a.defn(e,"$prev_line_info",ga=function(){return""+this.path+": line "+q(this.lineno,1)},ga.$$arity=0);a.defn(e,"$lines",ka=function(){return this.lines.$dup()},ka.$$arity=0);a.defn(e,"$string",oa=function(){return p(this.lines,a.const_get_relative(x,"EOL"))},oa.$$arity=0);a.defn(e,"$source",ra=function(){return p(this.source_lines,a.const_get_relative(x,"EOL"))},ra.$$arity=0);return(a.defn(e,"$to_s",R=function(){return this.$line_info()},R.$$arity=0),k)&&"to_s"})(y[0],null,y);(function(e,$super,g){function n(){}
e=n=c(e,$super,"PreprocessorReader",n);var x=e.$$proto,y=[e].concat(g),B,A,M,Q,W,N,P,S,O,H,L,T,da,ha,na;x.document=x.lineno=x.process_lines=x.look_ahead=x.skipping=x.include_stack=x.conditional_stack=x.path=x.include_processor_extensions=x.maxdepth=x.dir=x.lines=x.file=x.includes=x.unescape_next_line=k;e.$attr_reader("include_stack");e.$attr_reader("includes");a.defn(e,"$initialize",B=function(b,c,e){var f,g=B.$$p,h=k,m=k,n=k;null==c&&(c=k);null==e&&(e=k);g&&(B.$$p=null);this.document=b;l(this,a.find_super_dispatcher(this,
"initialize",B,!1),[c,e,r(["normalize"],{normalize:!0})],null);h=b.$attributes().$fetch("max-include-depth",64).$to_i();d("number"===typeof h?0>h:h["$<"](0))&&(h=0);this.maxdepth=r(["abs","rel"],{abs:h,rel:h});this.include_stack=[];this.includes=(m=b.$references(),d(f=m["$[]"]("includes"))?f:(n=["includes",[]],l(m,"[]=",a.to_a(n)),n[q(n.length,1)]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=k},B.$$arity=-2);a.defn(e,"$prepare_lines",A=function(c,e){var f,
g,m=A.$$p,n=k,u=k,w=k,x=k,C=k,B=w=n=k;null==e&&(e=r([],{}));m&&(A.$$p=null);w=0;B=arguments.length;for(n=Array(B);w<B;w++)n[w]=arguments[w];n=l(this,a.find_super_dispatcher(this,"prepare_lines",A,!1),n,m);d(d(f=this.document)?this.document.$attributes()["$has_key?"]("skip-front-matter"):f)&&d(u=this["$skip_front_matter!"](n))&&(w=["front-matter",p(u,a.const_get_relative(y,"EOL"))],l(this.document.$attributes(),"[]=",a.to_a(w)),w[q(w.length,1)]);if(d(e.$fetch("condense",!0))){for(;d(d(g=x=n["$[]"](0))?
x["$empty?"]():g);)d(g=n.$shift())?this.lineno=b(this.lineno,1):g;for(;d(d(g=C=n["$[]"](-1))?C["$empty?"]():g);)n.$pop()}if(d(e["$[]"]("indent")))a.const_get_relative(y,"Parser")["$adjust_indentation!"](n,e["$[]"]("indent"),this.document.$attr("tabsize"));return n},A.$$arity=-2);a.defn(e,"$process_line",M=function(c){var e,f,g=k,m=k;if(!d(this.process_lines))return c;if(d(c["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),"";if(d(d(e=d(f=c["$end_with?"]("]"))?c["$start_with?"]("[")["$!"]():
f)?c["$include?"]("::"):e)){if(d(d(e=c["$include?"]("if"))?g=a.const_get_relative(y,"ConditionalDirectiveRx").$match(c):e)){if(d(c["$start_with?"]("\\")))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),c["$[]"](u(1,-1,!1));if(d(l(this,"preprocess_conditional_inclusion",a.to_a(g.$captures()))))return this.$advance(),k;this.look_ahead=b(this.look_ahead,1);return c}if(d(this.skipping))return this.$advance(),k;if(d(d(e=d(f=m=c["$start_with?"]("\\include::"))?f:c["$start_with?"]("include::"))?
g=a.const_get_relative(y,"IncludeDirectiveRx").$match(c):e)){if(d(m))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),c["$[]"](u(1,-1,!1));if(d(this.$preprocess_include(g["$[]"](1),g["$[]"](2).$strip())))return k;this.look_ahead=b(this.look_ahead,1);return c}this.look_ahead=b(this.look_ahead,1);return c}if(d(this.skipping))return this.$advance(),k;this.look_ahead=b(this.look_ahead,1);return c},M.$$arity=1);a.defn(e,"$peek_line",Q=function(b){var c=Q.$$p,e=k,f=e=k,g=k;null==b&&
(b=!1);c&&(Q.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];if(d(e=l(this,a.find_super_dispatcher(this,"peek_line",Q,!1),e,c)))return e;if(d(this.include_stack["$empty?"]()))return k;this.$pop_include();return this.$peek_line(b)},Q.$$arity=-1);a.defn(e,"$preprocess_conditional_inclusion",W=function(b,c,e,f){var g,h,n,p,q,u,v,x=k,C=x=k,B=k,z=B=C=x=k,C=k;if(d(d(g=d(h=d(n=b["$=="]("ifdef"))?n:b["$=="]("ifndef"))?c["$empty?"]():h)?g:(h=b["$=="]("endif"))?f:b["$=="]("endif")))return!1;
c=c.$downcase();if(b["$=="]("endif"))return x=this.conditional_stack.$size(),d(m(x,0))?(x=this.conditional_stack["$[]"](-1),d(d(g=c["$empty?"]())?g:c["$=="](x["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=d(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+c+"[], expected endif::"+x["$[]"]("target")+"[]")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+
": unmatched macro: endif::"+c+"[]"),!0;C=!1;if(!d(this.skipping))if(B=b,"ifdef"["$==="](B))B=e,k["$==="](B)?C=this.document.$attributes()["$has_key?"](c)["$!"]():","["$==="](B)?C=l(c.$split(","),"none?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$has_key?"](a)},p.$$s=this,p.$$arity=1,p)):"+"["$==="](B)&&(C=l(c.$split("+"),"any?",[],(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$has_key?"](a)["$!"]()},
q.$$s=this,q.$$arity=1,q)));else if("ifndef"["$==="](B))B=e,k["$==="](B)?C=this.document.$attributes()["$has_key?"](c):","["$==="](B)?C=l(c.$split(","),"none?",[],(u=function(a){var b=u.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$has_key?"](a)["$!"]()},u.$$s=this,u.$$arity=1,u)):"+"["$==="](B)&&(C=l(c.$split("+"),"any?",[],(v=function(a){var b=v.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return b.document.$attributes()["$has_key?"](a)},
v.$$s=this,v.$$arity=1,v)));else if("ifeval"["$==="](B)){if(d(d(g=c["$empty?"]()["$!"]())?g:(x=a.const_get_relative(y,"EvalExpressionRx").$match(f.$strip()))["$!"]()))return!1;C=this.$resolve_expr_val(x["$[]"](1));B=this.$resolve_expr_val(x["$[]"](3));C=(z=x["$[]"](2))["$=="]("!=")?C.$send("==",B):C.$send(z.$to_sym(),B)["$!"]()}d(d(g=b["$=="]("ifeval"))?g:f["$!"]())?(d(C)&&(this.skipping=!0),this.conditional_stack["$<<"](r(["target","skip","skipping"],{target:c,skip:C,skipping:this.skipping}))):d(d(g=
this.skipping)?g:C)||(C=this.$peek_line(!0),this.$replace_next_line(f.$rstrip()),this.$unshift(C));return!0},W.$$arity=4);a.defn(e,"$preprocess_include",N=function(c,e){var g,n,u,x,C,B,G,A=this,H=k,L=k,O=k,Q=O=k,z=k,P=k,K=k,N=k,M=k,W=k,T=k,S=k,ba=k,da=k,aa=k;if(d((H=A.document.$sub_attributes(c,r(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]()))return A.$advance(),A.document.$attributes().$fetch("attribute-missing",a.const_get_relative(y,"Compliance").$attribute_missing())["$=="]("skip")&&
A.$unshift("Unresolved directive in "+A.path+" - include::"+c+"["+e+"]"),!0;if(d(d(g=A["$include_processors?"]())?L=l(A.include_processor_extensions,"find",[],(n=function(a){null==a&&(a=k);return a.$instance()["$handles?"](H)},n.$$s=A,n.$$arity=1,n)):g))return A.$advance(),L.$process_method()["$[]"](A.document,A,H,a.const_get_relative(y,"AttributeList").$new(e).$parse()),!0;if(d(f(A.document.$safe(),a.const_get_qualified(a.const_get_relative(y,"SafeMode"),"SECURE"))))return A.$replace_next_line("link:"+
H+"[]"),!0;if(d(m(O=A.maxdepth["$[]"]("abs"),0))){if(d(f(A.include_stack.$size(),O)))return A.$warn("asciidoctor: ERROR: "+A.$line_info()+": maximum include depth of "+A.maxdepth["$[]"]("rel")+" exceeded"),!1;if(d(a.const_get_qualified("::","RUBY_ENGINE_OPAL")))O="file",Q=z=d(A.include_stack["$empty?"]())?a.const_get_qualified("::","Dir").$pwd()["$=="](A.document.$base_dir())?H:a.const_get_qualified("::","File").$join(A.dir,H):a.const_get_qualified("::","File").$join(A.dir,H);else if(d(a.const_get_relative(y,
"Helpers")["$uriish?"](H))){if(!d(A.document.$attributes()["$has_key?"]("allow-uri-read")))return A.$replace_next_line("link:"+H+"[]"),!0;O="uri";Q=z=H;d(A.document.$attributes()["$has_key?"]("cache-uri"))?d((u=a.const_get_qualified("::","OpenURI","skip_raise"))&&(g=a.const_get_qualified(u,"Cache","skip_raise"))?"constant":k)||a.const_get_relative(y,"Helpers").$require_library("open-uri/cached","open-uri-cached"):d(a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&a.const_get_qualified("::",
"OpenURI")}else{O="file";Q=A.document.$normalize_system_path(H,A.dir,k,r(["target_name"],{target_name:"include file"}));if(!d(a.const_get_qualified("::","File")["$file?"](Q)))return A.$warn("asciidoctor: WARNING: "+A.$line_info()+": include file not found: "+Q),A.$replace_next_line("Unresolved directive in "+A.path+" - include::"+H+"["+e+"]"),!0;z=a.const_get_relative(y,"PathResolver").$new().$relative_path(Q,A.document.$base_dir())}K=P=k;N=r([],{});d(e["$empty?"]()["$!"]())&&(N=a.const_get_relative(y,
"AttributeList").$new(e).$parse(),d(N["$has_key?"]("lines"))?(P=[],l(N["$[]"]("lines").$split(a.const_get_relative(y,"DataDelimiterRx")),"each",[],(x=function(b){var c,e=k;c=k;null==b&&(b=k);return d(b["$include?"](".."))?(b=l(b.$split("..",2),"map",[],"to_i".$to_proc()),c=a.to_ary(b),e=null==c[0]?k:c[0],c=null==c[1]?k:c[1],b,c["$=="](-1)?(P["$<<"](e),P["$<<"](1/0)):P.$concat(a.const_get_qualified("::","Range").$new(e,c).$to_a())):P["$<<"](b.$to_i())},x.$$s=A,x.$$arity=1,x)),P=P.$sort().$uniq()):
d(N["$has_key?"]("tag"))?K=[N["$[]"]("tag")].$to_set():d(N["$has_key?"]("tags"))&&(K=N["$[]"]("tags").$split(a.const_get_relative(y,"DataDelimiterRx")).$to_set()));if(d(P)){if(!d(P["$empty?"]())){M=[];T=W=0;try{(function(){var c=a.new_brk();try{return l(A,"open",[Q,"r"],(C=function(c){var e=C.$$s||this,f;null==c&&(c=k);return function(){var g=a.new_brk();try{return l(c,"each_line",[],(f=function(e){var f,l=k;null==e&&(e=k);T=b(T,1);l=P["$[]"](0);if(d(d(f=a.const_get_qualified("::","Float")["$==="](l))?
l["$infinite?"]():f))return M.$push(e),W["$=="](0)?W=T:k;c.$lineno()["$=="](l)&&(M.$push(e),W["$=="](0)&&(W=T),P.$shift());if(d(P["$empty?"]()))a.brk(k,g);else return k},f.$$s=e,f.$$brk=g,f.$$arity=1,f))}catch(m){if(m===g)return m.$v;throw m;}}()},C.$$s=A,C.$$brk=c,C.$$arity=1,C))}catch(e){if(e===c)return e.$v;throw e;}})()}catch(Z){if(a.rescue(Z,[a.const_get_relative(y,"StandardError")]))try{return A.$warn("asciidoctor: WARNING: "+A.$line_info()+": include "+O+" not readable: "+Q),A.$replace_next_line("Unresolved directive in "+
A.path+" - include::"+H+"["+e+"]"),!0}finally{a.pop_exception()}else throw Z;}A.$advance();A.$push_include(M,Q,z,W,N)}}else if(d(K)){if(!d(K["$empty?"]())){M=[];T=W=0;S=k;ba=a.const_get_qualified("::","Set").$new();try{(function(){var c=a.new_brk();try{return l(A,"open",[Q,"r"],(B=function(c){var e=B.$$s||this,f;null==c&&(c=k);return function(){var g=a.new_brk();try{return l(c,"each_line",[],(f=function(c){var e=f.$$s||this,g,m,n=k;null==c&&(c=k);T=b(T,1);d(a.const_get_relative(y,"FORCE_ENCODING"))&&
c.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"));c=c.$rstrip();n=c.$chomp("--\x3e").$rstrip();if(d(S)){if(d(n["$end_with?"]("end::"+S+"[]")))return S=k;d(d(g=n["$end_with?"]("[]"))?a.const_get_relative(y,"TagDirectiveRx")["$=~"](n):g)||M.$push(c);return W["$=="](0)?W=T:k}return d(d(g=n["$end_with?"]("[]"))?a.const_get_relative(y,"TagDirectiveRx")["$=~"](n):g)?function(){var b=a.new_brk();try{return l(K,"each",[],(m=function(c){null==c&&(c=k);if(d(n["$end_with?"]("tag::"+
c+"[]")))S=c,ba["$<<"](c),a.brk(k,b);else return k},m.$$s=e,m.$$brk=b,m.$$arity=1,m))}catch(c){if(c===b)return c.$v;throw c;}}():k},f.$$s=e,f.$$brk=g,f.$$arity=1,f))}catch(m){if(m===g)return m.$v;throw m;}}()},B.$$s=A,B.$$brk=c,B.$$arity=1,B))}catch(e){if(e===c)return e.$v;throw e;}})()}catch(Z){if(a.rescue(Z,[a.const_get_relative(y,"StandardError")]))try{return A.$warn("asciidoctor: WARNING: "+A.$line_info()+": include "+O+" not readable: "+Q),A.$replace_next_line("Unresolved directive in "+A.path+
" - include::"+H+"["+e+"]"),!0}finally{a.pop_exception()}else throw Z;}d((da=q(K.$to_a(),ba.$to_a()))["$empty?"]())||A.$warn("asciidoctor: WARNING: "+A.$line_info()+": tag"+(d(m(da.$size(),1))?"s":k)+" '"+p(da,",")+"' not found in include "+O+": "+Q);A.$advance();A.$push_include(M,Q,z,W,N)}}else try{aa=l(A,"open",[Q,"r"],(G=function(a){null==a&&(a=k);return a.$read()},G.$$s=A,G.$$arity=1,G)),A.$advance(),A.$push_include(aa,Q,z,1,N)}catch(Z){if(a.rescue(Z,[a.const_get_relative(y,"StandardError")]))try{A.$warn("asciidoctor: WARNING: "+
A.$line_info()+": include "+O+" not readable: "+Q),A.$replace_next_line("Unresolved directive in "+A.path+" - include::"+H+"["+e+"]")}finally{a.pop_exception()}else throw Z;}return!0}return!1},N.$$arity=2);a.defn(e,"$push_include",P=function(c,e,f,g,l){var m=k,n=k;null==e&&(e=k);null==f&&(f=k);null==g&&(g=1);null==l&&(l=r([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);d(e)?(this.file=e,this.dir=a.const_get_relative(y,"File").$dirname(e),
this.process_lines=a.const_get_relative(y,"ASCIIDOC_EXTENSIONS")["$[]"](a.const_get_qualified("::","File").$extname(e))):(this.file=k,this.dir=".",this.process_lines=!0);d(f)?(this.includes["$<<"](a.const_get_relative(y,"Helpers").$rootname(f)),e=f):e="<stdin>";this.path=e;this.lineno=g;d(l["$has_key?"]("depth"))&&(m=l["$[]"]("depth").$to_i(),d("number"===typeof m?0>=m:m["$<="](0))&&(m=1),this.maxdepth=r(["abs","rel"],{abs:b(q(this.include_stack.$size(),1),m),rel:m}));d((this.lines=this.$prepare_lines(c,
r(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:l["$[]"]("indent")})))["$empty?"]())?this.$pop_include():(d(l["$has_key?"]("leveloffset"))&&(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+l["$[]"]("leveloffset")),this.lines.$push(""),d(n=this.document.$attr("leveloffset"))?this.lines.$push(":leveloffset: "+n):this.lines.$push(":leveloffset!:"),this.lineno=q(this.lineno,2)),this.eof=!1,this.look_ahead=0);return this},P.$$arity=-2);a.defn(e,"$pop_include",S=function(){var b,
c;d(m(this.include_stack.$size(),0))&&(c=this.include_stack.$pop(),b=a.to_ary(c),this.lines=null==b[0]?k:b[0],this.file=null==b[1]?k:b[1],this.dir=null==b[2]?k:b[2],this.path=null==b[3]?k:b[3],this.lineno=null==b[4]?k:b[4],this.maxdepth=null==b[5]?k:b[5],this.process_lines=null==b[6]?k:b[6],c,this.eof=this.lines["$empty?"](),this.look_ahead=0);return k},S.$$arity=0);a.defn(e,"$include_depth",O=function(){return this.include_stack.$size()},O.$$arity=0);a.defn(e,"$exceeded_max_depth?",H=function(){var a,
b=k;return d(d(a=m(b=this.maxdepth["$[]"]("abs"),0))?f(this.include_stack.$size(),b):a)?this.maxdepth["$[]"]("rel"):!1},H.$$arity=0);a.defn(e,"$shift",L=function(){var b=L.$$p,c=k,e=k,f=k;b&&(L.$$p=null);e=0;f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];return d(this.unescape_next_line)?(this.unescape_next_line=!1,l(this,a.find_super_dispatcher(this,"shift",L,!1),c,b)["$[]"](u(1,-1,!1))):l(this,a.find_super_dispatcher(this,"shift",L,!1),c,b)},L.$$arity=0);a.defn(e,"$skip_front_matter!",
T=function(c,e){var f,g=k,m=k;null==e&&(e=!0);g=k;if(c["$[]"](0)["$=="]("---")){m=c.$dup();g=[];c.$shift();d(e)&&(this.lineno=b(this.lineno,1));for(;d(d(f=c["$empty?"]()["$!"]())?c["$[]"](0)["$!="]("---"):f);)g.$push(c.$shift()),d(e)&&(this.lineno=b(this.lineno,1));d(c["$empty?"]())?(l(c,"unshift",a.to_a(m)),d(e)&&(this.lineno=0),g=k):(c.$shift(),d(e)&&(this.lineno=b(this.lineno,1)))}return g},T.$$arity=-2);a.defn(e,"$resolve_expr_val",da=function(a){var b,c,e=k;d(d(b=d(c=a["$start_with?"]('"'))?
a["$end_with?"]('"'):c)?b:d(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):c)?(e=!0,a=a["$[]"](u(1,-1,!0))):e=!1;d(a["$include?"]("{"))&&(a=this.document.$sub_attributes(a,r(["attribute_missing"],{attribute_missing:"drop"})));return d(e)?a:d(a["$empty?"]())?k:a["$=="]("true")?!0:a["$=="]("false")?!1:d(a.$rstrip()["$empty?"]())?" ":d(a["$include?"]("."))?a.$to_f():a.$to_i()},da.$$arity=1);a.defn(e,"$include_processors?",ha=function(){var a;return d(this.include_processor_extensions["$nil?"]())?d(d(a=
this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},ha.$$arity=0);return(a.defn(e,"$to_s",na=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+
l(this.include_stack,"map",[],(a=function(a){null==a&&(a=k);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},na.$$arity=0),k)&&"to_s"})(y[0],a.const_get_relative(y,"Reader"),y)}(e[0],e)};Opal.modules["asciidoctor/section"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var p=[],q=a.nil,f=a.module,e=a.klass,k=a.send,g=a.truthy,c=a.hash2,d=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $! $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
return function(p,r){var l=[f(p,"Asciidoctor")].concat(r);(function(f,$super,l){function p(){}f=p=e(f,$super,"Section",p);var t=f.$$proto,r=[f].concat(l),u,x,y,D,B;t.level=t.document=t.parent=t.number=t.title=t.numbered=t.blocks=q;f.$attr_accessor("index");f.$attr_accessor("number");f.$attr_accessor("sectname");f.$attr_accessor("special");f.$attr_accessor("numbered");a.defn(f,"$initialize",u=function(d,e,f,l){var n,p,t=u.$$p;null==d&&(d=q);null==e&&(e=q);null==f&&(f=!0);null==l&&(l=c([],{}));t&&(u.$$p=
null);k(this,a.find_super_dispatcher(this,"initialize",u,!1),[d,"section",l],null);g(e)?this.level=e:this.level=g(d)?b(d.$level(),1):1;this.numbered=g(n=f)?m(this.level,0):n;this.special=g(n=g(p=d)?d.$context()["$=="]("section"):p)?d.$special():n;this.index=0;return this.number=1},u.$$arity=-1);a.alias(f,"name","title");a.defn(f,"$generate_id",x=function(){var c,e,f=q,k=q,l=q,m=k=q;if(g(this.document.$attributes()["$has_key?"]("sectids"))){f=g(c=this.document.$attributes()["$[]"]("idseparator"))?
c:"_";k=g(c=this.document.$attributes()["$[]"]("idprefix"))?c:"_";l=""+k+this.$title().$downcase().$gsub(a.const_get_relative(r,"InvalidSectionIdCharsRx"),f).$tr_s(f,f).$chomp(f);if(g(g(c=g(e=k["$empty?"]())?f["$empty?"]()["$!"]():e)?l["$start_with?"](f):c))for(l=l["$[]"](d(1,-1,!1));g(l["$start_with?"](f));)l=l["$[]"](d(1,-1,!1));k=l;for(m=a.const_get_relative(r,"Compliance").$unique_id_start_index();g(this.document.$references()["$[]"]("ids")["$has_key?"](k));)k=""+l+f+m,m=b(m,1);return k}return q},
x.$$arity=0);a.defn(f,"$sectnum",y=function(a,b){var c,d,e;null==a&&(a=".");null==b&&(b=q);b=g(c=b)?c:b["$=="](!1)?"":a;return g(g(c=g(d=g(e=this.level)?m(this.level,1):e)?this.parent:d)?this.parent.$context()["$=="]("section"):c)?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b},y.$$arity=-1);a.defn(f,"$<<",D=function(b){var c=D.$$p,d=q,e=q,f=q;c&&(D.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_index(b);return k(this,
a.find_super_dispatcher(this,"<<",D,!1),d,c)},D.$$arity=1);return(a.defn(f,"$to_s",B=function(){var b=B.$$p,c=q,d=c=q,e=q;b&&(B.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return g(this.title["$!="](q))?(c=g(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+c.$inspect()+", blocks: "+this.blocks.$size()+"}>"):k(this,a.find_super_dispatcher(this,"to_s",B,!1),c,b)},B.$$arity=0),q)&&"to_s"})(l[0],
a.const_get_relative(l,"AbstractBlock"),l)}(p[0],p)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],m=a.nil,p=a.module,q=a.klass,f=a.truthy,e=a.send,k=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $primary_stylesheet_name $write $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $sub $css $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(b,c){var d=[p(b,"Asciidoctor")].concat(c);
(function(b,$super,c){function d(){}var g=d=q(b,$super,"Stylesheets",d);b=g.$$proto;var h=[g].concat(c),p,t,r,x,y,B,A,F,M,Q,W,N,P,ba;b.primary_stylesheet_data=b.coderay_stylesheet_data=b.pygments_stylesheet_data=m;a.const_set(h[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(h[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(h[0],"STYLESHEETS_DATA_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(h,"DATA_PATH"),"stylesheets"));g.__instance__=g.$new();a.defs(g,"$instance",
p=function(){null==this.__instance__&&(this.__instance__=m);return this.__instance__},p.$$arity=0);a.defn(g,"$primary_stylesheet_name",t=function(){return a.const_get_relative(h,"DEFAULT_STYLESHEET_NAME")},t.$$arity=0);a.defn(g,"$primary_stylesheet_data",r=function(){var b;b=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?a.const_get_relative([],"File").$join(__dirname,"css"):"css";return!1!==($a=g.primary_stylesheet_data)&&$a!==m&&null!=$a?$a:g.primary_stylesheet_data=a.const_get_relative([],
"IO").$read(a.const_get_relative([],"File").$join(b,"asciidoctor.css")).$chomp()},r.$$arity=0);a.defn(g,"$embed_primary_stylesheet",x=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},x.$$arity=0);a.defn(g,"$write_primary_stylesheet",y=function(b){var c;return e(a.const_get_qualified("::","File"),"open",[a.const_get_qualified("::","File").$join(b,this.$primary_stylesheet_name()),"w"],(c=function(a){var b=c.$$s||this;null==a&&(a=m);return a.$write(b.$primary_stylesheet_data())},
c.$$s=this,c.$$arity=1,c))},y.$$arity=1);a.defn(g,"$coderay_stylesheet_name",B=function(){return"coderay-asciidoctor.css"},B.$$arity=0);a.defn(g,"$coderay_stylesheet_data",A=function(){var b;return this.coderay_stylesheet_data=f(b=this.coderay_stylesheet_data)?b:a.const_get_qualified("::","IO").$read(a.const_get_qualified("::","File").$join(a.const_get_relative(h,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},A.$$arity=0);a.defn(g,"$embed_coderay_stylesheet",F=function(){return"<style>\n"+
this.$coderay_stylesheet_data()+"\n</style>"},F.$$arity=0);a.defn(g,"$write_coderay_stylesheet",M=function(b){var c;return e(a.const_get_qualified("::","File"),"open",[a.const_get_qualified("::","File").$join(b,this.$coderay_stylesheet_name()),"w"],(c=function(a){var b=c.$$s||this;null==a&&(a=m);return a.$write(b.$coderay_stylesheet_data())},c.$$s=this,c.$$arity=1,c))},M.$$arity=1);a.defn(g,"$pygments_stylesheet_name",Q=function(b){var c;null==b&&(b=m);return"pygments-"+(f(c=b)?c:a.const_get_relative(h,
"DEFAULT_PYGMENTS_STYLE"))+".css"},Q.$$arity=-1);a.defn(g,"$pygments_stylesheet_data",W=function(b){var c,d;c=m;null==b&&(b=m);return f(this.$load_pygments())?(f(c=(this.pygments_stylesheet_data=f(d=this.pygments_stylesheet_data)?d:k([],{}))["$[]"](f(d=b)?d:a.const_get_relative(h,"DEFAULT_PYGMENTS_STYLE")))?b=c:(c=[f(d=b)?d:a.const_get_relative(h,"DEFAULT_PYGMENTS_STYLE"),a.const_get_qualified("::","Pygments").$css(".listingblock .pygments",k(["classprefix","style"],{classprefix:"tok-",style:f(d=
b)?d:a.const_get_relative(h,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],e(this.pygments_stylesheet_data=f(d=this.pygments_stylesheet_data)?d:k([],{}),"[]=",a.to_a(c)),b=c,d=c.length,d="number"===typeof d?d-1:d["$-"](1),b=b[d]),b):"/* Pygments styles disabled. Pygments is not available. */"},W.$$arity=-1);a.defn(g,"$embed_pygments_stylesheet",N=function(a){null==a&&(a=m);return"<style>\n"+this.$pygments_stylesheet_data(a)+
"\n</style>"},N.$$arity=-1);a.defn(g,"$write_pygments_stylesheet",P=function(b,c){var d;null==c&&(c=m);return e(a.const_get_qualified("::","File"),"open",[a.const_get_qualified("::","File").$join(b,this.$pygments_stylesheet_name(c)),"w"],(d=function(a){var b=d.$$s||this;null==a&&(a=m);return a.$write(b.$pygments_stylesheet_data(c))},d.$$s=this,d.$$arity=1,d))},P.$$arity=-2);return(a.defn(g,"$load_pygments",ba=function(){return f(a.const_get_qualified("::","Pygments","skip_raise")?"constant":m)?!0:
a.const_get_relative(h,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},ba.$$arity=0),m)&&"load_pygments"})(d[0],null,d)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?
a/b:a["$/"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=[],k=a.nil,g=a.module,c=a.klass,d=a.hash2,r=a.send,u=a.truthy,l=a.range;a.add_stubs("$attr_accessor $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $shift $style= $head= $pop $foot= $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $!= $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cellspec $cell_open? $close_cell $advance $take_cellspec $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_column_visits".split(" "));
return function(e,x){var y=[g(e,"Asciidoctor")].concat(x);(function(e,$super,g){function l(){}e=l=c(e,$super,"Table",l);var n=e.$$proto,x=[e].concat(g),y,B,A,Q,W;n.attributes=n.document=n.has_header_option=n.rows=n.columns=k;(function(b,$super,d){function e(){}b=e=c(b,$super,"Rows",e);[b].concat(d);var f;b.$attr_accessor("head","foot","body");a.defn(b,"$initialize",f=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},f.$$arity=-1);return a.alias(b,
"[]","send")})(x[0],null,x);a.const_set(x[0],"DEFAULT_DATA_FORMAT","psv");a.const_set(x[0],"DATA_FORMATS",["psv","dsv","csv"]);a.const_set(x[0],"DEFAULT_DELIMITERS",d(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.const_set(x[0],"TEXT_STYLES",d("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.const_set(x[0],"ALIGNMENTS",d(["h","v"],{h:d(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:d(["<",">","^"],{"<":"top",">":"bottom",
"^":"middle"})}));e.$attr_accessor("columns");e.$attr_accessor("rows");e.$attr_accessor("has_header_option");a.defn(e,"$initialize",y=function(c,d){var e,f,g=k,l=k,n=k;y.$$p&&(y.$$p=null);r(this,a.find_super_dispatcher(this,"initialize",y,!1),[c,"table"],null);this.rows=a.const_get_relative(x,"Rows").$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");u(g=d["$[]"]("width"))?u(u(e=b(l=g.$to_i(),100))?e:"number"===typeof l?1>l:l["$<"](1))&&!u((e=l["$=="](0))?u(f=g["$=="]("0"))?
f:g["$=="]("0%"):l["$=="](0))&&(l=100):l=100;n=["tablepcwidth",l];r(this.attributes,"[]=",a.to_a(n));n[m(n.length,1)];u(this.document.$attributes()["$key?"]("pagewidth"))&&(u(e=this.attributes["$[]"]("tableabswidth"))?e:(n=["tableabswidth",p(q(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()],r(this.attributes,"[]=",a.to_a(n)),n[m(n.length,1)]));return u(d["$key?"]("rotate-option"))?(n=["orientation","landscape"],r(d,"[]=",a.to_a(n)),n[m(n.length,
1)]):k},y.$$arity=2);a.defn(e,"$header_row?",B=function(){var a;return u(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},B.$$arity=0);a.defn(e,"$create_columns",A=function(b){var c,d=k,e=k,g=k,d=[],e=0;r(b,"each",[],(c=function(b){var g=c.$$s||this;null==b&&(b=k);e=f(e,b["$[]"]("width"));return d["$<<"](a.const_get_relative(x,"Column").$new(g,d.$size(),b))},c.$$s=this,c.$$arity=1,c));u((this.columns=d)["$empty?"]())||(g=["colcount",d.$size()],r(this.attributes,"[]=",a.to_a(g)),g[m(g.length,
1)],this.$assign_column_widths(e["$=="](0)?k:e));return k},A.$$arity=1);a.defn(e,"$assign_column_widths",Q=function(a){var b,c,d=k,e=k,g=k;null==a&&(a=k);d=10["$**"](4);e=g=0;u(a)?r(this.columns,"each",[],(b=function(b){null==b&&(b=k);return e=f(e,g=b.$assign_width(k,a,d))},b.$$s=this,b.$$arity=1,b)):(g=q(q(p(100,d),this.columns.$size()).$to_i(),d),g.$to_i()["$=="](g)&&(g=g.$to_i()),r(this.columns,"each",[],(c=function(a){null==a&&(a=k);return e=f(e,a.$assign_width(g))},c.$$s=this,c.$$arity=1,c)));
e["$=="](100)||this.columns["$[]"](-1).$assign_width(q(p(f(m(100,e),g),d).$round(),d));return k},Q.$$arity=-1);return(a.defn(e,"$partition_header_footer",W=function(c){var d,e,f=k,g=k,l=k,f=["rowcount",this.rows.$body().$size()];r(this.attributes,"[]=",a.to_a(f));f[m(f.length,1)];g=this.rows.$body().$size();u(u(d=b(g,0))?this.has_header_option:d)&&(l=this.rows.$body().$shift(),g=m(g,1),r(l,"each",[],(e=function(b){null==b&&(b=k);f=[k];r(b,"style=",a.to_a(f));return f[m(f.length,1)]},e.$$s=this,e.$$arity=
1,e)),f=[[l]],r(this.rows,"head=",a.to_a(f)),f[m(f.length,1)]);u(u(d=b(g,0))?c["$key?"]("footer-option"):d)&&(f=[[this.rows.$body().$pop()]],r(this.rows,"foot=",a.to_a(f)),f[m(f.length,1)]);return k},W.$$arity=1),k)&&"partition_header_footer"})(y[0],a.const_get_relative(y,"AbstractBlock"),y);(function(b,$super,e){function g(){}b=g=c(b,$super,"Column",g);var h=b.$$proto;[b].concat(e);var l,n;h.attributes=k;b.$attr_accessor("style");a.defn(b,"$initialize",l=function(b,c,e){var g,h=l.$$p,n=k;null==e&&
(e=d([],{}));h&&(l.$$p=null);r(this,a.find_super_dispatcher(this,"initialize",l,!1),[b,"column"],null);this.style=e["$[]"]("style");n=["colnumber",f(c,1)];r(e,"[]=",a.to_a(n));n[m(n.length,1)];u(g=e["$[]"]("width"))?g:(n=["width",1],r(e,"[]=",a.to_a(n)),n[m(n.length,1)]);u(g=e["$[]"]("halign"))?g:(n=["halign","left"],r(e,"[]=",a.to_a(n)),n[m(n.length,1)]);u(g=e["$[]"]("valign"))?g:(n=["valign","top"],r(e,"[]=",a.to_a(n)),n[m(n.length,1)]);return this.$update_attributes(e)},l.$$arity=-3);a.alias(b,
"table","parent");return(a.defn(b,"$assign_width",n=function(b,c,d){var e=k;null==c&&(c=k);null==d&&(d=1E4);u(c)&&(b=q(p(p(q(this.attributes["$[]"]("width").$to_f(),c),100),d).$to_i(),d),b.$to_i()["$=="](b)&&(b=b.$to_i()));e=["colpcwidth",b];r(this.attributes,"[]=",a.to_a(e));e[m(e.length,1)];u(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(e=["colabswidth",p(q(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],r(this.attributes,"[]=",a.to_a(e)),e[m(e.length,1)]);return b},
n.$$arity=-2),k)&&"assign_width"})(a.const_get_relative(y,"Table"),a.const_get_relative(y,"AbstractNode"),y);(function(b,$super,e){function f(){}b=f=c(b,$super,"Cell",f);var g=b.$$proto,h=[b].concat(e),l,n,p,q;g.style=g.document=g.text=g.inner_document=g.colspan=g.rowspan=g.attributes=k;b.$attr_accessor("style");b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.defn(b,"$initialize",l=function(b,c,e,f){var g=l.$$p,n=k,p=k,q=k,v=
k,n=k;null==e&&(e=d([],{}));null==f&&(f=k);g&&(l.$$p=null);r(this,a.find_super_dispatcher(this,"initialize",l,!1),[b,"cell"],null);this.text=c;this.rowspan=this.colspan=this.style=k;u(b)&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));u(e)&&(this.colspan=e.$delete("colspan"),this.rowspan=e.$delete("rowspan"),u(e["$key?"]("style"))&&(this.style=e["$[]"]("style")),this.$update_attributes(e));if(u((c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():
this.style["$=="]("asciidoc"))){n=this.document.$attributes().$delete("doctitle");p=this.text.$split(a.const_get_relative(h,"EOL"));u(u(c=p["$empty?"]())?c:p["$[]"](0)["$include?"]("::")["$!"]())||(q=p["$[]"](0),v=a.const_get_relative(h,"PreprocessorReader").$new(this.document,q).$readlines(),u(v["$!="](q))&&(p.$shift(),r(p,"unshift",a.to_a(v))));this.inner_document=a.const_get_relative(h,"Document").$new(p,d(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:f}));if(u(n["$nil?"]()))return k;
n=["doctitle",n];r(this.document.$attributes(),"[]=",a.to_a(n));return n[m(n.length,1)]}return k},l.$$arity=-3);a.defn(b,"$text",n=function(){return this.$apply_normal_subs(this.text).$strip()},n.$$arity=0);a.defn(b,"$content",p=function(){var b;return this.style["$=="]("asciidoc")?this.inner_document.$convert():r(this.$text().$split(a.const_get_relative(h,"BlankLineRx")),"map",[],(b=function(c){var e=b.$$s||this,f;null==e.style&&(e.style=k);null==c&&(c=k);return u(u(f=e.style["$!"]())?f:e.style["$=="]("header"))?
c:a.const_get_relative(h,"Inline").$new(e.$parent(),"quoted",c,d(["type"],{type:e.style})).$convert()},b.$$s=this,b.$$arity=1,b))},p.$$arity=0);return(a.defn(b,"$to_s",q=function(){var b,c=q.$$p,d=k,e=k,f=k;c&&(q.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return""+r(this,a.find_super_dispatcher(this,"to_s",q,!1),d,c).$to_s()+" - [text: "+this.text+", colspan: "+(u(b=this.colspan)?b:1)+", rowspan: "+(u(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},q.$$arity=
0),k)&&"to_s"})(a.const_get_relative(y,"Table"),a.const_get_relative(y,"AbstractNode"),y);(function(e,$super,g){function n(){}e=n=c(e,$super,"ParserContext",n);var p=e.$$proto,q=[e].concat(g),v,x,y,B,A,F,P,S,O,H,L,T,da,ha,na,J,fa,ja,Y;p.format=p.delimiter=p.delimiter_re=p.buffer=p.cellspecs=p.cell_open=p.last_cursor=p.table=p.current_row=p.colcount=p.column_visits=p.active_rowspans=p.linenum=k;e.$attr_accessor("table");e.$attr_accessor("format");e.$attr_reader("colcount");e.$attr_accessor("buffer");
e.$attr_reader("delimiter");e.$attr_reader("delimiter_re");a.defn(e,"$initialize",v=function(b,c,e){var f;null==e&&(e=d([],{}));this.reader=b;this.table=c;this.last_cursor=b.$cursor();u(this.format=e["$[]"]("format"))?u(a.const_get_qualified(a.const_get_relative(q,"Table"),"DATA_FORMATS")["$include?"](this.format))||this.$raise("Illegal table format: "+this.format):this.format=a.const_get_qualified(a.const_get_relative(q,"Table"),"DEFAULT_DATA_FORMAT");this.delimiter=u(u(f=this.format["$=="]("psv")?
e["$key?"]("separator")["$!"]():this.format["$=="]("psv"))?c.$document()["$nested?"]():f)?"!":u(f=e["$[]"]("separator"))?f:a.const_get_qualified(a.const_get_relative(q,"Table"),"DEFAULT_DELIMITERS")["$[]"](this.format);this.delimiter_re=new RegExp(a.const_get_relative(q,"Regexp").$escape(this.delimiter));this.colcount=u(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=
-1},v.$$arity=-3);a.defn(e,"$starts_with_delimiter?",x=function(a){return a["$start_with?"](this.delimiter)},x.$$arity=1);a.defn(e,"$match_delimiter",y=function(a){return this.delimiter_re.$match(a)},y.$$arity=1);a.defn(e,"$skip_matched_delimiter",B=function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(u(b)?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()},B.$$arity=-2);a.defn(e,"$buffer_has_unclosed_quotes?",A=function(a){var b,c,d=k;null==a&&(a=k);d=(""+this.buffer+
a).$strip();return u(b=u(c=d["$start_with?"]('"'))?d["$start_with?"]('""')["$!"]():c)?d["$end_with?"]('"')["$!"]():b},A.$$arity=-1);a.defn(e,"$buffer_quoted?",F=function(){var a;this.buffer=this.buffer.$lstrip();return u(a=this.buffer["$start_with?"]('"'))?this.buffer["$start_with?"]('""')["$!"]():a},F.$$arity=0);a.defn(e,"$take_cellspec",P=function(){return this.cellspecs.$shift()},P.$$arity=0);a.defn(e,"$push_cellspec",S=function(a){var b;null==a&&(a=d([],{}));this.cellspecs["$<<"](u(b=a)?b:d([],
{}));return k},S.$$arity=-1);a.defn(e,"$keep_cell_open",O=function(){this.cell_open=!0;return k},O.$$arity=0);a.defn(e,"$mark_cell_closed",H=function(){this.cell_open=!1;return k},H.$$arity=0);a.defn(e,"$cell_open?",L=function(){return this.cell_open},L.$$arity=0);a.defn(e,"$cell_closed?",T=function(){return this.cell_open["$!"]()},T.$$arity=0);a.defn(e,"$close_open_cell",da=function(a){null==a&&(a=d([],{}));this.$push_cellspec(a);u(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return k},
da.$$arity=-1);a.defn(e,"$close_cell",ha=function(c){try{var e,g,n=k,p=k,v=k;null==c&&(c=!1);n=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(p=this.$take_cellspec(),u(p)?v=u(e=p.$delete("repeatcol"))?e:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),p=d([],{}),v=1)):(p=k,v=1,this.format["$=="]("csv")&&u(u(e=n["$empty?"]()["$!"]())?n["$include?"]('"'):e)&&(u(u(e=n["$start_with?"]('"'))?n["$end_with?"]('"'):
e)&&(n=n["$[]"](l(1,-1,!0)).$strip()),n=n.$tr_s('"','"')));r(1,"upto",[v],(g=function(d){var e=g.$$s||this,l,x,y,B,C=k,A=k,F=k,C=k;null==e.colcount&&(e.colcount=k);null==e.table&&(e.table=k);null==e.current_row&&(e.current_row=k);null==e.last_cursor&&(e.last_cursor=k);null==e.reader&&(e.reader=k);null==e.column_visits&&(e.column_visits=k);null==e.linenum&&(e.linenum=k);null==d&&(d=k);e.colcount["$=="](-1)?(e.table.$columns()["$<<"](C=a.const_get_qualified(a.const_get_relative(q,"Table"),"Column").$new(e.table,
m(f(e.table.$columns().$size(),d),1))),u(u(l=u(x=p)?p["$key?"]("colspan"):x)?b(A=m(p["$[]"]("colspan").$to_i(),1),0):l)&&(F=e.table.$columns().$size(),r(A,"times",[],(y=function(b){var c=y.$$s||this;null==c.table&&(c.table=k);null==b&&(b=k);return c.table.$columns()["$<<"](a.const_get_qualified(a.const_get_relative(q,"Table"),"Column").$new(c.table,f(F,b)))},y.$$s=e,y.$$arity=1,y)))):u(C=e.table.$columns()["$[]"](e.current_row.$size()))||(e.$warn("asciidoctor: ERROR: "+e.last_cursor.$line_info()+
": dropping cell because it exceeds specified number of columns"),a.ret(k));C=a.const_get_qualified(a.const_get_relative(q,"Table"),"Cell").$new(C,n,p,e.last_cursor);e.last_cursor=e.reader.$cursor();u(u(l=C.$rowspan()["$!"]())?l:C.$rowspan()["$=="](1))||e.$activate_rowspan(C.$rowspan(),u(l=C.$colspan())?l:1);e.column_visits=f(e.column_visits,u(l=C.$colspan())?l:1);e.current_row["$<<"](C);return u(u(l=e["$end_of_row?"]())?u(x=u(B=e.colcount["$!="](-1))?B:b(e.linenum,0))?x:u(B=c)?d["$=="](v):B:l)?e.$close_row():
k},g.$$s=this,g.$$arity=1,g));this.cell_open=!1;return k}catch(x){if(x===a.returner)return x.$v;throw x;}},ha.$$arity=-1);a.defn(e,"$close_row",na=function(){var b,c=k;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();u(b=this.active_rowspans["$[]"](0))?b:(c=[0,0],r(this.active_rowspans,"[]=",a.to_a(c)),c[m(c.length,1)]);return k},na.$$arity=0);a.defn(e,"$activate_rowspan",
J=function(b,c){var d;r((1).$upto(m(b,1)),"each",[],(d=function(b){var e=d.$$s||this,g,h=k;null==e.active_rowspans&&(e.active_rowspans=k);null==b&&(b=k);h=[b,f(u(g=e.active_rowspans["$[]"](b))?g:0,c)];r(e.active_rowspans,"[]=",a.to_a(h));return h[m(h.length,1)]},d.$$s=this,d.$$arity=1,d));return k},J.$$arity=2);a.defn(e,"$end_of_row?",fa=function(){var a;return u(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},fa.$$arity=0);a.defn(e,"$effective_column_visits",
ja=function(){return f(this.column_visits,this.active_rowspans["$[]"](0))},ja.$$arity=0);return(a.defn(e,"$advance",Y=function(){return this.linenum=f(this.linenum,1)},Y.$$arity=0),k)&&"advance"})(a.const_get_relative(y,"Table"),null,y)}(e[0],e)};(function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,
b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var f=a.top,e=[],k=a.nil,g=a.truthy,c=a.gvars,d=a.module,r=a.hash2,u=a.send,l=a.range,n=a.hash;null==c[":"]&&(c[":"]=k);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $- $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $utc $at $to_i $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
g(a.const_get_relative(e,"RUBY_ENGINE","skip_raise")?"constant":k)||a.const_set(e[0],"RUBY_ENGINE","unknown");a.const_set(e[0],"RUBY_ENGINE_OPAL",a.const_get_relative(e,"RUBY_ENGINE")["$=="]("opal"));a.const_set(e[0],"RUBY_ENGINE_JRUBY",a.const_get_relative(e,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(e[0],"RUBY_MIN_VERSION_1_9",b(a.const_get_relative(e,"RUBY_VERSION"),"1.9"));a.const_set(e[0],"RUBY_MIN_VERSION_2",b(a.const_get_relative(e,"RUBY_VERSION"),"2"));f.$require("set");a.const_get_relative(e,
"RUBY_ENGINE")["$=="]("opal")?f.$require("asciidoctor/opal_ext"):k;c[":"].$unshift(a.const_get_relative(e,"File").$dirname("asciidoctor"));(function(c,e){var f=d(c,"Asciidoctor"),t=[f].concat(e),x,y,B=k,A=k,aa=k;a.const_set(t[0],"RUBY_ENGINE",a.const_get_qualified("::","RUBY_ENGINE"));(function(b,c){var e=[d(b,"SafeMode")].concat(c);a.const_set(e[0],"UNSAFE",0);a.const_set(e[0],"SAFE",1);a.const_set(e[0],"SERVER",10);a.const_set(e[0],"SECURE",20)})(t[0],t);(function(b,c){var e=d(b,"Compliance"),f=
[e].concat(c),g;e.keys=a.const_get_qualified("::","Set").$new();(function(a,b){[a].concat(b);return a.$attr("keys")})(a.get_singleton_class(e),f);a.defs(e,"$define",g=function(b,c){null==this.keys&&(this.keys=k);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(f);d.$send("attr_accessor",b);this.keys["$<<"](b);return k},g.$$arity=2);e.$define("block_terminates_paragraph",!0);e.$define("strict_verbatim_paragraphs",!0);e.$define("underline_style_section_titles",!0);e.$define("unwrap_standalone_preamble",
!0);e.$define("attribute_missing","skip");e.$define("attribute_undefined","drop-line");e.$define("shorthand_property_syntax",!0);e.$define("unique_id_start_index",2);e.$define("markdown_syntax",!0)})(t[0],t);a.const_set(t[0],"ROOT_PATH",a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$expand_path("asciidoctor"))));a.const_set(t[0],"LIB_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(t,"ROOT_PATH"),"lib"));
a.const_set(t[0],"DATA_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(t,"ROOT_PATH"),"data"));try{a.const_set(t[0],"USER_HOME",a.const_get_qualified("::","Dir").$home())}catch(ta){if(a.rescue(ta,[a.const_get_relative(t,"StandardError")]))try{a.const_set(t[0],"USER_HOME",g(x=a.const_get_qualified("::","ENV")["$[]"]("HOME"))?x:a.const_get_qualified("::","Dir").$pwd())}finally{a.pop_exception()}else throw ta;}a.const_set(t[0],"COERCE_ENCODING",g(x=a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())?
a.const_get_qualified("::","RUBY_MIN_VERSION_1_9"):x);a.const_set(t[0],"FORCE_ENCODING",g(x=a.const_get_relative(t,"COERCE_ENCODING"))?a.const_get_qualified("::","Encoding").$default_external()["$!="](a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8")):x);a.const_set(t[0],"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.const_set(t[0],"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.const_set(t[0],"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.const_set(t[0],
"FORCE_UNICODE_LINE_LENGTH",a.const_get_qualified("::","RUBY_MIN_VERSION_1_9")["$!"]());a.const_set(t[0],"SUPPORTS_GSUB_RESULT_HASH",g(x=a.const_get_qualified("::","RUBY_MIN_VERSION_1_9"))?a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]():x);a.const_set(t[0],"EOL","\n");a.const_set(t[0],"NULL","\x00");a.const_set(t[0],"TAB","\t");a.const_set(t[0],"DEFAULT_DOCTYPE","article");a.const_set(t[0],"DEFAULT_BACKEND","html5");a.const_set(t[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(t[0],
"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(t[0],"BACKEND_ALIASES",r(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(t[0],"DEFAULT_PAGE_WIDTHS",r(["docbook"],{docbook:425}));a.const_set(t[0],"DEFAULT_EXTENSIONS",r(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.const_set(t[0],"ASCIIDOC_EXTENSIONS",r([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));
a.const_set(t[0],"SECTION_LEVELS",r(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(t[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(t[0],"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(t[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(t[0],"DELIMITED_BLOCKS",r('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),
{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.const_get_qualified("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.const_get_qualified("::",
"Set").$new()],",===":["table",a.const_get_qualified("::","Set").$new()],":===":["table",a.const_get_qualified("::","Set").$new()],"!===":["table",a.const_get_qualified("::","Set").$new()],"////":["comment",a.const_get_qualified("::","Set").$new()],"```":["fenced_code",a.const_get_qualified("::","Set").$new()]}));a.const_set(t[0],"DELIMITED_BLOCK_LEADERS",u(a.const_get_relative(t,"DELIMITED_BLOCKS").$keys(),"map",[],(y=function(a){null==a&&(a=k);return a["$[]"](l(0,1,!1))},y.$$s=f,y.$$arity=1,y)).$to_set());
a.const_set(t[0],"LAYOUT_BREAK_LINES",r(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.const_set(t[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(t[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(t[0],"ORDERED_LIST_KEYWORDS",r(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(t[0],
"LIST_CONTINUATION","+");a.const_set(t[0],"LINE_BREAK"," +");a.const_set(t[0],"LINE_CONTINUATION"," \\");a.const_set(t[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(t[0],"BLOCK_MATH_DELIMITERS",r(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(t[0],"INLINE_MATH_DELIMITERS",r(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.const_set(t[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_get_relative(t,"RUBY_ENGINE")["$=="]("opal")?
(a.const_set(t[0],"CC_ALPHA","a-zA-Z"),a.const_set(t[0],"CG_ALPHA","[a-zA-Z]"),a.const_set(t[0],"CC_ALNUM","a-zA-Z0-9"),a.const_set(t[0],"CG_ALNUM","[a-zA-Z0-9]"),a.const_set(t[0],"CG_BLANK","[ \\t]"),a.const_set(t[0],"CC_EOL","(?=\\n|$)"),a.const_set(t[0],"CG_GRAPH","[\\x21-\\x7E]"),a.const_set(t[0],"CC_ALL","[\\s\\S]"),a.const_set(t[0],"CC_WORD","a-zA-Z0-9_"),a.const_set(t[0],"CG_WORD","[a-zA-Z0-9_]")):k;a.const_set(t[0],"AuthorInfoLineRx",new RegExp("^("+a.const_get_relative(t,"CG_WORD")+"["+a.const_get_relative(t,
"CC_WORD")+"\\-'.]*)(?: +("+a.const_get_relative(t,"CG_WORD")+"["+a.const_get_relative(t,"CC_WORD")+"\\-'.]*))?(?: +("+a.const_get_relative(t,"CG_WORD")+"["+a.const_get_relative(t,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(t[0],"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.const_set(t[0],"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.const_set(t[0],"ManpageNamePurposeRx",new RegExp("^(.*?)"+a.const_get_relative(t,"CG_BLANK")+"+-"+a.const_get_relative(t,"CG_BLANK")+
"+(.*)$"));a.const_set(t[0],"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.const_set(t[0],"EvalExpressionRx",new RegExp("^(\\S.*?)"+a.const_get_relative(t,"CG_BLANK")+"*(==|!=|<=|>=|<|>)"+a.const_get_relative(t,"CG_BLANK")+"*(\\S.*)$"));a.const_set(t[0],"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);a.const_set(t[0],"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.const_set(t[0],"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+a.const_get_relative(t,
"CG_BLANK")+"+(.*))?$"));a.const_set(t[0],"InvalidAttributeNameCharsRx",/[^\w\-]/);a.const_set(t[0],"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.const_set(t[0],"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.const_set(t[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+a.const_get_relative(t,"CC_ALPHA")+":_]["+a.const_get_relative(t,"CC_WORD")+":.-]*)(?:,"+a.const_get_relative(t,"CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.const_set(t[0],"BlockAttributeListRx",new RegExp("^\\[(|"+
a.const_get_relative(t,"CG_BLANK")+"*["+a.const_get_relative(t,"CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.const_set(t[0],"BlockAttributeLineRx",new RegExp("^\\[(|"+a.const_get_relative(t,"CG_BLANK")+"*["+a.const_get_relative(t,"CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+a.const_get_relative(t,"CC_ALPHA")+":_]["+a.const_get_relative(t,"CC_WORD")+":.-]*(?:,"+a.const_get_relative(t,"CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.const_set(t[0],"BlockTitleRx",/^\.([^\s.].*)$/);a.const_set(t[0],"AdmonitionParagraphRx",new RegExp("^("+
m(a.const_get_relative(t,"ADMONITION_STYLES").$to_a(),"|")+"):"+a.const_get_relative(t,"CG_BLANK")));a.const_set(t[0],"LiteralParagraphRx",new RegExp("^("+a.const_get_relative(t,"CG_BLANK")+"+.*)$"));a.const_set(t[0],"CommentBlockRx",/^\/{4,}$/);a.const_set(t[0],"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.const_set(t[0],"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+a.const_get_relative(t,"CG_BLANK")+"+(\\S.*?)(?:"+a.const_get_relative(t,"CG_BLANK")+"+\\1)?$"));a.const_set(t[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+
a.const_get_relative(t,"CG_WORD")+"+.*)[^.].*?)$"));a.const_set(t[0],"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.const_set(t[0],"InlineSectionAnchorRx",new RegExp("^(.*?)"+a.const_get_relative(t,"CG_BLANK")+"+(\\\\)?\\[\\[(["+a.const_get_relative(t,"CC_ALPHA")+":_]["+a.const_get_relative(t,"CC_WORD")+":.-]*)(?:,"+a.const_get_relative(t,"CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.const_set(t[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+a.const_get_relative(t,
"CC_WORD")+"]+?"));a.const_set(t[0],"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.const_set(t[0],"AnyListRx",new RegExp("^(?:"+a.const_get_relative(t,"CG_BLANK")+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+a.const_get_relative(t,"CG_BLANK")+"|"+a.const_get_relative(t,"CG_BLANK")+"*.*?(?::{2,4}|;;)(?:$|"+a.const_get_relative(t,"CG_BLANK")+")|<?\\d+>"+a.const_get_relative(t,"CG_BLANK")+")"));a.const_set(t[0],"UnorderedListRx",new RegExp("^"+a.const_get_relative(t,"CG_BLANK")+
"*(-|\\*{1,5}|\\u2022{1,5})"+a.const_get_relative(t,"CG_BLANK")+"+(.*)$"));a.const_set(t[0],"OrderedListRx",new RegExp("^"+a.const_get_relative(t,"CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+a.const_get_relative(t,"CG_BLANK")+"+(.*)$"));a.const_set(t[0],"OrderedListMarkerRxMap",r(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(t[0],"DescriptionListRx",
new RegExp("^(?!//)"+a.const_get_relative(t,"CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+a.const_get_relative(t,"CG_BLANK")+"+(.*))?$"));a.const_set(t[0],"DescriptionListSiblingRx",r(["::",":::","::::",";;"],{"::":new RegExp("^(?!//)"+a.const_get_relative(t,"CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+a.const_get_relative(t,"CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!//)"+a.const_get_relative(t,"CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+a.const_get_relative(t,"CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!//)"+a.const_get_relative(t,
"CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+a.const_get_relative(t,"CG_BLANK")+"+(.*))?$"),";;":new RegExp("^(?!//)"+a.const_get_relative(t,"CG_BLANK")+"*(.*)(;;)(?:"+a.const_get_relative(t,"CG_BLANK")+"+(.*))?$")}));a.const_set(t[0],"CalloutListRx",new RegExp("^<?(\\d+)>"+a.const_get_relative(t,"CG_BLANK")+"+(.*)$"));a.const_set(t[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.const_set(t[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");
a.const_set(t[0],"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+a.const_get_relative(t,"CC_EOL")+")"));a.const_set(t[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+a.const_get_relative(t,"CC_EOL")+")"));a.const_set(t[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+a.const_get_relative(t,"CC_EOL")+")");a.const_set(t[0],"ListRxMap",r(["ulist","olist","dlist",
"colist"],{ulist:a.const_get_relative(t,"UnorderedListRx"),olist:a.const_get_relative(t,"OrderedListRx"),dlist:a.const_get_relative(t,"DescriptionListRx"),colist:a.const_get_relative(t,"CalloutListRx")}));a.const_set(t[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.const_set(t[0],"CellSpecStartRx",new RegExp("^"+a.const_get_relative(t,"CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.const_set(t[0],
"CellSpecEndRx",new RegExp(""+a.const_get_relative(t,"CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.const_set(t[0],"GenericBlockMacroRx",new RegExp("^("+a.const_get_relative(t,"CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.const_set(t[0],"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.const_set(t[0],"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.const_set(t[0],"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+
a.const_get_relative(t,"CC_ALPHA")+":_]["+a.const_get_relative(t,"CC_WORD")+":.-]*)(?:,"+a.const_get_relative(t,"CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.const_set(t[0],"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+a.const_get_relative(t,"CC_WORD")+":]["+a.const_get_relative(t,"CC_WORD")+":.-]*?)\\]\\]\\]"));a.const_set(t[0],"EmailInlineMacroRx",new RegExp("([\\\\>:/])?"+a.const_get_relative(t,"CG_WORD")+"["+a.const_get_relative(t,"CC_WORD")+".%+-]*@"+a.const_get_relative(t,
"CG_ALNUM")+"["+a.const_get_relative(t,"CC_ALNUM")+".-]*\\."+a.const_get_relative(t,"CG_ALPHA")+"{2,4}\\b"));a.const_set(t[0],"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+a.const_get_relative(t,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(t[0],"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.const_set(t[0],"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+a.const_get_relative(t,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+a.const_get_relative(t,
"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(t[0],"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.const_set(t[0],"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+a.const_get_relative(t,"CG_BLANK")+"*[^\\1])"));a.const_set(t[0],"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);a.const_set(t[0],"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.const_set(t[0],"StemInlineMacroRx",
new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+a.const_get_relative(t,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(t[0],"MenuInlineMacroRx",new RegExp("\\\\?menu:("+a.const_get_relative(t,"CG_WORD")+"|"+a.const_get_relative(t,"CG_WORD")+".*?\\S)\\["+a.const_get_relative(t,"CG_BLANK")+"*(.+?)?\\]"));a.const_set(t[0],"MenuInlineRx",new RegExp('\\\\?"('+a.const_get_relative(t,"CG_WORD")+'[^"]*?'+a.const_get_relative(t,"CG_BLANK")+"*&gt;"+a.const_get_relative(t,"CG_BLANK")+'*[^" \\t][^"]*)"'));
a.const_set(t[0],"PassInlineRx",n(!1,["+","`",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)\\4)(?!"+a.const_get_relative(t,"CG_WORD")+")","m")],!0,["`",k,new RegExp("(^|[^`"+a.const_get_relative(t,"CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+a.const_get_relative(t,"CC_ALL")+"*?\\S)\\4)(?![`"+a.const_get_relative(t,"CC_WORD")+"])","m")]));a.const_set(t[0],"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+
a.const_get_relative(t,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+a.const_get_relative(t,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(t[0],"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+a.const_get_relative(t,"CC_WORD")+'":./]'+a.const_get_relative(t,"CC_ALL")+"*?)&gt;&gt;|xref:(["+a.const_get_relative(t,"CC_WORD")+'":./]'+a.const_get_relative(t,"CC_ALL")+"*?)\\[("+a.const_get_relative(t,"CC_ALL")+"*?)\\])","m"));a.const_get_relative(t,"RUBY_ENGINE")["$=="]("opal")?a.const_set(t[0],"LineBreakRx",
/^(.*)[ \t]\+$/m):k;a.const_set(t[0],"LayoutBreakLineRx",/^('|<){3,}$/);a.const_set(t[0],"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.const_set(t[0],"BlankLineRx",new RegExp("^"+a.const_get_relative(t,"CG_BLANK")+"*\\n"));a.const_set(t[0],"DataDelimiterRx",/,|;/);a.const_set(t[0],"DoubleQuotedRx",/^("|)(.*)\1$/);a.const_set(t[0],"DoubleQuotedMultiRx",new RegExp('^("|)('+a.const_get_relative(t,"CC_ALL")+"*)\\1$","m"));a.const_set(t[0],"TrailingDigitsRx",/\d+$/);a.const_set(t[0],
"EscapedSpaceRx",new RegExp("\\\\("+a.const_get_relative(t,"CG_BLANK")+")"));a.const_set(t[0],"SpaceDelimiterRx",new RegExp("([^\\\\])"+a.const_get_relative(t,"CG_BLANK")+"+"));a.const_set(t[0],"SubModifierSniffRx",/[+-]/);a.const_set(t[0],"UnicodeCharScanRx",function(){a.const_get_relative(t,"RUBY_ENGINE")["$=="]("opal");return k}());a.const_set(t[0],"UriSniffRx",new RegExp("^"+a.const_get_relative(t,"CG_ALPHA")+"["+a.const_get_relative(t,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(t[0],"UriTerminator",
/[);:]$/);a.const_set(t[0],"XmlSanitizeRx",/<[^>]+>/);a.const_set(t[0],"INTRINSIC_ATTRIBUTES",r("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",
apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));B=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+a.const_get_relative(t,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)\\*(?!"+a.const_get_relative(t,"CG_WORD")+")","m")],["double","constrained",
new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+a.const_get_relative(t,"CC_ALL")+'*?\\S)`"(?!'+a.const_get_relative(t,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)`'(?!"+a.const_get_relative(t,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+a.const_get_relative(t,"CC_ALL")+"+?)``",
"m")],["monospaced","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)`(?!["+a.const_get_relative(t,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+a.const_get_relative(t,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)_(?!"+
a.const_get_relative(t,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+a.const_get_relative(t,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)#(?!"+a.const_get_relative(t,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];A=B.$dup();
aa=[2,["double","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)''(?!"+a.const_get_relative(t,"CG_WORD")+")","m")]];u(A,"[]=",a.to_a(aa));aa[p(aa.length,1)];aa=[3,["single","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)'(?!"+a.const_get_relative(t,"CG_WORD")+")","m")]];u(A,"[]=",a.to_a(aa));aa[p(aa.length,
1)];aa=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+a.const_get_relative(t,"CC_ALL")+"+?)\\+\\+","m")]];u(A,"[]=",a.to_a(aa));aa[p(aa.length,1)];aa=[5,["monospaced","constrained",new RegExp("(^|[^"+a.const_get_relative(t,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)\\+(?!"+a.const_get_relative(t,"CG_WORD")+")","m")]];u(A,"[]=",a.to_a(aa));aa[p(aa.length,1)];A.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+a.const_get_relative(t,
"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+a.const_get_relative(t,"CC_ALL")+"*?\\S)'(?!"+a.const_get_relative(t,"CG_WORD")+")","m")]);a.const_set(t[0],"QUOTE_SUBS",n(!1,B,!0,A));A=B=k;a.const_set(t[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+a.const_get_relative(t,"CG_WORD")+")\\\\?--(?="+a.const_get_relative(t,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,
"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+a.const_get_relative(t,"CG_ALNUM")+")\\\\?'(?="+a.const_get_relative(t,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,"","bounding"]]);(function(c,d){var e=[c].concat(d),f,l,m,n;a.defn(c,"$load",f=function(b,c){var d,f,h,l,m,n=this,q=k,t=k,v=k,w=k,x=k,y=k,B=
k,C=k,A=k,G=k,K=k,M=k,R=k,z=k,P=k;null==c&&(c=r([],{}));try{c=c.$dup();g(q=c["$[]"]("timings"))&&q.$start("read");t=(v=["attributes",function(){return g((w=c["$[]"]("attributes"))["$!"]())?r([],{}):g(g(d=a.const_get_qualified("::","Hash")["$==="](w))?d:g(f=a.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?a.const_get_qualified(a.const_get_qualified(a.const_get_qualified("::","Java"),"JavaUtil"),"Map")["$==="](w):f)?w.$dup():g(a.const_get_qualified("::","Array")["$==="](w))?u(w,"inject",[r([],{})],
(h=function(b,c){var d,e,f=k,h=k;null==b&&(b=k);null==c&&(c=k);e=c.$split("=",2);d=a.to_ary(e);f=null==d[0]?k:d[0];h=null==d[1]?k:d[1];e;v=[f,g(d=h)?d:""];u(b,"[]=",a.to_a(v));v[p(v.length,1)];return b},h.$$s=n,h.$$arity=2,h)):g(a.const_get_qualified("::","String")["$==="](w))?(x="\\1",w=w.$gsub(a.const_get_relative(e,"SpaceDelimiterRx"),""+x+a.const_get_relative(e,"NULL")).$gsub(a.const_get_relative(e,"EscapedSpaceRx"),x),u(w.$split(a.const_get_relative(e,"NULL")),"inject",[r([],{})],(l=function(b,
c){var d,e,f=k,h=k;null==b&&(b=k);null==c&&(c=k);e=c.$split("=",2);d=a.to_ary(e);f=null==d[0]?k:d[0];h=null==d[1]?k:d[1];e;v=[f,g(d=h)?d:""];u(b,"[]=",a.to_a(v));v[p(v.length,1)];return b},l.$$s=n,l.$$arity=2,l))):g(g(d=w["$respond_to?"]("keys"))?w["$respond_to?"]("[]"):d)?(y=w,w=r([],{}),u(y.$keys(),"each",[],(m=function(b){null==b&&(b=k);v=[b,y["$[]"](b)];u(w,"[]=",a.to_a(v));return v[p(v.length,1)]},m.$$s=n,m.$$arity=1,m)),w):n.$raise(a.const_get_qualified("::","ArgumentError"),"illegal type for attributes option: "+
w.$class().$ancestors())}()],u(c,"[]=",a.to_a(v)),v[p(v.length,1)]);B=k;if(g(a.const_get_qualified("::","File")["$==="](b)))C=a.const_get_qualified("::","File").$expand_path(b.$path()),A=g(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?a.const_get_qualified("::","Time").$at(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc():b.$mtime(),B=b.$readlines(),v=["docfile",C],u(t,"[]=",a.to_a(v)),v[p(v.length,1)],v=["docdir",a.const_get_qualified("::","File").$dirname(C)],
u(t,"[]=",a.to_a(v)),v[p(v.length,1)],v=["docname",a.const_get_relative(e,"Helpers").$basename(C,!0)],u(t,"[]=",a.to_a(v)),v[p(v.length,1)],G=g(d=t["$[]"]("docdate"))?d:(v=["docdate",A.$strftime("%Y-%m-%d")],u(t,"[]=",a.to_a(v)),v[p(v.length,1)]),K=g(d=t["$[]"]("doctime"))?d:(v=["doctime",A.$strftime("%H:%M:%S %Z")],u(t,"[]=",a.to_a(v)),v[p(v.length,1)]),v=["docdatetime",""+G+" "+K],u(t,"[]=",a.to_a(v)),v[p(v.length,1)];else if(g(b["$respond_to?"]("readlines"))){try{b.$rewind()}catch(N){if(a.rescue(N,
[a.const_get_relative(e,"StandardError")]))try{k}finally{a.pop_exception()}else throw N;}B=b.$readlines()}else g(a.const_get_qualified("::","String")["$==="](b))?B=b.$lines().$entries():g(a.const_get_qualified("::","Array")["$==="](b))?B=b.$dup():n.$raise(a.const_get_qualified("::","ArgumentError"),"unsupported input type: "+b.$class());g(q)&&(q.$record("read"),q.$start("parse"));M=c["$[]"]("parse")["$=="](!1)?a.const_get_relative(e,"Document").$new(B,c):a.const_get_relative(e,"Document").$new(B,
c).$parse();g(q)&&q.$record("parse");return M}catch(N){if(a.rescue(N,[a.const_get_relative(e,"StandardError")])){R=N;try{try{z="asciidoctor: FAILED: "+(g(d=t["$[]"]("docfile"))?d:"<stdin>")+": Failed to load AsciiDoc document",g(R["$respond_to?"]("exception"))?(P=R.$exception(""+z+" - "+R.$message()),P.$set_backtrace(R.$backtrace())):(P=R.$class().$new(z,R),v=[R.$stack_trace()],u(P,"stack_trace=",a.to_a(v)),v[p(v.length,1)])}catch(S){if(a.rescue(S,[a.const_get_relative(e,"StandardError")]))try{P=
R}finally{a.pop_exception()}else throw S;}return n.$raise(P)}finally{a.pop_exception()}}else throw N;}},f.$$arity=-2);a.defn(c,"$load_file",l=function(b,c){null==c&&(c=r([],{}));return this.$load(a.const_get_qualified("::","File").$new(g(b)?b:""),c)},l.$$arity=-2);a.defn(c,"$convert",m=function(c,d){var f,l,m,n,t,w,x=k,y=k,B=k,C=k,A=k,G=k,K=k,M=k,P=A=k,N=k,S=A=k,W=x=x=M=G=k,R=G=y=k,z=x=K=C=k,Z=B=k;null==d&&(d=r([],{}));d=d.$dup();d.$delete("parse");x=d.$delete("to_file");y=d.$delete("to_dir");B=g(f=
d.$delete("mkdirs"))?f:!1;C=d["$[]"]("timings");A=x;if((!0)["$==="](A)||k["$==="](A))G=g(f=y["$!"]())?a.const_get_qualified("::","File")["$==="](c):f,K=!1,M=y,x=k;else if((!1)["$==="](A))M=K=G=!1,x=k;else{if("/dev/null"["$==="](A))return this.$load(c,d);G=!1;K=x["$respond_to?"]("write");M=g(K)?!1:x}!g(d["$key?"]("header_footer"))&&g(g(f=G)?f:M)&&(A=["header_footer",!0],u(d,"[]=",a.to_a(A)),A[p(A.length,1)]);g(G)?(P=a.const_get_qualified("::","File").$expand_path(c.$path()),A=["to_dir",N=a.const_get_qualified("::",
"File").$dirname(P)],u(d,"[]=",a.to_a(A)),A[p(A.length,1)]):g(M)?g(y)?(A=g(x)?["to_dir",a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","File").$join(y,x)))]:["to_dir",a.const_get_qualified("::","File").$expand_path(y)],u(d,"[]=",a.to_a(A)),A[p(A.length,1)]):g(x)&&(A=["to_dir",a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$expand_path(x))],u(d,"[]=",a.to_a(A)),A[p(A.length,1)]):(A=["to_dir",k],
u(d,"[]=",a.to_a(A)),A[p(A.length,1)]);A=this.$load(c,d);g(G)?(S=a.const_get_qualified("::","File").$join(N,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix()),S["$=="](P)&&this.$raise(a.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+S)):g(M)?(G=g(d["$has_key?"]("base_dir"))?a.const_get_qualified("::","File").$expand_path(d["$[]"]("base_dir")):a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","Dir").$pwd()),M=g(b(A.$safe(),a.const_get_qualified(a.const_get_relative(e,
"SafeMode"),"SAFE")))?G:k,g(y)?(N=A.$normalize_system_path(y,G,M,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),g(x)?(S=A.$normalize_system_path(x,N,k,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),N=a.const_get_qualified("::","File").$dirname(S)):S=a.const_get_qualified("::","File").$join(N,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix())):g(x)&&(S=A.$normalize_system_path(x,G,M,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),N=a.const_get_qualified("::",
"File").$dirname(S)),g(a.const_get_qualified("::","File")["$directory?"](N))||(g(B)?a.const_get_relative(e,"Helpers").$mkdir_p(N):this.$raise(a.const_get_qualified("::","IOError"),"target directory does not exist: "+y))):(S=x,N=k);g(C)&&C.$start("convert");x=g(g(f=S)?K["$!"]():f)?r(["outfile","outdir"],{outfile:S,outdir:N}):r([],{});x=A.$convert(x);g(C)&&C.$record("convert");return g(S)?(g(C)&&C.$start("write"),A.$write(x,S),g(C)&&C.$record("write"),g(g(f=g(l=g(m=g(n=g(t=K["$!"]())?q(A.$safe(),a.const_get_qualified(a.const_get_relative(e,
"SafeMode"),"SECURE")):t)?A["$attr?"]("linkcss"):n)?A["$attr?"]("copycss"):m)?A["$attr?"]("basebackend-html"):l)?(g(l=W=A.$attr("stylesdir"))?a.const_get_relative(e,"Helpers")["$uriish?"](W):l)["$!"]():f)&&(G=y=!1,g(R=A.$attr("stylesheet"))&&(g(a.const_get_relative(e,"DEFAULT_STYLESHEET_KEYS")["$include?"](R))?y=!0:g(a.const_get_relative(e,"Helpers")["$uriish?"](R)["$!"]())&&(G=!0)),C=g(f=A["$attr?"]("source-highlighter","coderay"))?A.$attr("coderay-css","class")["$=="]("class"):f,K=g(f=A["$attr?"]("source-highlighter",
"pygments"))?A.$attr("pygments-css","class")["$=="]("class"):f,g(g(f=g(l=g(m=y)?m:G)?l:C)?f:K)&&(x=A.$normalize_system_path(W,N,g(b(A.$safe(),a.const_get_qualified(a.const_get_relative(e,"SafeMode"),"SAFE")))?N:k),g(B)&&a.const_get_relative(e,"Helpers").$mkdir_p(x),g(y)?a.const_get_relative(e,"Stylesheets").$instance().$write_primary_stylesheet(x):g(G)&&(z=g((z=A.$attr("copycss"))["$empty?"]())?A.$normalize_system_path(R):A.$normalize_system_path(z),B=A.$normalize_system_path(R,x,g(b(A.$safe(),a.const_get_qualified(a.const_get_relative(e,
"SafeMode"),"SAFE")))?N:k),g(g(f=z["$=="](B))?f:(Z=A.$read_asset(z))["$nil?"]())||u(a.const_get_qualified("::","File"),"open",[B,"w"],(w=function(a){null==a&&(a=k);return a.$write(Z)},w.$$s=this,w.$$arity=1,w))),g(C)?a.const_get_relative(e,"Stylesheets").$instance().$write_coderay_stylesheet(x):g(K)&&a.const_get_relative(e,"Stylesheets").$instance().$write_pygments_stylesheet(x,A.$attr("pygments-style")))),A):x},m.$$arity=-2);a.alias(c,"render","convert");a.defn(c,"$convert_file",n=function(b,c){null==
c&&(c=r([],{}));return this.$convert(a.const_get_qualified("::","File").$new(g(b)?b:""),c)},n.$$arity=-2);return a.alias(c,"render_file","convert_file")})(a.get_singleton_class(f),t);a.const_get_relative(t,"RUBY_ENGINE")["$=="]("opal")?(f.$require("asciidoctor/version"),f.$require("asciidoctor/timings")):k})(e[0],e);f.$require("asciidoctor/core_ext");f.$require("asciidoctor/helpers");f.$require("asciidoctor/substitutors");f.$require("asciidoctor/abstract_node");f.$require("asciidoctor/abstract_block");
f.$require("asciidoctor/attribute_list");f.$require("asciidoctor/block");f.$require("asciidoctor/callouts");f.$require("asciidoctor/converter");g(a.const_get_relative(e,"RUBY_ENGINE_OPAL"))&&f.$require("asciidoctor/converter/html5");f.$require("asciidoctor/document");f.$require("asciidoctor/inline");f.$require("asciidoctor/list");f.$require("asciidoctor/parser");f.$require("asciidoctor/path_resolver");f.$require("asciidoctor/reader");f.$require("asciidoctor/section");f.$require("asciidoctor/stylesheets");
return f.$require("asciidoctor/table")})(Opal);var q=function(a){return a&&!a.smap?Opal.hash(a):a},x=function(a){for(var b={},m=0,p=a.$$keys,q=a.$$smap,f=p.length;m<f;m++)a=p[m],b[a]=q[a];return b},A=function(a){if(a=q(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",q(b)))}return a},r=Opal.Asciidoctor.$$class;r.$$proto.getCoreVersion=function(){return this.$$const.VERSION};r.$$proto.convert=function(a,b){"object"===typeof a&&
"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var m=this.$convert(a,A(b));return m===Opal.nil?"":m};r.$$proto.convertFile=function(a,b){return this.$convert_file(a,A(b))};r.$$proto.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,A(b))};r.$$proto.loadFile=function(a,b){return this.$load_file(a,A(b))};var m=Opal.Asciidoctor.AbstractBlock;m.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?"":a};m.$$proto.getCaptionedTitle=
function(){return this.$captioned_title()};m.$$proto.getStyle=function(){return this.style};m.$$proto.getCaption=function(){return this.$caption()};m.$$proto.setCaption=function(a){this.caption=a};m.$$proto.getLevel=function(){return this.level};m.$$proto.getBlocks=function(){return this.blocks};m.$$proto.getContent=function(){return this.$content()};m.$$proto.convert=function(){return this.$convert()};m.$$proto.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,
"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[q(a)],b):this.$find_by(q(a))};m.$$proto.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};m=Opal.Asciidoctor.AbstractNode;m.$$proto.getAttributes=function(){return x(this.attributes)};m.$$proto.getAttribute=function(a,b,m){a=this.$attr(a,b,m);return a===Opal.nil?void 0:a};m.$$proto.isAttribute=function(a,b,m){a=this["$attr?"](a,b,m);return a===Opal.nil?void 0:a};m.$$proto.setAttribute=function(a,b,m){"undefined"===
typeof m&&(m=!0);return this.$set_attr(a,b,m)};"function"===typeof m.$$proto.$remove_attr&&(m.$$proto.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a});m.$$proto.getDocument=function(){return this.$document()};m.$$proto.isInline=function(){return this["$inline?"]()};m.$$proto.isBlock=function(){return this["$block?"]()};m.$$proto.isRole=function(a){return this["$role?"](a)};m.$$proto.getRole=function(){return this.$role()};m.$$proto.hasRole=function(a){return this["$has_role?"](a)};
m.$$proto.getRoles=function(){return this.$roles()};m.$$proto.addRole=function(a){return this.$add_role(a)};m.$$proto.removeRole=function(a){return this.$remove_role(a)};m.$$proto.isReftext=function(){return this["$reftext?"]()};m.$$proto.getReftext=function(){return this.$reftext()};m.$$proto.getContext=function(){var a=this.context;return a&&"function"===typeof a.$to_s?a.$to_s():a};m.$$proto.getId=function(){return this.id};m.$$proto.isOption=function(a){return this["$option?"](a)};m.$$proto.setOption=
function(a){return this.$set_option(a)};m.$$proto.getIconUri=function(a){return this.$icon_uri(a)};m.$$proto.getMediaUri=function(a,b){return this.$media_uri(a,b)};m.$$proto.getImageUri=function(a,b){return this.$image_uri(a,b)};m.$$proto.getConverter=function(){return this.$converter()};m.$$proto.readContents=function(a,b){return this.$read_contents(a,q(b))};m.$$proto.readAsset=function(a,b){return this.$read_asset(a,q(b))};m.$$proto.normalizeWebPath=function(a,b,m){return this.$normalize_web_path(a,
b,m)};m.$$proto.normalizeSystemPath=function(a,b,m,p){return this.$normalize_system_path(a,b,m,q(p))};m.$$proto.normalizeAssetPath=function(a,b,m){return this.$normalize_asset_path(a,b,m)};var y=Opal.Asciidoctor.Document;y.$$proto.getHeader=function(){return this.header};y.$$proto.setAttribute=function(a,b){return this.$set_attribute(a,b)};y.$$proto.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};y.$$proto.convert=function(a){a=this.$convert(q(a));return a===
Opal.nil?"":a};y.$$proto.write=function(a,b){return this.$write(a,b)};y.$$proto.getAuthor=function(){return this.$author()};y.$$proto.getSource=function(){return this.$source()};y.$$proto.getSourceLines=function(){return this.$source_lines()};y.$$proto.isNested=function(){return this["$nested?"]()};y.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};y.$$proto.getFootnotes=function(){return this.$footnotes()};y.$$proto.isEmbedded=function(){return this["$embedded?"]()};y.$$proto.hasExtensions=
function(){return this["$extensions?"]()};y.$$proto.getDoctype=function(){return this.$doctype()};y.$$proto.getBackend=function(){return this.$backend()};y.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};y.$$proto.getTitle=function(){return this.$title()};y.$$proto.setTitle=function(a){return this["$title="](a)};y.$$proto.getDocumentTitle=function(a){return this.$doctitle(q(a))};y.$$proto.getDoctitle=function(a){return this.getDocumentTitle(a)};y.$$proto.getCatalog=function(){return"undefined"===
typeof this.catalog?x(this.references):x(this.catalog)};y.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")};y.$$proto.getRevdate=function(){return this.getRevisionDate()};y.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")};y.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")};y.RevisionInfo=function(a,b,m){this.date=a;this.number=b;this.remark=m};m=y.RevisionInfo;m.prototype.getDate=function(){return this.date};m.prototype.getNumber=
function(){return this.number};m.prototype.getRemark=function(){return this.remark};m.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};y.$$proto.getRevisionInfo=function(){return new y.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};y.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};y.$$proto.getNotitle=function(){return this.$notitle()};y.$$proto.getNoheader=function(){return this.$noheader()};
y.$$proto.getNofooter=function(){return this.$nofooter()};y.$$proto.hasHeader=function(){return this["$header?"]()};y.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};y.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};y.$$proto.parse=function(a){return this.$parse(a)};y.$$proto.getDocinfo=function(a,b){return this.$docinfo(a,b)};y.$$proto.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};y.$$proto.counterIncrement=function(a,b){return this.$counter_increment(a,
b)};y.$$proto.counter=function(a,b){return this.$counter(a,b)};y.$$proto.getSafe=function(){return this.$safe};y.$$proto.getCompatMode=function(){return this.$compat_mode};y.$$proto.getSourcemap=function(){return this.$sourcemap};y.$$proto.getReferences=function(){return this.$references};y.$$proto.getCounters=function(){return this.$counters};y.$$proto.getCallouts=function(){return this.$callouts};y.$$proto.getBaseDir=function(){return this.$base_dir};y.$$proto.getOptions=function(){return this.$options};
y.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix};y.$$proto.getParentDocument=function(){return this.$parent_document};y.$$proto.getReader=function(){return this.$reader};y.$$proto.getConverter=function(){return this.$converter};y.$$proto.getExtensions=function(){return this.$extensions};m=y.Title;m.$$proto.getMain=function(){return this.main};m.$$proto.getCombined=function(){return this.combined};m.$$proto.getSubtitle=function(){return this.subtitle};m.$$proto.isSanitized=function(){var a=
this["$sanitized?"]();return a===Opal.nil?!1:a};m.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};m=Opal.Asciidoctor.Inline;m.$$proto.convert=function(){return this.$convert()};m.$$proto.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};m.$$proto.getType=function(){return this.$type()};m.$$proto.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};m=Opal.Asciidoctor.Reader;m.$$proto.pushInclude=function(a,b,m,p,q){return this.$push_include(a,b,m,p,
q)};m.$$proto.getCursor=function(){return this.$cursor()};m.$$proto.getLines=function(){return this.$lines()};var p=function(a){a.$$arity=a.length;return a},m=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=m;m.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"build_registry",null,p(a)):"function"===typeof b?Opal.send(this,"build_registry",[a],p(b)):this.$build_registry()};m.register=function(a,b){return"function"===typeof a&&
"undefined"===typeof b?Opal.send(this,"register",null,p(a)):Opal.send(this,"register",[a],p(b))};m.unregisterAll=function(){this.$unregister_all()};var B=m.Registry;B.$$proto.block=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"block",null,p(a)):Opal.send(this,"block",[a],p(b))};B.$$proto.inlineMacro=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"inline_macro",null,p(a)):Opal.send(this,"inline_macro",[a],p(b))};B.$$proto.includeProcessor=
function(a){return Opal.send(this,"include_processor",null,p(a))};B.$$proto.blockMacro=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"block_macro",null,p(a)):Opal.send(this,"block_macro",[a],p(b))};B.$$proto.treeProcessor=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"treeprocessor",null,p(a)):Opal.send(this,"treeprocessor",[a],p(b))};B.$$proto.postprocessor=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,
"postprocessor",null,p(a)):Opal.send(this,"postprocessor",[a],p(b))};B.$$proto.preprocessor=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"preprocessor",null,p(a)):Opal.send(this,"preprocessor",[a],p(b))};B.$$proto.docinfoProcessor=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"docinfo_processor",null,p(a)):Opal.send(this,"docinfo_processor",[a],p(b))};B=m.Processor;B.$$proto.process=function(a){return Opal.send(this,"process",
null,p(a))};B.$$proto.named=function(a){return this.$named(a)};B.$$proto.createBlock=function(a,b,m,p,r){return this.$create_block(a,b,m,q(p),q(r))};B.$$proto.createInline=function(a,b,m,p){return this.$create_inline(a,b,m,q(p))};B.$$proto.parseContent=function(a,b,m){return this.$parse_content(a,b,m)};B.$$proto.positionalAttributes=function(a){return"function"===typeof this.$positional_attrs?this.$positional_attrs(a):this.$positional_attributes(a)};m.BlockProcessor.$$proto.onContext=function(a){return this.$on_context(a)};
m.IncludeProcessor.$$proto.handles=function(a){return Opal.send(this,"handles?",null,p(a))};m.DocinfoProcessor.$$proto.atLocation=function(a){this.$at_location(a)};r.$$proto.getVersion=function(){return"1.5.5-5"};return Opal.Asciidoctor});
